"use strict";(self.webpackChunkable_pro_material_react=self.webpackChunkable_pro_material_react||[]).push([[2537],{2537:function(e,r,t){t.r(r),t.d(r,{default:function(){return ne}});var o=t(1413),n=t(93433),i=t(61819),s=t(15861),l=t(29439),a=t(72791),c=t(10266),d=t(13239),u=t(20890),x=t(94070),h=t(57621),p=t(39504),m=t(61889),g=t(36314),v=t(13400),f=t(94721),Z=t(697),b=t(35527),y=t(94294),j=t(81918),w=t(20068),C=t(37032),q=t(55200),k=t(49496),T=t(74223),z=t(80184),S=(0,T.Z)((0,z.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle"),A=(0,T.Z)((0,z.jsx)("path",{d:"M9 1h6v2H9zm10.03 6.39 1.42-1.42c-.43-.51-.9-.99-1.41-1.41l-1.42 1.42C16.07 4.74 14.12 4 12 4c-4.97 0-9 4.03-9 9s4.02 9 9 9 9-4.03 9-9c0-2.12-.74-4.07-1.97-5.61zM13 14h-2V8h2v6z"}),"Timer"),W=(0,T.Z)((0,z.jsx)("path",{d:"M12 17.27 18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"}),"Grade"),V=t(3710),B=t(38820),M=t(5397),I=t(96739),F=t(85667),P=t(57689),O=t(42161),H=t(36277),E=t(8007),L=t(48550),R=t(68096),Q=t(30829),_=t(58406),N=t(23786),D=t(17133),G=t(88970),Y=t(85523),U=t(61419),J=t(94454),X=function(e){var r=e.formik,t=e.onCancel,o=e.loading,i=e.isEditing,s=(0,a.useState)(r.values.questionType||"input"),c=(0,l.Z)(s,2),d=c[0],h=c[1];(0,a.useEffect)((function(){h(r.values.questionType),"radio"!==r.values.questionType||r.values.options&&0!==r.values.options.length?"checkbox"!==r.values.questionType||r.values.options&&0!==r.values.options.length||r.setFieldValue("options",["",""]):r.setFieldValue("options",["Yes","No"])}),[r.values.questionType]);var p=function(e,t){var o=(0,n.Z)(r.values.options);o[e]=t,r.setFieldValue("options",o)},b=function(){if(r.values.options.length<6){var e=[].concat((0,n.Z)(r.values.options),["Option ".concat(r.values.options.length+1)]);r.setFieldValue("options",e)}},j=function(e){if(r.values.options.length>2){var t=r.values.options.filter((function(r,t){return t!==e}));r.setFieldValue("options",t),r.values.correctAnswer===r.values.options[e]&&r.setFieldValue("correctAnswer","")}else r.setFieldError("options","At least 2 options are required")};return(0,z.jsxs)(Z.Z,{sx:{p:3,border:"1px solid #e0e0e0",borderRadius:2,bgcolor:"white"},children:[(0,z.jsxs)(g.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,z.jsx)(u.Z,{variant:"h6",children:i?"Edit Question":"Add New Question"}),(0,z.jsx)(v.Z,{onClick:t,size:"small",children:(0,z.jsx)(I.Z,{})})]}),(0,z.jsx)("form",{onSubmit:r.handleSubmit,children:(0,z.jsxs)(m.ZP,{container:!0,spacing:3,children:[(0,z.jsx)(m.ZP,{item:!0,xs:12,children:(0,z.jsx)(L.Z,{fullWidth:!0,label:"Question Title *",name:"questionTitle",value:r.values.questionTitle,onChange:r.handleChange,onBlur:r.handleBlur,error:r.touched.questionTitle&&Boolean(r.errors.questionTitle),helperText:r.touched.questionTitle&&r.errors.questionTitle,multiline:!0,rows:2,placeholder:"Enter your question here..."})}),(0,z.jsx)(m.ZP,{item:!0,xs:12,md:4,children:(0,z.jsxs)(R.Z,{fullWidth:!0,error:r.touched.questionType&&Boolean(r.errors.questionType),children:[(0,z.jsx)(Q.Z,{children:"Question Type *"}),(0,z.jsxs)(_.Z,{name:"questionType",value:r.values.questionType,onChange:function(e){var t=e.target.value;h(t),r.setFieldValue("questionType",t),r.setFieldValue("correctAnswer",""),r.setFieldValue("correctAnswers",[]),"radio"===t?r.setFieldValue("options",["Yes","No"]):"checkbox"===t?r.setFieldValue("options",["",""]):"input"===t&&r.setFieldValue("options",[])},onBlur:r.handleBlur,label:"Question Type *",children:[(0,z.jsx)(N.Z,{value:"input",children:"Text Input"}),(0,z.jsx)(N.Z,{value:"radio",children:"Single Choice (Radio)"}),(0,z.jsx)(N.Z,{value:"checkbox",children:"Multiple Choice"})]}),r.touched.questionType&&r.errors.questionType&&(0,z.jsx)(u.Z,{color:"error",variant:"caption",children:r.errors.questionType})]})}),(0,z.jsx)(m.ZP,{item:!0,xs:12,md:4,children:(0,z.jsx)(L.Z,{fullWidth:!0,label:"Marks *",type:"number",name:"mark",value:r.values.mark,onChange:r.handleChange,onBlur:r.handleBlur,error:r.touched.mark&&Boolean(r.errors.mark),helperText:r.touched.mark&&r.errors.mark,InputProps:{inputProps:{min:.5,max:10,step:.5}}})}),(0,z.jsx)(m.ZP,{item:!0,xs:12,md:4,children:(0,z.jsxs)(R.Z,{fullWidth:!0,error:r.touched.questionTime&&Boolean(r.errors.questionTime),children:[(0,z.jsx)(Q.Z,{children:"Time Limit *"}),(0,z.jsxs)(_.Z,{name:"questionTime",value:r.values.questionTime,onChange:r.handleChange,onBlur:r.handleBlur,label:"Time Limit *",children:[(0,z.jsx)(N.Z,{value:10,children:"10 seconds"}),(0,z.jsx)(N.Z,{value:20,children:"20 seconds"}),(0,z.jsx)(N.Z,{value:30,children:"30 seconds"}),(0,z.jsx)(N.Z,{value:60,children:"60 seconds"}),(0,z.jsx)(N.Z,{value:90,children:"90 seconds"})]}),r.touched.questionTime&&r.errors.questionTime&&(0,z.jsx)(u.Z,{color:"error",variant:"caption",children:r.errors.questionTime})]})}),(0,z.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,z.jsx)(f.Z,{sx:{my:2}}),(0,z.jsx)(u.Z,{variant:"subtitle1",gutterBottom:!0,children:"Answer Section"}),"input"===d&&(0,z.jsx)(L.Z,{fullWidth:!0,label:"Expected Answer (Optional)",name:"correctAnswer",value:r.values.correctAnswer||"",onChange:r.handleChange,onBlur:r.handleBlur,placeholder:"Enter the expected answer (for reference only)",helperText:"This answer is for reference and won't be shown to participants"}),"radio"===d&&(0,z.jsxs)(Z.Z,{sx:{mt:2},children:[(0,z.jsxs)(R.Z,{component:"fieldset",fullWidth:!0,error:r.touched.correctAnswer&&Boolean(r.errors.correctAnswer),children:[(0,z.jsx)(D.Z,{component:"legend",children:"Select Correct Answer *"}),(0,z.jsx)(G.Z,{value:r.values.correctAnswer||"",onChange:function(e){return t=e.target.value,void r.setFieldValue("correctAnswer",t);var t},name:"correctAnswer",children:(0,z.jsx)(m.ZP,{container:!0,spacing:2,children:r.values.options&&r.values.options.map((function(e,t){var o,n;return(0,z.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,z.jsxs)(Z.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,z.jsx)(Y.Z,{value:e,control:(0,z.jsx)(U.Z,{}),label:(0,z.jsx)(L.Z,{fullWidth:!0,size:"small",value:e,onChange:function(e){return p(t,e.target.value)},onBlur:r.handleBlur,error:r.touched.options&&(null===(o=r.errors)||void 0===o||null===(n=o.options)||void 0===n?void 0:n[t])})}),r.values.options.length>2&&(0,z.jsx)(v.Z,{size:"small",onClick:function(){return j(t)},sx:{color:"error.main"},children:(0,z.jsx)(I.Z,{fontSize:"small"})})]})},t)}))})}),r.touched.correctAnswer&&r.errors.correctAnswer&&(0,z.jsx)(u.Z,{color:"error",variant:"caption",children:r.errors.correctAnswer})]}),r.values.options&&r.values.options.length<6&&(0,z.jsx)(y.Z,{onClick:b,variant:"outlined",size:"small",sx:{mt:2},type:"button",children:"Add Option"}),r.touched.options&&r.errors.options&&"string"===typeof r.errors.options&&(0,z.jsx)(x.Z,{severity:"error",sx:{mt:1},children:r.errors.options})]}),"checkbox"===d&&(0,z.jsxs)(Z.Z,{sx:{mt:2},children:[(0,z.jsxs)(R.Z,{component:"fieldset",fullWidth:!0,error:r.touched.correctAnswer&&Boolean(r.errors.correctAnswer),children:[(0,z.jsx)(D.Z,{component:"legend",children:"Select Correct Answer *"}),(0,z.jsx)(m.ZP,{container:!0,spacing:2,children:r.values.options&&r.values.options.map((function(e,t){var o,n;return(0,z.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,z.jsxs)(Z.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,z.jsx)(Y.Z,{control:(0,z.jsx)(J.Z,{checked:r.values.correctAnswer===e,onChange:function(){return function(e){r.setFieldValue("correctAnswer",e)}(e)},name:"correctAnswer"}),label:(0,z.jsx)(L.Z,{fullWidth:!0,size:"small",value:e,onChange:function(e){return p(t,e.target.value)},onBlur:r.handleBlur,error:r.touched.options&&(null===(o=r.errors)||void 0===o||null===(n=o.options)||void 0===n?void 0:n[t])})}),r.values.options.length>2&&(0,z.jsx)(v.Z,{size:"small",onClick:function(){return j(t)},sx:{color:"error.main"},children:(0,z.jsx)(I.Z,{fontSize:"small"})})]})},t)}))}),r.touched.correctAnswer&&r.errors.correctAnswer&&(0,z.jsx)(u.Z,{color:"error",variant:"caption",children:r.errors.correctAnswer})]}),r.values.options&&r.values.options.length<6&&(0,z.jsx)(y.Z,{onClick:b,variant:"outlined",size:"small",sx:{mt:2},type:"button",children:"Add Option"}),r.touched.options&&r.errors.options&&"string"===typeof r.errors.options&&(0,z.jsx)(x.Z,{severity:"error",sx:{mt:1},children:r.errors.options})]})]}),(0,z.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,z.jsx)(f.Z,{sx:{my:2}}),(0,z.jsxs)(g.Z,{direction:"row",spacing:2,justifyContent:"flex-end",children:[(0,z.jsx)(y.Z,{onClick:t,variant:"outlined",type:"button",disabled:o,children:"Cancel"}),(0,z.jsx)(y.Z,{type:"submit",variant:"contained",color:"primary",disabled:o,children:o?"Saving...":i?"Update Question":"Add Question"})]})]})]})})]})};X.defaultProps={loading:!1,isEditing:!1};var K=X,$=t(23197),ee=t(89731),re=t(21830),te=t.n(re),oe=t(95305),ne=function(){var e,r,t,T,L=(0,P.TH)(),R=(0,P.s0)(),Q=(null===(e=L.state)||void 0===e?void 0:e.eventData)||null,_=(L.state||{}).eventId,N=(0,a.useState)(null),D=(0,l.Z)(N,2),G=D[0],Y=D[1],U=(0,a.useState)([]),J=(0,l.Z)(U,2),X=J[0],re=J[1],ne=(0,a.useState)(!1),ie=(0,l.Z)(ne,2),se=ie[0],le=ie[1],ae=(0,a.useState)(null),ce=(0,l.Z)(ae,2),de=ce[0],ue=ce[1],xe=(0,a.useState)(null),he=(0,l.Z)(xe,2),pe=he[0],me=he[1],ge=(0,a.useState)(!0),ve=(0,l.Z)(ge,2),fe=ve[0],Ze=ve[1],be=(0,a.useState)(""),ye=(0,l.Z)(be,2),je=ye[0],we=ye[1],Ce=(0,a.useState)(!1),qe=(0,l.Z)(Ce,2),ke=qe[0],Te=qe[1],ze=(0,a.useState)(!1),Se=(0,l.Z)(ze,2),Ae=Se[0],We=Se[1],Ve=E.Ry({questionTitle:E.Z_().required("Question title is required"),questionType:E.Z_().oneOf(["radio","checkbox","input"],"Invalid question type"),options:E.IX().when("questionType",{is:function(e){return"radio"===e||"checkbox"===e},then:function(e){return e.of(E.Z_().required("Option cannot be empty")).min(2,"At least 2 options are required").test("unique-options","Options must be unique",(function(e){var r=e.filter((function(e){return e&&""!==e.trim()}));return new Set(r).size===r.length}))},otherwise:function(e){return e}}),correctAnswer:E.Z_().when("questionType",{is:function(e){return"radio"===e||"checkbox"===e},then:function(e){return e.required("Correct answer is required")},otherwise:function(e){return e}}),mark:E.Rx().min(.5,"Minimum mark is 0.5").max(10,"Maximum mark is 10").required("Mark is required"),questionTime:E.Rx().min(10,"Minimum time is 10 seconds").max(90,"Maximum time is 90 seconds").required("Time is required")}),Be=(0,H.TA)({initialValues:{questionTitle:"",questionType:"radio",options:["Yes","No"],correctAnswer:"",mark:1,questionTime:30},validationSchema:Ve,enableReinitialize:!0,onSubmit:function(){var e=(0,s.Z)((0,i.Z)().mark((function e(r,t){var o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=t.resetForm,e.next=3,Ie(r,o);case 3:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}()});(0,a.useEffect)((function(){var e,r;de&&(Be.setValues({questionTitle:de.questionTitle||de.text||"",questionType:"poll"===de.question_type?"checkbox":"radio",options:de.options||(null===(e=de.config)||void 0===e?void 0:e.choices)||["Yes","No"],correctAnswer:de.correctAnswer||(null===(r=de.config)||void 0===r?void 0:r.correct)||"",mark:de.mark||de.points||1,questionTime:de.questionTime||de.timeLimit||30}),le(!0))}),[de]),(0,a.useEffect)((function(){var e=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(){var r,t,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Ze(!0),Te(!0),Y(Q),e.next=6,ee.Z.get("".concat($.t6,"api/live-quiz/questions/"),{params:{room:_}});case 6:r=e.sent,re(r.data.data||[]),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching data:",e.t0),we((null===(t=e.t0.response)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message)||"Failed to load event data");case 14:return e.prev=14,Ze(!1),Te(!1),e.finish(14);case 18:case"end":return e.stop()}}),e,null,[[0,10,14,18]])})));return function(){return e.apply(this,arguments)}}();_&&e()}),[_,Q]);var Me,Ie=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(r,t){var s,l,a,c,d,u,x,h,p,m,g,v;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,We(!0),we(""),s=X.length>0?Math.max.apply(Math,(0,n.Z)(X.map((function(e){return e.order||0}))))+1:1,l={room:_,order:s,question_type:function(e){switch(e){case"radio":return"mcq";case"checkbox":return"poll";case"input":return"text";default:return e}}(r.questionType),text:r.questionTitle,timer_seconds:r.questionTime,mark:r.mark},a={},"radio"===r.questionType||"checkbox"===r.questionType?a={choices:r.options.filter((function(e){return e&&""!==e.trim()})),correct:r.correctAnswer}:"input"===r.questionType&&(a={correct:r.correctAnswer||""}),c=(0,o.Z)((0,o.Z)({},l),{},{config:a}),!de){e.next=21;break}return c.order=de.order||s-1,e.next=13,ee.Z.patch("".concat($.t6,"api/live-quiz/questions/").concat(de.id,"/"),c);case 13:d=e.sent,u=d.data.data,x=X.map((function(e){return e.id===u.id?u:e})),re(x),ue(null),le(!1),e.next=27;break;case 21:return e.next=23,ee.Z.post("".concat($.t6,"api/live-quiz/questions/"),c);case 23:d=e.sent,h=d.data.data,re([].concat((0,n.Z)(X),[h])),le(!1);case 27:t(),e.next=34;break;case 30:e.prev=30,e.t0=e.catch(0),console.error("Error saving question:",e.t0),we((null===(p=e.t0.response)||void 0===p||null===(m=p.data)||void 0===m?void 0:m.message)||(null===(g=e.t0.response)||void 0===g||null===(v=g.data)||void 0===v?void 0:v.error)||"Failed to ".concat(de?"update":"add"," question"));case 34:return e.prev=34,We(!1),e.finish(34);case 37:case"end":return e.stop()}}),e,null,[[0,30,34,37]])})));return function(r,t){return e.apply(this,arguments)}}(),Fe=function(){var e=(0,s.Z)((0,i.Z)().mark((function e(r){var t,o;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{Te(!0),te().fire({title:"Delete Question",text:"Are you sure you want to delete this question?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then(function(){var e=(0,s.Z)((0,i.Z)().mark((function e(t){var o,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isConfirmed){e.next=5;break}return e.next=3,ee.Z.delete("".concat($.t6,"api/live-quiz/questions/").concat(r,"/"));case 3:(o=e.sent).data.success?(te().fire("Deleted!","The question has been deleted.","success"),n=X.filter((function(e){return e.id!==r})),re(n),we("")):te().fire("Error!",o.data.message,"error");case 5:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}())}catch(n){console.error("Error deleting question:",n),we((null===(t=n.response)||void 0===t||null===(o=t.data)||void 0===o?void 0:o.message)||"Failed to delete question")}finally{Te(!1)}case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}();return fe?(0,z.jsx)(c.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:(0,z.jsx)(d.Z,{})}):G?(0,z.jsxs)(c.Z,{maxWidth:"lg",sx:{mt:4,mb:4},children:[je&&(0,z.jsx)(x.Z,{severity:"error",sx:{mb:3},onClose:function(){return we("")},children:je}),(0,z.jsx)(h.Z,{sx:{mb:4,boxShadow:3},children:(0,z.jsx)(p.Z,{children:(0,z.jsxs)(m.ZP,{container:!0,spacing:3,children:[(0,z.jsxs)(m.ZP,{item:!0,xs:12,children:[(0,z.jsx)(g.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:2,children:(0,z.jsx)(u.Z,{variant:"h4",component:"h1",fontWeight:"bold",children:G.eventName})}),(0,z.jsx)(g.Z,{sx:{mb:{xs:-.5,sm:.5}},spacing:1,direction:"row",justifyContent:"flex-end",children:(0,z.jsxs)(v.Z,{variant:"contained",color:"white",size:"medium",onClick:function(){return R(-1)},sx:{width:100,gap:1,backgroundColor:"red",ml:{xs:2,sm:5},color:"white"},children:[(0,z.jsx)(O.Z,{}),"Back"]})}),(0,z.jsx)(f.Z,{sx:{my:2}})]}),(0,z.jsx)(m.ZP,{item:!0,xs:12,md:6,children:(0,z.jsxs)(g.Z,{spacing:2,children:[(0,z.jsxs)(Z.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,z.jsx)(C.Z,{color:"primary"}),(0,z.jsxs)(u.Z,{variant:"h6",children:["Event Date: ",(Me=G.eventDate,new Date(Me).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",weekday:"long"}))]})]}),(0,z.jsxs)(Z.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,z.jsx)(q.Z,{color:"primary"}),(0,z.jsxs)(u.Z,{variant:"h6",children:["Participants: ",G.eventParticipantsCount]})]})]})}),(0,z.jsxs)(m.ZP,{item:!0,xs:12,md:6,children:[(0,z.jsxs)(Z.Z,{sx:{display:"flex",alignItems:"center",gap:1,mb:1},children:[(0,z.jsx)(k.Z,{color:"primary"}),(0,z.jsx)(u.Z,{variant:"h6",children:"Description:"})]}),(0,z.jsx)(b.Z,{variant:"outlined",sx:{p:2,bgcolor:"grey.50",maxHeight:150,overflow:"auto"},children:(0,z.jsx)(u.Z,{variant:"body1",children:G.eventDescription})})]})]})})}),(0,z.jsx)(h.Z,{sx:{boxShadow:3},children:(0,z.jsxs)(p.Z,{children:[(0,z.jsxs)(g.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",mb:3,children:[(0,z.jsxs)(u.Z,{variant:"h5",fontWeight:"bold",children:["Event Questions (",X.length,")"]}),!se&&!de&&(0,z.jsx)(y.Z,{variant:"contained",startIcon:(0,z.jsx)(S,{}),onClick:function(){Be.resetForm(),ue(null),le(!0)},disabled:ke,children:"Add Question"})]}),(0,z.jsx)(f.Z,{sx:{mb:3}}),(se||de)&&(0,z.jsx)(Z.Z,{sx:{mb:4},children:(0,z.jsx)(K,{formik:Be,onCancel:function(){le(!1),ue(null),Be.resetForm()},loading:Ae,isEditing:!!de})}),!se&&!de&&!pe&&(0,z.jsx)(z.Fragment,{children:ke?(0,z.jsx)(Z.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",border:"1px solid",borderColor:"grey.300",borderRadius:1,bgcolor:"white"},children:(0,z.jsx)(d.Z,{size:40,sx:{color:"grey.700"}})}):(0,z.jsx)(z.Fragment,{children:0===X.length?(0,z.jsxs)(b.Z,{elevation:0,sx:{p:6,textAlign:"center",border:"2px dashed",borderColor:"grey.300",bgcolor:"white",borderRadius:2},children:[(0,z.jsx)(u.Z,{variant:"h6",gutterBottom:!0,sx:{fontWeight:500,color:"grey.800",mb:2},children:"No questions yet"}),(0,z.jsx)(u.Z,{variant:"body1",sx:{color:"grey.600",maxWidth:"400px",mx:"auto",lineHeight:1.6},children:"Start building your assessment by adding the first question"})]}):(0,z.jsxs)(Z.Z,{sx:{width:"100%"},children:[(0,z.jsx)(Z.Z,{sx:{mb:3,pb:2,borderBottom:"1px solid",borderColor:"grey.300"},children:(0,z.jsxs)(u.Z,{variant:"subtitle1",sx:{fontWeight:600,color:"grey.800"},children:[X.length," Question",1!==X.length?"s":""]})}),(0,z.jsx)(m.ZP,{container:!0,spacing:3,children:X.map((function(e,r){var t,o;return(0,z.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,z.jsx)(b.Z,{elevation:0,sx:{p:0,height:"100%",border:"1px solid",borderColor:"grey.300",borderRadius:2,bgcolor:"white",overflow:"hidden",transition:"all 0.2s","&:hover":{borderColor:"grey.400",boxShadow:"0 2px 8px rgba(0,0,0,0.05)"}},children:(0,z.jsx)(Z.Z,{sx:{p:3,height:"100%"},children:(0,z.jsxs)(g.Z,{direction:"column",justifyContent:"space-between",sx:{height:"100%"},children:[(0,z.jsxs)(Z.Z,{children:[(0,z.jsxs)(g.Z,{direction:"row",alignItems:"flex-start",justifyContent:"space-between",spacing:1.5,sx:{mb:2},children:[(0,z.jsxs)(Z.Z,{sx:{display:"flex",alignItems:"center",gap:1.5},children:[(0,z.jsx)(u.Z,{variant:"body2",sx:{fontWeight:600,color:"grey.800",minWidth:"22px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",bgcolor:"grey.100",border:"1px solid",borderColor:"grey.300",flexShrink:0},children:r+1}),(0,z.jsx)(u.Z,{variant:"subtitle1",sx:{fontWeight:500,color:"grey.900",lineHeight:1.4,fontSize:{xs:"0.95rem",sm:"1rem"}},children:e.questionTitle||e.text})]}),(0,z.jsx)(Z.Z,{sx:{alignSelf:"flex-end"},children:(0,z.jsx)(y.Z,{size:"small",variant:"outlined",color:"info",onClick:function(){return function(e){console.log("Starting question:",e);var r="wss://aylms.aryuprojects.com/ws/live-quiz/room/".concat(e.room,"/");ws.current=new WebSocket(r),ws.current.onmessage=function(r){var t=JSON.parse(r.data);"question_started"===t.type&&t.question_id===e.id&&dispatch((0,oe.ss)({open:!0,message:"Question started",variant:"success",alert:{color:"success"},close:!1}))},ws.current.onerror=function(){dispatch((0,oe.ss)({open:!0,message:"WebSocket connection error",variant:"error",alert:{color:"error"},close:!1}))}}(e)},children:"Start"})})]}),(0,z.jsxs)(g.Z,{direction:"row",spacing:1,alignItems:"center",flexWrap:"wrap",sx:{mb:2},children:[(0,z.jsx)(j.Z,{icon:(0,z.jsx)(A,{sx:{fontSize:14}}),label:"".concat(e.questionTime||e.timer_seconds||30,"s"),size:"small",variant:"outlined",sx:{borderColor:"grey.400",color:"grey.800",bgcolor:"grey.50",fontSize:{xs:"0.75rem",sm:"0.8125rem"},height:"28px","& .MuiChip-icon":{color:"grey.600",fontSize:"14px"}}}),(0,z.jsx)(j.Z,{icon:(0,z.jsx)(W,{sx:{fontSize:14}}),label:"".concat(e.mark||e.points||1,"pt"),size:"small",variant:"outlined",sx:{borderColor:"grey.400",color:"grey.800",bgcolor:"grey.50",fontSize:{xs:"0.75rem",sm:"0.8125rem"},height:"28px","& .MuiChip-icon":{color:"grey.600",fontSize:"14px"}}}),(0,z.jsx)(j.Z,{label:e.questionType||e.question_type||"radio",size:"small",variant:"outlined",sx:{borderColor:"grey.400",color:"grey.800",bgcolor:"grey.50",fontSize:{xs:"0.75rem",sm:"0.8125rem"},height:"28px",textTransform:"capitalize"}})]}),(0,z.jsxs)(Z.Z,{sx:{bgcolor:"grey.50",p:1.5,borderRadius:1,border:"1px solid",borderColor:"grey.200",mb:2},children:[(0,z.jsx)(u.Z,{variant:"body2",sx:{color:"grey.800",fontWeight:500,mb:.5,fontSize:{xs:"0.8125rem",sm:"0.875rem"}},children:"Options:"}),(0,z.jsx)(u.Z,{variant:"body2",sx:{color:"grey.700",mb:1.5,fontSize:{xs:"0.8125rem",sm:"0.875rem"},display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:null!==(t=e.config)&&void 0!==t&&t.choices&&Array.isArray(e.config.choices)?e.config.choices.join(", "):"No options specified"}),(0,z.jsx)(u.Z,{variant:"body2",sx:{color:"grey.800",fontWeight:500,mb:.5,fontSize:{xs:"0.8125rem",sm:"0.875rem"}},children:"Correct Answer:"}),(0,z.jsx)(u.Z,{variant:"body2",sx:{color:"grey.700",fontSize:{xs:"0.8125rem",sm:"0.875rem"},display:"-webkit-box",WebkitLineClamp:1,WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},children:(null===(o=e.config)||void 0===o?void 0:o.correct)||"Not specified"})]})]}),(0,z.jsxs)(g.Z,{direction:"row",justifyContent:"flex-end",spacing:1,sx:{pt:2,borderTop:"1px solid",borderColor:"grey.200"},children:[(0,z.jsx)(w.Z,{title:"View Question",children:(0,z.jsx)(v.Z,{size:"small",onClick:function(){return function(e){me(e)}(e)},sx:{color:"grey.700",border:"1px solid",borderColor:"grey.300","&:hover":{bgcolor:"grey.100",borderColor:"grey.400"},width:"36px",height:"36px"},children:(0,z.jsx)(V.Z,{fontSize:"small"})})}),(0,z.jsx)(w.Z,{title:"Edit Question",children:(0,z.jsx)(v.Z,{size:"small",onClick:function(){return function(e){ue(e)}(e)},sx:{color:"grey.700",border:"1px solid",borderColor:"grey.300","&:hover":{bgcolor:"grey.100",borderColor:"grey.400"},width:"36px",height:"36px"},children:(0,z.jsx)(B.Z,{fontSize:"small"})})}),(0,z.jsx)(w.Z,{title:"Delete Question",children:(0,z.jsx)(v.Z,{size:"small",onClick:function(){return Fe(e.id)},sx:{color:"grey.700",border:"1px solid",borderColor:"grey.300","&:hover":{bgcolor:"grey.100",borderColor:"grey.400"},width:"36px",height:"36px"},children:(0,z.jsx)(M.Z,{fontSize:"small"})})})]})]})})})},e.id)}))})]})})}),pe&&(0,z.jsxs)(b.Z,{elevation:2,sx:{mt:3,border:"2px solid",borderColor:"grey.800",bgcolor:"white",overflow:"hidden"},children:[(0,z.jsx)(Z.Z,{sx:{p:2,borderBottom:"1px solid",borderColor:"grey.300",bgcolor:"grey.50"},children:(0,z.jsxs)(g.Z,{direction:"row",justifyContent:"space-between",alignItems:"center",children:[(0,z.jsx)(u.Z,{variant:"h6",sx:{fontWeight:600,color:"grey.900"},children:"Question Preview"}),(0,z.jsx)(v.Z,{onClick:function(){return me(null)},size:"small",sx:{color:"grey.700",border:"1px solid",borderColor:"grey.300","&:hover":{bgcolor:"grey.100",borderColor:"grey.400"}},children:(0,z.jsx)(I.Z,{fontSize:"small"})})]})}),(0,z.jsxs)(Z.Z,{sx:{p:3},children:[(0,z.jsxs)(Z.Z,{sx:{mb:3},children:[(0,z.jsx)(u.Z,{variant:"subtitle2",sx:{color:"grey.600",mb:1,fontWeight:500,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Question"}),(0,z.jsx)(u.Z,{variant:"h6",sx:{fontWeight:500,color:"grey.900",lineHeight:1.5},children:pe.questionTitle||pe.text})]}),(0,z.jsxs)(Z.Z,{sx:{mb:3},children:[(0,z.jsx)(u.Z,{variant:"subtitle2",sx:{color:"grey.600",mb:1.5,fontWeight:500,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Details"}),(0,z.jsxs)(g.Z,{direction:"row",spacing:1.5,flexWrap:"wrap",children:[(0,z.jsx)(j.Z,{icon:(0,z.jsx)(A,{sx:{fontSize:16}}),label:"".concat(pe.questionTime||pe.timeLimit||30," seconds"),variant:"outlined",sx:{borderColor:"grey.400",color:"grey.800",bgcolor:"white",fontWeight:500,"& .MuiChip-icon":{color:"grey.600"}}}),(0,z.jsx)(j.Z,{icon:(0,z.jsx)(W,{sx:{fontSize:16}}),label:"".concat(pe.mark||pe.points||1," point").concat(1!==(pe.mark||pe.points||1)?"s":""),variant:"outlined",sx:{borderColor:"grey.400",color:"grey.800",bgcolor:"white",fontWeight:500,"& .MuiChip-icon":{color:"grey.600"}}}),(0,z.jsx)(j.Z,{label:pe.questionType||pe.question_type||"radio",variant:"outlined",sx:{borderColor:"grey.400",color:"grey.800",bgcolor:"white",fontWeight:500,textTransform:"capitalize"}})]})]}),(null===(r=pe.config)||void 0===r?void 0:r.choices)&&(0,z.jsxs)(Z.Z,{children:[(0,z.jsx)(u.Z,{variant:"subtitle2",sx:{color:"grey.600",mb:2,fontWeight:500,textTransform:"uppercase",letterSpacing:"0.5px"},children:"Options"}),Array.isArray(null===(t=pe.config)||void 0===t?void 0:t.choices)&&pe.config.choices.length>0?(0,z.jsx)(m.ZP,{container:!0,spacing:2,children:pe.config.choices.map((function(e,r){return(0,z.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,z.jsxs)(b.Z,{elevation:0,sx:{p:2.5,border:"2px solid",borderColor:e===pe.config.correct?"grey.900":"grey.200",bgcolor:e===pe.config.correct?"grey.50":"white",borderRadius:1.5,position:"relative"},children:[(0,z.jsxs)(g.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,z.jsx)(Z.Z,{sx:{width:32,height:32,display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"4px",bgcolor:e===pe.config.correct?"grey.900":"grey.100",border:"1px solid",borderColor:e===pe.config.correct?"grey.900":"grey.300",flexShrink:0},children:(0,z.jsxs)(u.Z,{variant:"body2",sx:{fontWeight:600,color:e===pe.config.correct?"white":"grey.800"},children:[String.fromCharCode(65+r)," "]})}),(0,z.jsx)(u.Z,{variant:"body1",sx:{color:e===pe.config.correct?"grey.900":"grey.700",fontWeight:e===pe.config.correct?500:400},children:e})]}),e===pe.config.correct&&(0,z.jsx)(Z.Z,{sx:{position:"absolute",top:-10,right:10,bgcolor:"grey.900",color:"white",px:1.5,py:.5,borderRadius:"4px",fontSize:"0.75rem",fontWeight:600,letterSpacing:"0.5px"},children:"Correct"})]})},r)}))}):(0,z.jsx)(b.Z,{elevation:0,sx:{p:3,border:"1px dashed",borderColor:"grey.300",bgcolor:"grey.50",textAlign:"center"},children:(0,z.jsx)(u.Z,{variant:"body1",sx:{color:"grey.600",fontStyle:"italic"},children:"No options specified"})})]}),(null===(T=pe.config)||void 0===T?void 0:T.correct)&&(0,z.jsx)(Z.Z,{sx:{mt:3,pt:3,borderTop:"1px solid",borderColor:"grey.200"},children:(0,z.jsxs)(g.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,z.jsx)(F.Z,{sx:{color:"grey.800",fontSize:20}}),(0,z.jsxs)(Z.Z,{children:[(0,z.jsx)(u.Z,{variant:"subtitle2",sx:{color:"grey.600",mb:.5,fontWeight:500},children:"Correct Answer"}),(0,z.jsx)(u.Z,{variant:"body1",sx:{color:"grey.900",fontWeight:500},children:pe.config.correct})]})]})})]})]})]})})]}):(0,z.jsx)(c.Z,{sx:{mt:4,textAlign:"center"},children:(0,z.jsx)(u.Z,{variant:"h6",color:"text.secondary",children:"Event not found"})})}},37032:function(e,r,t){var o=t(74223),n=t(80184);r.Z=(0,o.Z)((0,n.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"}),"CalendarToday")},85667:function(e,r,t){var o=t(74223),n=t(80184);r.Z=(0,o.Z)((0,n.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle")},5397:function(e,r,t){var o=t(74223),n=t(80184);r.Z=(0,o.Z)((0,n.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete")},49496:function(e,r,t){var o=t(74223),n=t(80184);r.Z=(0,o.Z)((0,n.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 1.99 2H18c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"}),"Description")},38820:function(e,r,t){var o=t(74223),n=t(80184);r.Z=(0,o.Z)((0,n.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit")},55200:function(e,r,t){var o=t(74223),n=t(80184);r.Z=(0,o.Z)((0,n.jsx)("path",{d:"M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"}),"People")},3710:function(e,r,t){var o=t(74223),n=t(80184);r.Z=(0,o.Z)((0,n.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility")},23786:function(e,r,t){t.d(r,{Z:function(){return k}});var o=t(4942),n=t(63366),i=t(87462),s=t(72791),l=t(59278),a=t(94419),c=t(44402),d=t(66934),u=t(31402),x=t(66199),h=t(95080),p=t(40162),m=t(42071),g=t(90133),v=t(96014),f=t(29849),Z=t(75878),b=t(21217);function y(e){return(0,b.ZP)("MuiMenuItem",e)}var j=(0,Z.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),w=t(80184),C=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],q=(0,d.ZP)(h.Z,{shouldForwardProp:function(e){return(0,d.FO)(e)||"classes"===e},name:"MuiMenuItem",slot:"Root",overridesResolver:function(e,r){var t=e.ownerState;return[r.root,t.dense&&r.dense,t.divider&&r.divider,!t.disableGutters&&r.gutters]}})((function(e){var r,t=e.theme,n=e.ownerState;return(0,i.Z)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!n.disableGutters&&{paddingLeft:16,paddingRight:16},n.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},(r={"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}},(0,o.Z)(r,"&.".concat(j.selected),(0,o.Z)({backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)},"&.".concat(j.focusVisible),{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)})),(0,o.Z)(r,"&.".concat(j.selected,":hover"),{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,c.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}}),(0,o.Z)(r,"&.".concat(j.focusVisible),{backgroundColor:(t.vars||t).palette.action.focus}),(0,o.Z)(r,"&.".concat(j.disabled),{opacity:(t.vars||t).palette.action.disabledOpacity}),(0,o.Z)(r,"& + .".concat(g.Z.root),{marginTop:t.spacing(1),marginBottom:t.spacing(1)}),(0,o.Z)(r,"& + .".concat(g.Z.inset),{marginLeft:52}),(0,o.Z)(r,"& .".concat(f.Z.root),{marginTop:0,marginBottom:0}),(0,o.Z)(r,"& .".concat(f.Z.inset),{paddingLeft:36}),(0,o.Z)(r,"& .".concat(v.Z.root),{minWidth:36}),r),!n.dense&&(0,o.Z)({},t.breakpoints.up("sm"),{minHeight:"auto"}),n.dense&&(0,i.Z)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,(0,o.Z)({},"& .".concat(v.Z.root," svg"),{fontSize:"1.25rem"})))})),k=s.forwardRef((function(e,r){var t=(0,u.Z)({props:e,name:"MuiMenuItem"}),o=t.autoFocus,c=void 0!==o&&o,d=t.component,h=void 0===d?"li":d,g=t.dense,v=void 0!==g&&g,f=t.divider,Z=void 0!==f&&f,b=t.disableGutters,j=void 0!==b&&b,k=t.focusVisibleClassName,T=t.role,z=void 0===T?"menuitem":T,S=t.tabIndex,A=t.className,W=(0,n.Z)(t,C),V=s.useContext(x.Z),B=s.useMemo((function(){return{dense:v||V.dense||!1,disableGutters:j}}),[V.dense,v,j]),M=s.useRef(null);(0,p.Z)((function(){c&&M.current&&M.current.focus()}),[c]);var I,F=(0,i.Z)({},t,{dense:B.dense,divider:Z,disableGutters:j}),P=function(e){var r=e.disabled,t=e.dense,o=e.divider,n=e.disableGutters,s=e.selected,l=e.classes,c={root:["root",t&&"dense",r&&"disabled",!n&&"gutters",o&&"divider",s&&"selected"]},d=(0,a.Z)(c,y,l);return(0,i.Z)({},l,d)}(t),O=(0,m.Z)(M,r);return t.disabled||(I=void 0!==S?S:-1),(0,w.jsx)(x.Z.Provider,{value:B,children:(0,w.jsx)(q,(0,i.Z)({ref:O,role:z,tabIndex:I,component:h,focusVisibleClassName:(0,l.Z)(P.focusVisible,k),className:(0,l.Z)(P.root,A)},W,{ownerState:F,classes:P}))})}))}}]);
//# sourceMappingURL=2537.eb02d281.chunk.js.map