{"version":3,"file":"static/js/94.f9a3109b.chunk.js","mappings":"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","sources":["sections/profile/TabTutor.js"],"sourcesContent":["import { ExpandMore } from '@mui/icons-material';\nimport { Accordion, AccordionDetails, AccordionSummary, Box, Chip, Grid, Stack, Typography } from '@mui/material';\nimport MainCard from 'components/MainCard';\nimport { APP_PATH_BASE_URL } from 'config';\nimport { useState, useEffect, useCallback } from 'react';\nimport { useDispatch } from 'react-redux';\nimport { openSnackbar } from 'store/reducers/snackbar';\nimport axiosInstance from 'utils/axios';\n\nconst TabTutor = () => {\n  const auth = JSON.parse(localStorage.getItem('auth'));\n  const studentId = auth?.user?.student_id;\n  const dispatch = useDispatch();\n\n  const [tutors, setTutors] = useState([]);\n  const [expanded, setExpanded] = useState(null);\n\n  const handleAccordionChange = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : null);\n  };\n\n  const fetchData = useCallback(async () => {\n    try {\n      const response = await axiosInstance.get(`${APP_PATH_BASE_URL}api/student_profile/${studentId}`);\n      const result = response.data;\n\n      if (result?.data?.batch) {\n        // Extract unique courses with trainer information from batch data\n        const uniqueCourses = result.data.batch.map((batchItem) => ({\n          course_name: batchItem.course_name,\n          course_id: batchItem.course_id,\n          trainer_name: batchItem.trainer_name,\n          trainer_id: batchItem.trainer_id,\n          batch_title: batchItem.title || batchItem.batch_name || 'Unknown Batch',\n          batch_id: batchItem.batch_id\n        }));\n\n        setTutors(uniqueCourses);\n      } else {\n        setTutors([]);\n        console.warn('No trainer data found in response');\n      }\n    } catch (err) {\n      console.error('Error fetching user data:', err.message);\n      dispatch(\n        openSnackbar({\n          open: true,\n          message: 'Failed to load user data',\n          variant: 'alert',\n          alert: {\n            color: 'error'\n          },\n          close: false\n        })\n      );\n    }\n  }, [studentId, dispatch]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  // Group tutors by batch for accordion display\n  const tutorsByBatch = tutors.reduce((acc, tutor) => {\n    const batchId = tutor.batch_id;\n    if (!acc[batchId]) {\n      acc[batchId] = {\n        batch_title: tutor.batch_title,\n        batch_id: batchId,\n        tutors: []\n      };\n    }\n    acc[batchId].tutors.push(tutor);\n    return acc;\n  }, {});\n\n  const batchGroups = Object.values(tutorsByBatch);\n\n  return (\n    <MainCard content={false} title=\"Assigned Trainer Information\" sx={{ '& .MuiInputLabel-root': { fontSize: '0.875rem' } }}>\n      <Box sx={{ p: 2.5 }}>\n        {!tutors || tutors.length === 0 ? (\n          <Typography>No trainers assigned</Typography>\n        ) : (\n          <Grid container spacing={2}>\n            {batchGroups.map((batchGroup) => {\n              const panelId = `batch-${batchGroup.batch_id}`;\n              return (\n                <Grid item xs={12} md={6} key={batchGroup.batch_id}>\n                  <Accordion\n                    expanded={expanded === panelId}\n                    onChange={handleAccordionChange(panelId)}\n                    sx={{\n                      mb: 2,\n                      boxShadow: 'none',\n                      border: 'none',\n                      '&:before': { display: 'none' }\n                    }}\n                  >\n                    <AccordionSummary\n                      expandIcon={<ExpandMore />}\n                      sx={{\n                        backgroundColor: '#f5f5f5',\n                        '&:hover': { backgroundColor: '#eeeeee' },\n                        minHeight: '48px !important',\n                        '& .MuiAccordionSummary-content': {\n                          my: 0.5,\n                          alignItems: 'center',\n                          justifyContent: 'center'\n                        },\n                        borderRadius: 1\n                      }}\n                    >\n                      <Chip label={`Batch: ${batchGroup.batch_title}`} sx={{ mr: 2 }} color=\"primary\" variant=\"outlined\" />\n                    </AccordionSummary>\n                    <AccordionDetails sx={{ pt: 2, pb: 2 }}>\n                      {batchGroup.tutors.map((tutor, index) => (\n                        <Box\n                          key={`${tutor.batch_id}-${tutor.course_id}-${index}`}\n                          sx={{ mb: 4, pb: 3, borderBottom: index < batchGroup.tutors.length - 1 ? '1px solid #e0e0e0' : 'none' }}\n                        >\n                          <Grid container flexDirection=\"column\" spacing={1}>\n                            <Grid item display=\"flex\">\n                              <Stack width=\"10rem\">\n                                <Typography variant=\"body2\" fontWeight=\"bold\">\n                                  Tutor Name\n                                </Typography>\n                              </Stack>\n                              <Stack>\n                                <Typography variant=\"body2\">: {tutor.trainer_name || 'N/A'}</Typography>\n                              </Stack>\n                            </Grid>\n                            <Grid item display=\"flex\">\n                              <Stack width=\"10rem\">\n                                <Typography variant=\"body2\" fontWeight=\"bold\">\n                                  Course\n                                </Typography>\n                              </Stack>\n                              <Stack>\n                                <Typography variant=\"body2\">: {tutor.course_name || 'N/A'}</Typography>\n                              </Stack>\n                            </Grid>\n                            <Grid item display=\"flex\">\n                              <Stack width=\"10rem\">\n                                <Typography variant=\"body2\" fontWeight=\"bold\">\n                                  Trainer ID\n                                </Typography>\n                              </Stack>\n                              <Stack>\n                                <Typography variant=\"body2\">: {tutor.trainer_id || 'N/A'}</Typography>\n                              </Stack>\n                            </Grid>\n                          </Grid>\n                        </Box>\n                      ))}\n                    </AccordionDetails>\n                  </Accordion>\n                </Grid>\n              );\n            })}\n          </Grid>\n        )}\n      </Box>\n    </MainCard>\n  );\n};\n\nexport default TabTutor;\n"],"names":["_auth$user","auth","JSON","parse","localStorage","getItem","studentId","user","student_id","dispatch","useDispatch","_useState","useState","_useState2","_slicedToArray","tutors","setTutors","_useState3","_useState4","expanded","setExpanded","fetchData","useCallback","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_result$data","response","result","uniqueCourses","wrap","_context","prev","next","axiosInstance","get","concat","APP_PATH_BASE_URL","sent","data","batch","map","batchItem","course_name","course_id","trainer_name","trainer_id","batch_title","title","batch_name","batch_id","console","warn","t0","error","message","openSnackbar","open","variant","alert","color","close","stop","useEffect","tutorsByBatch","reduce","acc","tutor","batchId","push","batchGroups","Object","values","_jsx","MainCard","content","sx","fontSize","children","Box","p","length","Grid","container","spacing","batchGroup","panel","panelId","item","xs","md","_jsxs","Accordion","onChange","event","isExpanded","mb","boxShadow","border","display","AccordionSummary","expandIcon","ExpandMore","backgroundColor","minHeight","my","alignItems","justifyContent","borderRadius","Chip","label","mr","AccordionDetails","pt","pb","index","borderBottom","flexDirection","Stack","width","Typography","fontWeight"],"sourceRoot":""}