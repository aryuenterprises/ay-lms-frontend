"use strict";(self.webpackChunkable_pro_material_react=self.webpackChunkable_pro_material_react||[]).push([[4108],{54108:function(e,t,r){r.r(t),r.d(t,{default:function(){return ie}});var n=r(93433),s=r(61819),i=r(1413),a=r(15861),c=r(29439),o=r(72791),l=r(24034),u=r(81918),d=r(697),h=r(20068),x=r(13400),p=r(94294),m=(r(63021),r(20890)),Z=r(36314),g=r(13239),v=r(61889),j=r(57621),f=r(39504),y=r(48550),b=r(23786),k=r(35527),C=r(94721),w=r(5574),S=r(65661),M=r(39157),P=r(97123),z=r(625),B=r(94070),_=r(49769),E=r(64370),T=r(66739),I=r(86861),L=r(97573),W=r(52007),F=r.n(W),H=["variant","color","size"],V=function(e){var t=e.color;return o.createElement(o.Fragment,null,o.createElement("path",{d:"M7.24 2h-1.9C3.15 2 2 3.15 2 5.33v1.9c0 2.18 1.15 3.33 3.33 3.33h1.9c2.18 0 3.33-1.15 3.33-3.33v-1.9C10.57 3.15 9.42 2 7.24 2ZM18.67 2h-1.9c-2.18 0-3.33 1.15-3.33 3.33v1.9c0 2.18 1.15 3.33 3.33 3.33h1.9c2.18 0 3.33-1.15 3.33-3.33v-1.9C22 3.15 20.85 2 18.67 2ZM18.67 13.43h-1.9c-2.18 0-3.33 1.15-3.33 3.33v1.9c0 2.18 1.15 3.33 3.33 3.33h1.9c2.18 0 3.33-1.15 3.33-3.33v-1.9c0-2.18-1.15-3.33-3.33-3.33ZM7.24 13.43h-1.9C3.15 13.43 2 14.58 2 16.76v1.9C2 20.85 3.15 22 5.33 22h1.9c2.18 0 3.33-1.15 3.33-3.33v-1.9c.01-2.19-1.14-3.34-3.32-3.34Z",fill:t}))},R=function(e){var t=e.color;return o.createElement(o.Fragment,null,o.createElement("path",{d:"M5 10h2c2 0 3-1 3-3V5c0-2-1-3-3-3H5C3 2 2 3 2 5v2c0 2 1 3 3 3ZM19 2h-2c-2 0-3 1-3 3v2c0 2 1 3 3 3h2c2 0 3-1 3-3V5M17 22h2c2 0 3-1 3-3v-2c0-2-1-3-3-3h-2c-2 0-3 1-3 3v2c0 2 1 3 3 3ZM5 22h2c2 0 3-1 3-3v-2c0-2-1-3-3-3H5c-2 0-3 1-3 3v2",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))},N=function(e){var t=e.color;return o.createElement(o.Fragment,null,o.createElement("path",{d:"M7.24 2h-1.9C3.15 2 2 3.15 2 5.33v1.9c0 2.18 1.15 3.33 3.33 3.33h1.9c2.18 0 3.33-1.15 3.33-3.33v-1.9C10.57 3.15 9.42 2 7.24 2Z",fill:t}),o.createElement("path",{opacity:".4",d:"M18.67 2h-1.9c-2.18 0-3.33 1.15-3.33 3.33v1.9c0 2.18 1.15 3.33 3.33 3.33h1.9c2.18 0 3.33-1.15 3.33-3.33v-1.9C22 3.15 20.85 2 18.67 2Z",fill:t}),o.createElement("path",{d:"M18.67 13.43h-1.9c-2.18 0-3.33 1.15-3.33 3.33v1.9c0 2.18 1.15 3.33 3.33 3.33h1.9c2.18 0 3.33-1.15 3.33-3.33v-1.9c0-2.18-1.15-3.33-3.33-3.33Z",fill:t}),o.createElement("path",{opacity:".4",d:"M7.24 13.43h-1.9C3.15 13.43 2 14.58 2 16.76v1.9C2 20.85 3.15 22 5.33 22h1.9c2.18 0 3.33-1.15 3.33-3.33v-1.9c.01-2.19-1.14-3.34-3.32-3.34Z",fill:t}))},D=function(e){var t=e.color;return o.createElement(o.Fragment,null,o.createElement("path",{d:"M5 10h2c2 0 3-1 3-3V5c0-2-1-3-3-3H5C3 2 2 3 2 5v2c0 2 1 3 3 3ZM17 10h2c2 0 3-1 3-3V5c0-2-1-3-3-3h-2c-2 0-3 1-3 3v2c0 2 1 3 3 3ZM17 22h2c2 0 3-1 3-3v-2c0-2-1-3-3-3h-2c-2 0-3 1-3 3v2c0 2 1 3 3 3ZM5 22h2c2 0 3-1 3-3v-2c0-2-1-3-3-3H5c-2 0-3 1-3 3v2c0 2 1 3 3 3Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))},O=function(e){var t=e.color;return o.createElement(o.Fragment,null,o.createElement("path",{d:"M7 10.75H5c-2.42 0-3.75-1.33-3.75-3.75V5c0-2.42 1.33-3.75 3.75-3.75h2c2.42 0 3.75 1.33 3.75 3.75v2c0 2.42-1.33 3.75-3.75 3.75Zm-2-8c-1.58 0-2.25.67-2.25 2.25v2c0 1.58.67 2.25 2.25 2.25h2c1.58 0 2.25-.67 2.25-2.25V5c0-1.58-.67-2.25-2.25-2.25H5ZM19 10.75h-2c-2.42 0-3.75-1.33-3.75-3.75V5c0-2.42 1.33-3.75 3.75-3.75h2c2.42 0 3.75 1.33 3.75 3.75v2c0 2.42-1.33 3.75-3.75 3.75Zm-2-8c-1.58 0-2.25.67-2.25 2.25v2c0 1.58.67 2.25 2.25 2.25h2c1.58 0 2.25-.67 2.25-2.25V5c0-1.58-.67-2.25-2.25-2.25h-2ZM19 22.75h-2c-2.42 0-3.75-1.33-3.75-3.75v-2c0-2.42 1.33-3.75 3.75-3.75h2c2.42 0 3.75 1.33 3.75 3.75v2c0 2.42-1.33 3.75-3.75 3.75Zm-2-8c-1.58 0-2.25.67-2.25 2.25v2c0 1.58.67 2.25 2.25 2.25h2c1.58 0 2.25-.67 2.25-2.25v-2c0-1.58-.67-2.25-2.25-2.25h-2ZM7 22.75H5c-2.42 0-3.75-1.33-3.75-3.75v-2c0-2.42 1.33-3.75 3.75-3.75h2c2.42 0 3.75 1.33 3.75 3.75v2c0 2.42-1.33 3.75-3.75 3.75Zm-2-8c-1.58 0-2.25.67-2.25 2.25v2c0 1.58.67 2.25 2.25 2.25h2c1.58 0 2.25-.67 2.25-2.25v-2c0-1.58-.67-2.25-2.25-2.25H5Z",fill:t}))},A=function(e){var t=e.color;return o.createElement(o.Fragment,null,o.createElement("path",{opacity:".34",d:"M5 10h2c2 0 3-1 3-3V5c0-2-1-3-3-3H5C3 2 2 3 2 5v2c0 2 1 3 3 3Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M17 10h2c2 0 3-1 3-3V5c0-2-1-3-3-3h-2c-2 0-3 1-3 3v2c0 2 1 3 3 3Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{opacity:".34",d:"M17 22h2c2 0 3-1 3-3v-2c0-2-1-3-3-3h-2c-2 0-3 1-3 3v2c0 2 1 3 3 3Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),o.createElement("path",{d:"M5 22h2c2 0 3-1 3-3v-2c0-2-1-3-3-3H5c-2 0-3 1-3 3v2c0 2 1 3 3 3Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))},q=(0,o.forwardRef)((function(e,t){var r=e.variant,n=e.color,s=e.size,i=(0,L._)(e,H);return o.createElement("svg",(0,L.a)({},i,{xmlns:"http://www.w3.org/2000/svg",ref:t,width:s,height:s,viewBox:"0 0 24 24",fill:"none"}),function(e,t){switch(e){case"Bold":return o.createElement(V,{color:t});case"Broken":return o.createElement(R,{color:t});case"Bulk":return o.createElement(N,{color:t});case"Linear":default:return o.createElement(D,{color:t});case"Outline":return o.createElement(O,{color:t});case"TwoTone":return o.createElement(A,{color:t})}}(r,n))}));q.propTypes={variant:F().oneOf(["Linear","Bold","Broken","Bulk","Outline","TwoTone"]),color:F().string,size:F().oneOfType([F().string,F().number])},q.defaultProps={variant:"Linear",color:"currentColor",size:"24"},q.displayName="Category";var G=r(61880),U=r(87646),J=r(23311),Y=r(99261),K=r(61116),Q=r(10163),X=r(36277),$=r(8007),ee=r(43513),te=(r(69977),r(23197)),re=r(89731),ne=r(85680),se=r(80184),ie=function(){var e=(0,o.useState)(!1),t=(0,c.Z)(e,2),r=t[0],L=t[1],W=(0,o.useState)("list"),F=(0,c.Z)(W,2),H=F[0],V=F[1],R=(0,o.useState)([]),N=(0,c.Z)(R,2),D=N[0],O=N[1],A=(0,o.useState)(null),ie=(0,c.Z)(A,2),ae=ie[0],ce=ie[1],oe=(0,o.useState)(!1),le=(0,c.Z)(oe,2),ue=le[0],de=le[1],he=(0,o.useState)({open:!1,message:"",severity:"success"}),xe=(0,c.Z)(he,2),pe=xe[0],me=xe[1],Ze=(0,o.useState)(""),ge=(0,c.Z)(Ze,2),ve=ge[0],je=ge[1],fe=(0,o.useState)("all"),ye=(0,c.Z)(fe,2),be=ye[0],ke=(ye[1],JSON.parse(localStorage.getItem("auth"))),Ce=null===ke||void 0===ke?void 0:ke.loginType,we=(0,o.useCallback)((0,a.Z)((0,s.Z)().mark((function e(){var t,r,n;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,L(!0),e.next=4,re.Z.get("".concat(te.t6,"api/tickets/?type=iron_man"));case 4:t=e.sent,r=t.data,n=r.tickets.map((function(e,t){return(0,i.Z)((0,i.Z)({},e),{},{sno:t+1})})),O(n),L(!1),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching data:",e.t0),L(!1);case 15:case"end":return e.stop()}}),e,null,[[0,11]])}))),[]);(0,o.useEffect)((function(){we()}),[we]);var Se=function(e){switch(e){case"new":return"info.main";case"in_progress":return"warning.main";case"closed":return"success.main";default:return"default"}},Me=function(e){switch(e){case"new":return"info.lighter";case"in_progress":return"warning.lighter";case"closed":return"success.lighter";default:return"default"}},Pe=function(e){switch(e.toLowerCase()){case"high":return"error.main";case"medium":return"warning.main";case"low":return"success.main";default:return"default"}},ze=function(e){switch(e.toLowerCase()){case"high":return"error.lighter";case"medium":return"warning.lighter";case"low":return"success.lighter";default:return"default"}},Be=function(e){switch(e){case"new":return"New";case"in_progress":return"In Progress";case"closed":return"Closed";default:return"-"}},_e=$.Ry({priority:$.Z_().required("Priority is required"),subject:$.Z_().required("Subject is required"),message:$.Z_().required("Message is required")}),Ee=(0,X.TA)({initialValues:{priority:"Medium",subject:"",message:"",attachment:null},validationSchema:_e,onSubmit:function(){var e=(0,a.Z)((0,s.Z)().mark((function e(t,r){var a,c,o,l;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.resetForm,L(!0),e.prev=2,(c=new FormData).append("priority",t.priority),c.append("subject",t.subject),c.append("message",t.message),t.attachment&&c.append("attachment",t.attachment),e.next=10,re.Z.post("".concat(te.t6,"api/tickets/"),c,{headers:{"Content-Type":"multipart/form-data"}});case 10:o=e.sent,l=o.data.data,O((function(e){var t=(0,i.Z)((0,i.Z)({},l),{},{sno:1}),r=e.map((function(e){return(0,i.Z)((0,i.Z)({},e),{},{sno:e.sno+1})}));return[t].concat((0,n.Z)(r))})),me({open:!0,message:"Ticket created successfully!",severity:"success"}),V("list"),a(),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),console.error("Submission error:",e.t0),me({open:!0,message:"Failed to submit ticket. Please try again.",severity:"error"});case 22:return e.prev=22,L(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[2,18,22,25]])})));return function(t,r){return e.apply(this,arguments)}}()}),Te=function(){me((0,i.Z)((0,i.Z)({},pe),{},{open:!1}))},Ie=function(){var e=(0,a.Z)((0,s.Z)().mark((function e(){var t,r,a,c;return(0,s.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ve.trim()&&ae){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,re.Z.post("".concat(te.t6,"api/tickets/?bat_man=").concat(ae.ticket_id),{message:ve});case 5:if((t=e.sent).data){e.next=8;break}return e.abrupt("return");case 8:r=t.data.reply,a=(0,i.Z)((0,i.Z)({},ae),{},{replies:[].concat((0,n.Z)(ae.replies),[r])}),c=D.map((function(e){return e.ticket_id===ae.ticket_id?a:e})),O(c),ce(a),je(""),me({open:!0,message:"Reply sent successfully!",severity:"success"}),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),console.error("Error sending reply:",e.t0),me({open:!0,message:"Failed to send reply. Please try again.",severity:"error"});case 21:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(){return e.apply(this,arguments)}}(),Le=function(){de(!1),ce(null),je("")},We=[{name:"S.No",selector:function(e){return e.sno},sortable:!0,width:"120px"},{name:"Subject",selector:function(e){return e.subject},sortable:!0,width:"300px"},{name:"Status",cell:function(e){return(0,se.jsx)(u.Z,{label:Be(e.status),sx:{backgroundColor:Me(e.status),color:Se(e.status),minWidth:"90px",justifyContent:"center"},size:"small"})},sortable:!0},{name:"Priority",cell:function(e){return(0,se.jsx)(u.Z,{label:(0,ne.Z)(e.priority),size:"small",sx:{color:Pe(e.priority),backgroundColor:ze(e.priority)}})},sortable:!0},{name:"Created Date",selector:function(e){return e.created_at},sortable:!0},{name:"Actions",cell:function(e){return(0,se.jsx)(d.Z,{sx:{display:"flex",gap:1,width:"60px"},children:(0,se.jsx)(h.Z,{title:"View Ticket",children:(0,se.jsx)(x.Z,{variant:"contained",onClick:function(){return ce(e),void de(!0)},children:(0,se.jsx)(_.Z,{})})})})},width:"100px"}];return(0,se.jsxs)(l.Z,{title:(0,se.jsxs)(d.Z,{children:[(0,se.jsx)(m.Z,{variant:"h4",gutterBottom:!0,children:"list"===H?"My Support Tickets":"Create New Ticket"}),(0,se.jsx)(m.Z,{variant:"body2",color:"textSecondary",children:"list"===H?"View and manage all your support tickets":"Submit a new support request"})]}),secondary:"list"===H?(0,se.jsx)(p.Z,{variant:"contained",color:"primary",startIcon:(0,se.jsx)(E.Z,{size:"20"}),onClick:function(){return V("create")},children:"Create New Ticket"}):(0,se.jsx)(p.Z,{variant:"outlined",color:"secondary",startIcon:(0,se.jsx)(T.Z,{size:"20"}),onClick:function(){return V("list")},children:"Back to Tickets"}),sx:{borderRadius:2},children:["list"===H?(0,se.jsx)(se.Fragment,{children:r?(0,se.jsxs)(Z.Z,{alignItems:"center",justifyContent:"center",sx:{minHeight:400},children:[(0,se.jsx)(g.Z,{}),(0,se.jsx)(m.Z,{variant:"body2",sx:{mt:2},children:"Loading tickets..."})]}):(0,se.jsx)(ee.ZP,{columns:We,data:D,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,20],highlightOnHover:!0,responsive:!0,noDataComponent:(0,se.jsxs)(Z.Z,{alignItems:"center",justifyContent:"center",sx:{py:8},children:[(0,se.jsx)(I.Z,{size:64,color:"#ccc"}),(0,se.jsx)(m.Z,{variant:"h6",color:"textSecondary",sx:{mt:2},children:"No tickets found"}),(0,se.jsx)(m.Z,{variant:"body2",color:"textSecondary",children:"all"===be?"You haven't created any tickets yet.":"No ".concat(be," tickets found.")})]})})}):(0,se.jsx)("form",{onSubmit:Ee.handleSubmit,children:(0,se.jsxs)(v.ZP,{container:!0,spacing:3,children:[(0,se.jsx)(v.ZP,{item:!0,xs:12,lg:8,children:(0,se.jsxs)(Z.Z,{spacing:3,children:[(0,se.jsx)(j.Z,{elevation:1,children:(0,se.jsxs)(f.Z,{children:[(0,se.jsxs)(m.Z,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,mb:3},children:[(0,se.jsx)(q,{size:"20",variant:"Bold"})," Ticket Details"]}),(0,se.jsxs)(v.ZP,{container:!0,spacing:2,children:[(0,se.jsx)(v.ZP,{item:!0,xs:12,md:6,children:(0,se.jsx)(y.Z,{select:!0,fullWidth:!0,name:"priority",label:"Priority",variant:"outlined",size:"small",value:Ee.values.priority,onChange:Ee.handleChange,onBlur:Ee.handleBlur,error:Ee.touched.priority&&Boolean(Ee.errors.priority),helperText:Ee.touched.priority&&Ee.errors.priority,children:[{value:"Low",label:"Low"},{value:"Medium",label:"Medium"},{value:"High",label:"High"}].map((function(e){return(0,se.jsx)(b.Z,{value:e.value,children:e.label},e.value)}))})}),(0,se.jsx)(v.ZP,{item:!0,xs:12,children:(0,se.jsx)(y.Z,{fullWidth:!0,name:"subject",label:"Subject",variant:"outlined",size:"small",value:Ee.values.subject,onChange:Ee.handleChange,onBlur:Ee.handleBlur,error:Ee.touched.subject&&Boolean(Ee.errors.subject),helperText:Ee.touched.subject&&Ee.errors.subject,InputProps:{startAdornment:(0,se.jsx)(G.Z,{size:"18",style:{marginRight:8,color:"#666"}})}})}),(0,se.jsx)(v.ZP,{item:!0,xs:12,children:(0,se.jsx)(y.Z,{fullWidth:!0,name:"message",label:"Message",variant:"outlined",multiline:!0,rows:6,value:Ee.values.message,onChange:Ee.handleChange,onBlur:Ee.handleBlur,error:Ee.touched.message&&Boolean(Ee.errors.message),helperText:Ee.touched.message&&Ee.errors.message,InputProps:{startAdornment:(0,se.jsx)(U.Z,{size:"18",style:{marginRight:8,color:"#666",alignSelf:"flex-start",marginTop:"12px"}})},placeholder:"Please provide detailed information about your issue..."})}),(0,se.jsx)(v.ZP,{item:!0,xs:12,children:(0,se.jsxs)(d.Z,{children:[(0,se.jsxs)(p.Z,{component:"label",variant:"outlined",startIcon:(0,se.jsx)(J.Z,{size:"18"}),sx:{mb:1},children:["Attach File",(0,se.jsx)("input",{type:"file",hidden:!0,onChange:function(e){var t=e.currentTarget.files[0];t&&Ee.setFieldValue("attachment",t)},accept:".jpg,.jpeg,.png,.gif,.pdf,.doc,.docx"})]}),Ee.values.attachment&&(0,se.jsxs)(m.Z,{variant:"body2",sx:{mt:1,ml:1},children:["Selected: ",Ee.values.attachment.name,Ee.errors.attachment&&(0,se.jsx)(m.Z,{color:"error",variant:"caption",display:"block",children:Ee.errors.attachment})]}),(0,se.jsx)(m.Z,{variant:"caption",color:"textSecondary",display:"block",sx:{mt:.5},children:"Supported formats: JPG, PNG, GIF, PDF, DOC"})]})})]})]})}),(0,se.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"flex-end",gap:2},children:[(0,se.jsx)(p.Z,{variant:"outlined",color:"secondary",onClick:function(){return Ee.resetForm()},disabled:r||Ee.isSubmitting,children:"Reset"}),(0,se.jsx)(p.Z,{type:"submit",variant:"contained",color:"primary",startIcon:r?(0,se.jsx)(g.Z,{size:20}):(0,se.jsx)(Y.Z,{size:"20"}),disabled:r||Ee.isSubmitting||!Ee.isValid,sx:{minWidth:120},children:r?"Submitting...":"Submit Ticket"})]})]})}),(0,se.jsx)(v.ZP,{item:!0,xs:12,lg:4,children:(0,se.jsx)(j.Z,{elevation:1,sx:{position:"sticky",top:20},children:(0,se.jsxs)(f.Z,{children:[(0,se.jsxs)(m.Z,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,mb:3},children:[(0,se.jsx)(U.Z,{size:"20",variant:"Bold"})," Submission Guidelines"]}),(0,se.jsxs)(Z.Z,{spacing:2,children:[(0,se.jsxs)(k.Z,{elevation:0,sx:{p:2,bgcolor:"primary.lighter"},children:[(0,se.jsxs)(m.Z,{variant:"subtitle2",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,se.jsx)(T.Z,{size:"16"})," Provide Clear Subject"]}),(0,se.jsx)(m.Z,{variant:"body2",children:"Use a descriptive subject line that summarizes your issue"})]}),(0,se.jsxs)(k.Z,{elevation:0,sx:{p:2,bgcolor:"warning.lighter"},children:[(0,se.jsxs)(m.Z,{variant:"subtitle2",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,se.jsx)(G.Z,{size:"16"})," Detailed message"]}),(0,se.jsx)(m.Z,{variant:"body2",children:"Include steps to reproduce, error messages, and what youve tried"})]}),(0,se.jsxs)(k.Z,{elevation:0,sx:{p:2,bgcolor:"success.lighter"},children:[(0,se.jsxs)(m.Z,{variant:"subtitle2",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,se.jsx)(J.Z,{size:"16"})," Attach Screenshots"]}),(0,se.jsx)(m.Z,{variant:"body2",children:"Visual evidence helps us understand and resolve issues faster"})]}),(0,se.jsxs)(k.Z,{elevation:0,sx:{p:2,bgcolor:"info.lighter"},children:[(0,se.jsxs)(m.Z,{variant:"subtitle2",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,se.jsx)(K.Z,{size:"16"})," Response Time"]}),(0,se.jsx)(m.Z,{variant:"body2",children:"Urgent: Within 2 hours | High: 4-6 hours | Medium: 24 hours | Low: 48 hours"})]})]}),(0,se.jsx)(C.Z,{sx:{my:3}})]})})})]})}),(0,se.jsx)(w.Z,{open:ue,onClose:Le,maxWidth:"md",fullWidth:!0,children:ae&&(0,se.jsxs)(se.Fragment,{children:[(0,se.jsxs)(S.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,se.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",gap:2},children:[(0,se.jsx)(m.Z,{variant:"h6",children:"Ticket Details"}),(0,se.jsx)(u.Z,{label:Be(ae.status),sx:{backgroundColor:Me(ae.status),color:Se(ae.status),fontWeight:"bold",minWidth:"100px"}})]}),(0,se.jsx)(d.Z,{children:(0,se.jsx)(x.Z,{onClick:Le,children:(0,se.jsx)(Q.Z,{size:"20"})})})]}),(0,se.jsxs)(M.Z,{dividers:!0,sx:{p:3},children:[(0,se.jsx)(j.Z,{elevation:0,sx:{mb:3,backgroundColor:"background.default",borderRadius:1},children:(0,se.jsxs)(f.Z,{children:[(0,se.jsxs)(m.Z,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,se.jsx)(G.Z,{size:"20"})," Ticket Information"]}),(0,se.jsxs)(Z.Z,{spacing:2,children:[(0,se.jsxs)(d.Z,{children:[(0,se.jsx)(m.Z,{variant:"subtitle2",color:"textSecondary",children:"Title"}),(0,se.jsx)(m.Z,{variant:"h6",children:ae.subject})]}),(0,se.jsxs)(d.Z,{children:[(0,se.jsx)(m.Z,{variant:"subtitle2",color:"textSecondary",children:"Message"}),(0,se.jsx)(m.Z,{children:ae.message})]}),(0,se.jsxs)(v.ZP,{container:!0,spacing:2,children:[(0,se.jsx)(v.ZP,{item:!0,xs:6,children:(0,se.jsxs)(m.Z,{variant:"body2",children:[(0,se.jsx)("strong",{children:"Priority:"}),(0,se.jsx)(u.Z,{label:(0,ne.Z)(ae.priority),size:"small",sx:{ml:1,color:Pe(ae.priority),backgroundColor:ze(ae.priority)}})]})}),(0,se.jsx)(v.ZP,{item:!0,xs:6,children:(0,se.jsxs)(m.Z,{variant:"body2",children:[(0,se.jsx)("strong",{children:"Created:"})," ",ae.created_at]})}),(0,se.jsx)(v.ZP,{item:!0,xs:6,children:(0,se.jsxs)(m.Z,{variant:"body2",children:[(0,se.jsx)("strong",{children:"Last Updated:"})," ","-"]})})]})]})]})}),ae.replies.length>0?(0,se.jsxs)(d.Z,{sx:{mb:3},children:[(0,se.jsxs)(m.Z,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1,mb:2},children:[(0,se.jsx)(U.Z,{size:"20"})," Conversation History"]}),(0,se.jsx)(Z.Z,{spacing:2,children:ae.replies.map((function(e){return(0,se.jsxs)(k.Z,{elevation:0,sx:{p:2,bgcolor:e.sender_type===Ce?"secondary.light":"grey.100",alignSelf:e.sender_type===Ce?"flex-end":"flex-start",maxWidth:"80%",borderRadius:2,ml:e.sender_type===Ce?"auto":0,mr:e.sender_type===Ce?0:"auto"},children:[(0,se.jsxs)(m.Z,{variant:"subtitle2",gutterBottom:!0,sx:{display:"flex",justifyContent:"space-between"},children:[(0,se.jsx)("strong",{children:e.sender_name}),(0,se.jsx)(m.Z,{variant:"caption",children:e.created_at})]}),(0,se.jsx)(m.Z,{variant:"body2",children:e.message})]},e.reply_id)}))})]}):(0,se.jsxs)(k.Z,{elevation:0,sx:{p:3,mb:3,textAlign:"center",bgcolor:"background.default"},children:[(0,se.jsx)(U.Z,{size:32,color:"#ccc"}),(0,se.jsx)(m.Z,{variant:"body1",color:"textSecondary",sx:{mt:1},children:"No conversation yet. Admin will reply soon."})]}),"in_progress"===ae.status&&(0,se.jsxs)(d.Z,{children:[(0,se.jsxs)(m.Z,{variant:"h6",gutterBottom:!0,sx:{display:"flex",alignItems:"center",gap:1},children:[(0,se.jsx)(Y.Z,{size:"20"})," Your Reply"]}),(0,se.jsx)(y.Z,{fullWidth:!0,multiline:!0,rows:4,placeholder:"Type your reply here...",value:ve,onChange:function(e){return je(e.target.value)},variant:"outlined",sx:{mb:2}})]})]}),(0,se.jsxs)(P.Z,{sx:{p:2,justifyContent:"space-between"},children:[(0,se.jsx)(p.Z,{onClick:Le,color:"inherit",children:"Close"}),"in_progress"===ae.status&&(0,se.jsx)(p.Z,{variant:"contained",color:"primary",startIcon:(0,se.jsx)(Y.Z,{}),onClick:Ie,disabled:!ve.trim(),children:"Send Reply"})]})]})}),(0,se.jsx)(z.Z,{open:pe.open,autoHideDuration:6e3,onClose:Te,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:(0,se.jsx)(B.Z,{onClose:Te,severity:pe.severity,variant:"filled",sx:{width:"100%"},children:pe.message})})]})}},69977:function(){}}]);
//# sourceMappingURL=4108.186c581c.chunk.js.map