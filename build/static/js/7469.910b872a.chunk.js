"use strict";(self.webpackChunkable_pro_material_react=self.webpackChunkable_pro_material_react||[]).push([[7469],{42664:function(e,r,t){t.d(r,{g:function(){return i}});var n=t(72791),i=function(){return{checkPermission:(0,n.useCallback)((function(e,r){try{var t,n=JSON.parse(localStorage.getItem("auth")||"[]"),i=null===n||void 0===n?void 0:n.loginType,o=(null===n||void 0===n||null===(t=n.user)||void 0===t?void 0:t.permissions)||[];return"super_admin"===i||"admin"===i&&o.some((function(t){return t.module_name===e&&t.allowed_actions.includes(r)}))}catch(s){return console.error("Error checking permission:",s),!1}}),[])}}},17469:function(e,r,t){t.r(r);var n=t(4942),i=t(1413),o=t(61819),s=t(15861),a=t(29439),l=t(72791),d=t(43513),c=t(697),u=t(81918),h=t(20068),m=t(13400),p=t(58406),x=t(23786),f=t(61889),Z=t(36314),g=t(48550),v=t(63466),j=t(74982),_=t(68096),y=t(94294),b=t(13239),w=t(5574),C=t(65661),k=t(39157),S=t(17133),P=t(47071),B=t(97123),T=t(20890),E=t(49769),W=t(87102),z=t(61547),O=t(58536),I=t(10163),N=t(80527),A=t(35640),q=t(36277),M=t(8007),D=t(2314),R=t(23197),L=t(21830),F=t.n(L),H=t(42664),$=(t(91587),t(69977),t(24034)),V=t(85680),K=t(89731),U=t(37802),Y=t(57689),G=t(78045),J=t(80184);r.default=function(){var e=(0,Y.s0)(),r=(0,H.g)().checkPermission,t=r("Tutors","create"),L=r("Tutors","update"),Q=r("Tutors","delete"),X=(0,l.useState)(!1),ee=(0,a.Z)(X,2),re=ee[0],te=ee[1],ne=(0,l.useState)([]),ie=(0,a.Z)(ne,2),oe=ie[0],se=ie[1],ae=(0,l.useState)([]),le=(0,a.Z)(ae,2),de=le[0],ce=le[1],ue=(0,l.useState)([]),he=(0,a.Z)(ue,2),me=he[0],pe=he[1],xe=(0,l.useState)([]),fe=(0,a.Z)(xe,2),Ze=fe[0],ge=fe[1],ve=(0,l.useState)([]),je=(0,a.Z)(ve,2),_e=je[0],ye=je[1],be=(0,l.useState)(null),we=(0,a.Z)(be,2),Ce=we[0],ke=we[1],Se=(0,l.useState)(null),Pe=(0,a.Z)(Se,2),Be=Pe[0],Te=Pe[1],Ee=(0,l.useState)(null),We=(0,a.Z)(Ee,2),ze=We[0],Oe=We[1],Ie=(0,l.useState)(!1),Ne=(0,a.Z)(Ie,2),Ae=Ne[0],qe=Ne[1],Me=(0,l.useState)(null),De=(0,a.Z)(Me,2),Re=De[0],Le=De[1],Fe=(0,l.useState)(""),He=(0,a.Z)(Fe,2),$e=He[0],Ve=He[1],Ke=(0,l.useState)(!1),Ue=(0,a.Z)(Ke,2),Ye=Ue[0],Ge=Ue[1],Je=(0,l.useState)(!1),Qe=(0,a.Z)(Je,2),Xe=Qe[0],er=Qe[1],rr=(0,l.useState)(""),tr=(0,a.Z)(rr,2),nr=tr[0],ir=tr[1],or=(0,l.useState)(!1),sr=(0,a.Z)(or,2),ar=sr[0],lr=sr[1],dr=(0,l.useState)("all"),cr=(0,a.Z)(dr,2),ur=cr[0],hr=cr[1],mr=(0,l.useState)(!1),pr=(0,a.Z)(mr,2),xr=pr[0],fr=pr[1],Zr=(0,l.useState)(null),gr=(0,a.Z)(Zr,2),vr=gr[0],jr=gr[1],_r=(0,l.useState)(""),yr=(0,a.Z)(_r,2),br=yr[0],wr=yr[1],Cr=(0,l.useState)({}),kr=(0,a.Z)(Cr,2),Sr=kr[0],Pr=kr[1],Br=(0,l.useState)(!1),Tr=(0,a.Z)(Br,2),Er=Tr[0],Wr=Tr[1],zr=(0,l.useState)(""),Or=(0,a.Z)(zr,2),Ir=Or[0],Nr=Or[1],Ar=(0,l.useState)(!1),qr=(0,a.Z)(Ar,2),Mr=qr[0],Dr=qr[1],Rr=JSON.parse(localStorage.getItem("auth")),Lr=null===Rr||void 0===Rr?void 0:Rr.loginType,Fr=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var r,t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,te(!0),e.next=4,K.Z.get("".concat(R.t6,"api/trainer_list"));case 4:r=e.sent,t=r.data,se((null===t||void 0===t?void 0:t.trainer_data)||[]),ye((null===t||void 0===t?void 0:t.roles)||[]),ce((null===t||void 0===t?void 0:t.courses)||[]),pe((null===t||void 0===t?void 0:t.batches)||[]),ge((null===t||void 0===t?void 0:t.categories)||[]),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),ir(e.t0.message),se([]);case 17:return e.prev=17,te(!1),e.finish(17);case 20:case"end":return e.stop()}}),e,null,[[0,13,17,20]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){Fr()}),[]);var Hr=function(){Le(null),qe(!0)},$r=function(){Gr.resetForm(),qe(!1),fr(!1),jr(null),wr(""),Wr(!1),Nr(""),Pr({})},Vr=(0,l.useCallback)((function(r){r&&e("/tutors/".concat(r.employee_id),{state:{name:r.full_name,student_id:r.employee_id,user_type:r.user_type}})}),[e]),Kr=(0,l.useCallback)((function(r){r&&e("/batch",{state:{N_UserId:r.trainer_id,N_UserType:"tutor"}})}),[e]),Ur=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(r){return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Wr(!0),Nr(r.notes);case 2:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),Yr=M.Ry().shape({full_name:M.Z_().required("Name is required").min(3,"Name must be at least 3 characters").matches(/^[A-Za-z\s]+$/,"Name can only contain letters and spaces").test("no-only-spaces","Name cannot be only spaces",(function(e){return e&&e.trim().length>0})),employee_id:M.Z_().required("Employee id is required").test("no-only-spaces","Employee ID cannot be only spaces",(function(e){return e&&e.trim().length>0})),contact_no:M.Z_().required("Mobile is required").matches(/^[0-9]+$/,"Mobile must contain only numbers").min(10,"Mobile must be at least 10 digits").max(15,"Mobile must not exceed 15 digits"),password:Re?M.Z_():M.Z_().required("Password is required").min(8,"Password must be at least 8 characters").matches(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,"Password must contain at least one uppercase letter, one lowercase letter, one number, and one special character"),email:M.Z_().required("Email is required").email("Email is invalid"),username:M.Z_().required("User name is required").min(3,"User name must be at least 3 characters").test("no-only-spaces","Username cannot be only spaces",(function(e){return e&&e.trim().length>0})),gender:M.Z_().required("Gender is required"),specialization:M.Z_().required("Specialization is required").test("no-only-spaces","Specialization cannot be only spaces",(function(e){return e&&e.trim().length>0})),working_hours:M.Z_().required("Working Hours is required").test("no-only-spaces","Working hours cannot be only spaces",(function(e){return e&&e.trim().length>0})),status:M.Z_().required("Status is required"),notes:M.Z_().when(["status"],{is:function(e){var r;return e!==(null!==(r=null===Re||void 0===Re?void 0:Re.status)&&void 0!==r?r:"active")},then:function(){return M.Z_().required("Notes are required").test("no-only-spaces","Notes cannot be only spaces",(function(e){return e&&e.trim().length>0}))},otherwise:function(){return M.Z_().notRequired()}})}),Gr=(0,q.TA)({initialValues:{employee_id:(null===Re||void 0===Re?void 0:Re.employee_id)||"",full_name:(null===Re||void 0===Re?void 0:Re.full_name)||"",username:(null===Re||void 0===Re?void 0:Re.username)||"",user_type:"tutor",password:"",email:(null===Re||void 0===Re?void 0:Re.email)||"",contact_no:(null===Re||void 0===Re?void 0:Re.contact_no)||"",gender:(null===Re||void 0===Re?void 0:Re.gender)||"",specialization:(null===Re||void 0===Re?void 0:Re.specialization)||"",working_hours:(null===Re||void 0===Re?void 0:Re.working_hours)||"",status:(null===Re||void 0===Re?void 0:Re.status)||"active",notes:"",role_id:(null===Re||void 0===Re?void 0:Re.role)||""},validationSchema:Yr,enableReinitialize:!0,onSubmit:function(){var e=(0,s.Z)((0,o.Z)().mark((function e(r,t){var n,i,s,a,l,d,c,u;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.setSubmitting,i=t.resetForm,!Mr){e.next=3;break}return e.abrupt("return");case 3:if(Dr(!0),e.prev=4,s={employee_id:r.employee_id,full_name:r.full_name,username:r.username,password:r.password,user_type:r.user_type,email:r.email,contact_no:r.contact_no,gender:r.gender,specialization:r.specialization,working_hours:r.working_hours,status:r.status,notes:r.notes},!Re){e.next=12;break}return e.next=9,K.Z.patch("".concat(R.t6,"api/trainers/").concat(Re.employee_id),s);case 9:a=e.sent,e.next=15;break;case 12:return e.next=14,K.Z.post("".concat(R.t6,"api/trainers"),s);case 14:a=e.sent;case 15:!0===a.data.success?(l="tutor"===r.user_type?"Tutor":"Admin",d=Re?"updated":"added",F().fire({title:"Success!",text:"".concat(l," ").concat(d," successfully!"),icon:"success",confirmButtonText:"OK"}),i(),er(!1),$r(),Fr()):F().fire({title:"Error!",text:(null===(c=a)||void 0===c||null===(u=c.data)||void 0===u?void 0:u.message)||"Error submitting tutor data. Please try again.",icon:"error",confirmButtonText:"OK"}),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(4),console.error("Error submitting tutor data:",e.t0),F().fire({title:"Error!",text:e.t0.message||"Error submitting tutor data. Please try again.",icon:"error",confirmButtonText:"OK"});case 22:return e.prev=22,n(!1),Dr(!1),e.finish(22);case 26:case"end":return e.stop()}}),e,null,[[4,18,22,26]])})));return function(r,t){return e.apply(this,arguments)}}()});(0,l.useEffect)((function(){Gr.values.status!==((null===Re||void 0===Re?void 0:Re.status)||"active")?er(!0):er(!1)}),[Gr.values.status,null===Re||void 0===Re?void 0:Re.status]);var Jr=[{name:"S.No",selector:function(e){return e.sno},sortable:!0,width:"80px"},{name:"Employee Id",selector:function(e){return e.employee_id},sortable:!0,width:"150px"},{name:"Name",selector:function(e){return(0,V.Z)(e.full_name)},sortable:!0,width:"150px"},{name:"Mobile",selector:function(e){return e.contact_no},sortable:!0,width:"150px"},{name:"Email",selector:function(e){return e.email},sortable:!0,width:"300px"},{name:"Status",cell:function(e){return(0,J.jsx)(c.Z,{sx:{display:"flex",gap:1},children:(0,J.jsx)(u.Z,{label:"active"===e.status?"Active":"In active",sx:{backgroundColor:"active"===e.status?"success.lighter":"error.lighter",color:"active"===e.status?"success.main":"error.main"}})})},sortable:!0,width:"120px"},{name:"Actions",cell:function(e){return(0,J.jsxs)(c.Z,{sx:{display:"flex",gap:1},children:[(0,J.jsx)(h.Z,{title:"View",children:(0,J.jsx)(m.Z,{variant:"contained",color:"secondary",onClick:function(){return Vr(e)},children:(0,J.jsx)(E.Z,{})})}),(0,J.jsx)(h.Z,{title:"Batch",children:(0,J.jsx)(m.Z,{variant:"contained",color:"secondary",onClick:function(){return Kr(e)},children:(0,J.jsx)(W.Z,{})})}),L&&(0,J.jsx)(h.Z,{title:"Edit",children:(0,J.jsx)(m.Z,{color:"info",variant:"contained",onClick:function(){return Qr(e)},children:(0,J.jsx)(z.Z,{})})}),(0,J.jsx)(h.Z,{title:"Notes",children:(0,J.jsx)(m.Z,{color:"success",variant:"contained",onClick:function(){return Ur(e)},children:(0,J.jsx)(U.Z,{})})}),L||Q?(0,J.jsxs)(p.Z,{value:Sr[e.employee_id]||"action",onChange:function(r){return function(e,r){var t=e.target.value;switch(Pr((function(e){return(0,i.Z)((0,i.Z)({},e),{},(0,n.Z)({},r.employee_id,t))})),t){case"Reset Password":et(r);break;case"Delete":Xr(r.employee_id)}}(r,e)},sx:{width:"100px",height:"30px",mt:.5},children:[(0,J.jsx)(x.Z,{value:"action",children:"Action"}),L&&(0,J.jsx)(x.Z,{value:"Reset Password",children:"Reset Password"}),Q&&(0,J.jsx)(x.Z,{value:"Delete",children:"Delete"})]}):null]})},width:"300px"}],Qr=function(e){Le(e),qe(!0)},Xr=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(r){var t,n,i,s;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,F().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"});case 2:if(!e.sent.isConfirmed){e.next=14;break}return e.prev=4,e.next=7,K.Z.patch("".concat(R.t6,"api/trainers/").concat(r,"/archive"),{user_type:"admin"});case 7:!0===(t=e.sent).data.success?(F().fire({title:"Success!",text:"Tutor deleted successfully!",icon:"success",confirmButtonText:"OK"}),Fr()):F().fire({title:"Error!",text:(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error deleting data.",icon:"error",confirmButtonText:"OK"}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(4),F().fire({title:"Error!",text:(null===(i=e.t0.response)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)||"Failed to delete tutor.",icon:"error",confirmButtonText:"OK"});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})));return function(r){return e.apply(this,arguments)}}(),et=function(e){jr(e),fr(!0)},rt=function(){var e=(0,s.Z)((0,o.Z)().mark((function e(){var r,t;return(0,o.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K.Z.patch("".concat(R.t6,"api/trainer/").concat(vr.employee_id,"/reset_password"),{new_password:br});case 2:if(!0!==(r=e.sent).data.success){e.next=8;break}return e.next=6,F().fire({title:"Success!",text:"Password reset successfully",icon:"success",showConfirmButton:!0,confirmButtonText:"OK"});case 6:e.next=10;break;case 8:return e.next=10,F().fire({title:"Error!",text:(null===r||void 0===r||null===(t=r.data)||void 0===t?void 0:t.message)||"Error resetting password",icon:"error",showConfirmButton:!0,confirmButtonText:"OK"});case 10:fr(!1),$r();case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),tt=(0,l.useMemo)((function(){var e=oe.filter((function(e){if($e){var r,t,n,i,o=$e.toLowerCase();if(!((null===(r=e.full_name)||void 0===r?void 0:r.toLowerCase().includes(o))||(null===(t=e.email)||void 0===t?void 0:t.toLowerCase().includes(o))||(null===(n=e.contact_no)||void 0===n?void 0:n.toLowerCase().includes(o))||(null===(i=e.employee_id)||void 0===i?void 0:i.toLowerCase().includes(o))))return!1}if("all"!==ur){var s="active"===ur;if("active"===e.status!==s)return!1}if(null!==ze&&void 0!==ze&&ze.category_id&&!(e.category_id||[]).includes(ze.category_id))return!1;if(null!==Ce&&void 0!==Ce&&Ce.course_id&&!(e.course_id||[]).includes(Ce.course_id))return!1;if(null!==Be&&void 0!==Be&&Be.batch_id&&!(e.batch_id||[]).includes(Be.batch_id))return!1;return!0})),r=Ze,t=de,n=me;if(null!==ze&&void 0!==ze&&ze.category_id&&(r=Ze.filter((function(e){return e.category_id===ze.category_id})),t=de.filter((function(e){return e.category_id===ze.category_id})),n=me.filter((function(e){return e.category_id===ze.category_id}))),null!==Ce&&void 0!==Ce&&Ce.course_id){var i=de.find((function(e){return e.course_id===Ce.course_id}));i&&(r=Ze.filter((function(e){return e.category_id===i.category_id})),t=de.filter((function(e){return e.course_id===Ce.course_id})),n=me.filter((function(e){return e.course_id===Ce.course_id})))}if(null!==Be&&void 0!==Be&&Be.batch_id){var o=me.find((function(e){return e.batch_id===Be.batch_id}));o&&(r=Ze.filter((function(e){return e.category_id===o.category_id})),t=de.filter((function(e){return e.course_id===o.course_id})),n=me.filter((function(e){return e.batch_id===Be.batch_id})))}return{filteredCategories:r,filteredCourses:t,filteredBatches:n,filteredTutors:e}}),[oe,Ze,de,me,ze,Ce,Be,ur,$e]),nt=tt.filteredCategories,it=tt.filteredCourses,ot=tt.filteredBatches,st=tt.filteredTutors.map((function(e,r){return(0,i.Z)((0,i.Z)({},e),{},{sno:r+1})})),at=(0,l.useMemo)((function(){return(0,J.jsxs)(f.ZP,{container:!0,justifyContent:"space-between",alignItems:"flex-start",spacing:2,my:3,children:[(0,J.jsx)(f.ZP,{item:!0,xs:12,md:10,children:(0,J.jsx)(Z.Z,{direction:{xs:"column",sm:"row"},alignItems:{xs:"stretch",sm:"center"},spacing:2,width:"100%",children:(0,J.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"row",flexWrap:"wrap",gap:2,width:{xs:"100%",sm:"auto"},"& > *":{minWidth:{xs:"calc(50% - 8px)",sm:200},flexGrow:1}},children:[(0,J.jsx)(g.Z,{placeholder:"Search by name, ID, email, or phone...",variant:"outlined",size:"small",sx:{minWidth:{xs:"100%",sm:250},flexGrow:1},value:$e,onChange:function(e){return Ve(e.target.value)},InputProps:{startAdornment:(0,J.jsx)(v.Z,{position:"start",children:(0,J.jsx)(O.Z,{size:20})}),endAdornment:(0,J.jsx)(v.Z,{position:"end",children:$e&&(0,J.jsx)(m.Z,{onClick:function(){$e&&(lr(!ar),Ve(""))},edge:"end",size:"small",children:(0,J.jsx)(I.Z,{size:20})})})}}),("admin"===Lr||"super_admin"===Lr)&&(0,J.jsxs)(J.Fragment,{children:[(0,J.jsx)(j.Z,{id:"category_id",options:nt||[],getOptionLabel:function(e){return e.category_name||""},value:ze,onChange:function(e,r){Oe(r),ke(null),Te(null)},size:"small",renderInput:function(e){return(0,J.jsx)(g.Z,(0,i.Z)((0,i.Z)({},e),{},{placeholder:"Filter by category...",InputProps:(0,i.Z)({},e.InputProps)}))},filterOptions:function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(r){var t;return null===(t=r.category_name)||void 0===t?void 0:t.toLowerCase().includes(e.inputValue.toLowerCase())}))},isOptionEqualToValue:function(e,r){return e.category_id===r.category_id},renderOption:function(e,r){return(0,l.createElement)("li",(0,i.Z)((0,i.Z)({},e),{},{key:r.category_id}),r.category_name)}}),(0,J.jsx)(j.Z,{id:"course_id",options:it||[],getOptionLabel:function(e){return e.course_name||""},value:Ce,onChange:function(e,r){ke(r),Te(null)},size:"small",renderInput:function(e){return(0,J.jsx)(g.Z,(0,i.Z)((0,i.Z)({},e),{},{placeholder:"Filter by course..."}))},filterOptions:function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(r){var t;return null===(t=r.course_name)||void 0===t?void 0:t.toLowerCase().includes(e.inputValue.toLowerCase())}))},isOptionEqualToValue:function(e,r){return e.course_id===r.course_id},renderOption:function(e,r){return(0,l.createElement)("li",(0,i.Z)((0,i.Z)({},e),{},{key:r.course_id}),r.course_name)}}),(0,J.jsx)(j.Z,{id:"batch_id",options:ot||[],getOptionLabel:function(e){return e.title||""},value:Be,onChange:function(e,r){Te(r)},size:"small",renderInput:function(e){return(0,J.jsx)(g.Z,(0,i.Z)((0,i.Z)({},e),{},{placeholder:"Filter by batch...",InputProps:(0,i.Z)({},e.InputProps)}))},filterOptions:function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(r){var t;return null===(t=r.title)||void 0===t?void 0:t.toLowerCase().includes(e.inputValue.toLowerCase())}))},isOptionEqualToValue:function(e,r){return e.batch_id===r.batch_id},renderOption:function(e,r){return(0,l.createElement)("li",(0,i.Z)((0,i.Z)({},e),{},{key:r.batch_id}),r.title)}})]}),(0,J.jsx)(_.Z,{size:"small",sx:{minWidth:"auto !important"},children:(0,J.jsxs)(p.Z,{value:ur,onChange:function(e){return hr(e.target.value)},displayEmpty:!0,sx:{maxWidth:"200px"},endAdornment:"all"!==ur&&(0,J.jsx)(v.Z,{position:"end",sx:{mr:3},children:(0,J.jsx)(m.Z,{onClick:function(){hr("all")},edge:"end",size:"small",children:(0,J.jsx)(I.Z,{size:16})})}),children:[(0,J.jsx)(x.Z,{value:"all",children:"Select Status"}),(0,J.jsx)(x.Z,{value:"active",children:"Active"}),(0,J.jsx)(x.Z,{value:"inactive",children:"In active"})]})})]})})}),(0,J.jsx)(f.ZP,{item:!0,xs:12,md:2,sx:{textAlign:{xs:"left",md:"right"},mt:{xs:1,md:0}},children:("admin"===Lr||"super_admin"===Lr)&&t&&(0,J.jsx)(y.Z,{color:"success",variant:"contained",startIcon:(0,J.jsx)(N.Z,{}),onClick:Hr,sx:{width:{xs:"100%",sm:"auto"}},children:"Add"})})]})}),[$e,ar,ur,t,nt,it,ot,ze,Ce,Be,Lr]);return nr?(0,J.jsx)($.Z,{sx:{borderRadius:2},children:(0,J.jsxs)(c.Z,{p:3,color:"error.main",children:["Error: ",nr]})}):(0,J.jsxs)($.Z,{sx:{borderRadius:2},children:[at,re?(0,J.jsx)(Z.Z,{alignItems:"center",justifyContent:"center",sx:{minHeight:300},children:(0,J.jsx)(b.Z,{})}):(0,J.jsx)(d.ZP,{columns:Jr,data:st,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,20,30],highlightOnHover:!0,progressPending:re,responsive:!0}),(0,J.jsxs)(w.Z,{maxWidth:"sm",TransitionComponent:D.S,keepMounted:!0,fullWidth:!0,open:Ae,onClose:function(e,r){"backdropClick"!==r&&$r()},BackdropProps:{onClick:function(e){return e.stopPropagation()}},sx:{"& .MuiDialog-paper":{p:0},transition:"transform 225ms"},"aria-describedby":"alert-dialog-slide-description",children:[(0,J.jsxs)(C.Z,{className:"dialogTitle",children:[Re?"Edit Trainer":"Add New Trainer",(0,J.jsx)(m.Z,{color:"dark",onClick:$r,edge:"end",size:"big","aria-label":"close",title:"close",children:(0,J.jsx)(I.Z,{height:80})})]}),(0,J.jsx)(k.Z,{children:(0,J.jsx)("form",{autoComplete:"off",noValidate:!0,onSubmit:Gr.handleSubmit,children:(0,J.jsxs)(f.ZP,{container:!0,spacing:2,children:[(0,J.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,J.jsxs)(Z.Z,{sx:{mt:2,gap:1},children:[(0,J.jsx)(S.Z,{children:"Employee Id*"}),(0,J.jsx)(g.Z,{fullWidth:!0,id:"employee_id",name:"employee_id",value:Gr.values.employee_id,onChange:Gr.handleChange,onBlur:Gr.handleBlur,error:Gr.touched.employee_id&&Boolean(Gr.errors.employee_id),helperText:Gr.touched.employee_id&&Gr.errors.employee_id})]})}),(0,J.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,J.jsxs)(Z.Z,{sx:{mt:2,gap:1},children:[(0,J.jsx)(S.Z,{children:"Name*"}),(0,J.jsx)(g.Z,{fullWidth:!0,id:"full_name",name:"full_name",value:Gr.values.full_name,onChange:Gr.handleChange,onBlur:Gr.handleBlur,error:Gr.touched.full_name&&Boolean(Gr.errors.full_name),helperText:Gr.touched.full_name&&Gr.errors.full_name})]})}),(0,J.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,J.jsxs)(Z.Z,{sx:{mt:2,gap:1},children:[(0,J.jsx)(S.Z,{children:"User Name*"}),(0,J.jsx)(g.Z,{fullWidth:!0,id:"username",name:"username",value:Gr.values.username,onChange:Gr.handleChange,onBlur:Gr.handleBlur,error:Gr.touched.username&&Boolean(Gr.errors.username),helperText:Gr.touched.username&&Gr.errors.username,autoComplete:"new-username"})]})}),!Re&&(0,J.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,J.jsxs)(Z.Z,{sx:{mt:2,gap:1},children:[(0,J.jsx)(S.Z,{children:"Password*"}),(0,J.jsx)(g.Z,{fullWidth:!0,id:"password",name:"password",type:Ye?"text":"password",value:Gr.values.password,onChange:Gr.handleChange,onBlur:Gr.handleBlur,error:Gr.touched.password&&Boolean(Gr.errors.password),helperText:Gr.touched.password&&Gr.errors.password,autoComplete:"new-password",InputProps:{endAdornment:(0,J.jsx)(v.Z,{position:"end",children:(0,J.jsx)(m.Z,{"aria-label":"toggle password visibility",onClick:function(){return Ge(!Ye)},edge:"end",children:Ye?(0,J.jsx)(E.Z,{}):(0,J.jsx)(A.Z,{})})})}})]})}),"admin"===Gr.values.user_type&&(0,J.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,J.jsxs)(Z.Z,{sx:{mt:2,gap:1},children:[(0,J.jsx)(S.Z,{children:"Role*"}),(0,J.jsx)(j.Z,{id:"role_id",options:_e||[],getOptionLabel:function(e){return null===e||void 0===e?void 0:e.name},value:(null===_e||void 0===_e?void 0:_e.find((function(e){var r;return e.role_id===(null===(r=Gr.values)||void 0===r?void 0:r.role_id)})))||null,onChange:function(e,r){Gr.setFieldValue("role_id",(null===r||void 0===r?void 0:r.role_id)||"")},onBlur:Gr.handleBlur,renderInput:function(e){return(0,J.jsx)(g.Z,(0,i.Z)((0,i.Z)({},e),{},{placeholder:"Search role...",error:Gr.touched.role_id&&Boolean(Gr.errors.role_id)}))},filterOptions:function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(r){return r.name.toLowerCase().includes(e.inputValue.toLowerCase())}))},isOptionEqualToValue:function(e,r){return e.role_id===r.role_id},renderOption:function(e,r){return(0,l.createElement)("li",(0,i.Z)((0,i.Z)({},e),{},{key:r.role_id}),r.name)}}),Gr.touched.role_id&&Gr.errors.role_id&&(0,J.jsx)(P.Z,{error:!0,children:Gr.errors.role_id})]})}),(0,J.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,J.jsxs)(Z.Z,{sx:{mt:2,gap:1},children:[(0,J.jsx)(S.Z,{children:"Email Address*"}),(0,J.jsx)(g.Z,{fullWidth:!0,id:"email",name:"email",type:"email",value:Gr.values.email,onChange:Gr.handleChange,onBlur:Gr.handleBlur,error:Gr.touched.email&&Boolean(Gr.errors.email),helperText:Gr.touched.email&&Gr.errors.email})]})}),(0,J.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,J.jsxs)(Z.Z,{sx:{mt:2,gap:1},children:[(0,J.jsx)(S.Z,{children:"Phone Number*"}),(0,J.jsx)(g.Z,{fullWidth:!0,id:"contact_no",name:"contact_no",value:Gr.values.contact_no,onChange:Gr.handleChange,onBlur:Gr.handleBlur,error:Gr.touched.contact_no&&Boolean(Gr.errors.contact_no),helperText:Gr.touched.contact_no&&Gr.errors.contact_no})]})}),(0,J.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,J.jsxs)(Z.Z,{sx:{mt:2,gap:1},children:[(0,J.jsx)(S.Z,{children:"Gender*"}),(0,J.jsxs)(g.Z,{select:!0,fullWidth:!0,id:"gender",name:"gender",value:Gr.values.gender,onChange:Gr.handleChange,onBlur:Gr.handleBlur,error:Gr.touched.gender&&Boolean(Gr.errors.gender),helperText:Gr.touched.gender&&Gr.errors.gender,SelectProps:{displayEmpty:!0},children:[(0,J.jsx)(x.Z,{value:"",children:"Select Gender"}),(0,J.jsx)(x.Z,{value:"male",children:"Male"}),(0,J.jsx)(x.Z,{value:"female",children:"Female"}),(0,J.jsx)(x.Z,{value:"other",children:"Other"})]})]})}),(0,J.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,J.jsxs)(Z.Z,{sx:{mt:2,gap:1},children:[(0,J.jsx)(S.Z,{children:"Specialization*"}),(0,J.jsx)(g.Z,{fullWidth:!0,id:"specialization",name:"specialization",value:Gr.values.specialization,onChange:Gr.handleChange,onBlur:Gr.handleBlur,error:Gr.touched.specialization&&Boolean(Gr.errors.specialization),helperText:Gr.touched.specialization&&Gr.errors.specialization})]})}),(0,J.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,J.jsxs)(Z.Z,{sx:{mt:2,gap:1},children:[(0,J.jsx)(S.Z,{children:"Working Hours*"}),(0,J.jsx)(g.Z,{fullWidth:!0,id:"working_hours",name:"working_hours",value:Gr.values.working_hours,onChange:Gr.handleChange,onBlur:Gr.handleBlur,error:Gr.touched.working_hours&&Boolean(Gr.errors.working_hours),helperText:Gr.touched.working_hours&&Gr.errors.working_hours})]})}),(0,J.jsx)(f.ZP,{item:!0,xs:12,md:6,children:(0,J.jsxs)(Z.Z,{sx:{mt:2,gap:1},children:[(0,J.jsx)(S.Z,{children:"Status*"}),(0,J.jsxs)(g.Z,{select:!0,fullWidth:!0,id:"status",name:"status",value:Gr.values.status,onChange:Gr.handleChange,onBlur:Gr.handleBlur,error:Gr.touched.status&&Boolean(Gr.errors.status),helperText:Gr.touched.status&&Gr.errors.status,SelectProps:{displayEmpty:!0},children:[(0,J.jsx)(x.Z,{value:"",children:"Select status"}),(0,J.jsx)(x.Z,{value:"active",children:"Active"}),(0,J.jsx)(x.Z,{value:"inactive",children:"Inactive"})]})]})}),Xe&&(0,J.jsx)(f.ZP,{item:!0,xs:12,children:(0,J.jsxs)(Z.Z,{sx:{mt:2,gap:1},children:[(0,J.jsx)(S.Z,{children:"Notes*"}),(0,J.jsx)(g.Z,{fullWidth:!0,id:"notes",placeholder:"Notes",name:"notes",multiline:!0,rows:4,value:Gr.values.notes,onChange:Gr.handleChange,onBlur:Gr.handleBlur,error:Gr.touched.notes&&Boolean(Gr.errors.notes),helperText:Gr.touched.notes&&Gr.errors.notes})]})}),(0,J.jsx)(f.ZP,{item:!0,xs:12,children:(0,J.jsxs)(B.Z,{children:[(0,J.jsx)(y.Z,{onClick:$r,children:"Cancel"}),(0,J.jsx)(y.Z,{type:"submit",variant:"contained",disabled:Gr.isSubmitting,children:Gr.isSubmitting?"Processing...":Re?"Update":"Add"})]})})]})})})]}),(0,J.jsxs)(w.Z,{maxWidth:"xs",TransitionComponent:D.S,keepMounted:!0,fullWidth:!0,open:xr,onClose:function(e,r){"backdropClick"!==r&&$r()},BackdropProps:{onClick:function(e){return e.stopPropagation()}},sx:{"& .MuiDialog-paper":{p:0},transition:"transform 225ms"},"aria-describedby":"alert-dialog-slide-description",children:[(0,J.jsxs)(C.Z,{className:"dialogTitle",sx:{borderBottom:1,borderColor:"divider"},children:["Reset Password",(0,J.jsx)(m.Z,{color:"dark",onClick:$r,edge:"end",size:"big","aria-label":"close",title:"close",children:(0,J.jsx)(I.Z,{height:30})})]}),(0,J.jsx)(k.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,J.jsx)(f.ZP,{container:!0,spacing:2,children:(0,J.jsx)(f.ZP,{item:!0,xs:12,children:(0,J.jsxs)(Z.Z,{spacing:2,sx:{mt:2},children:[(0,J.jsx)(S.Z,{children:"Reset Password"}),(0,J.jsx)(g.Z,{autoFocus:!0,margin:"dense",placeholder:"New Password",type:Ye?"text":"password",fullWidth:!0,variant:"outlined",value:br,onChange:function(e){return wr(e.target.value)},InputProps:{endAdornment:(0,J.jsx)(v.Z,{position:"end",children:(0,J.jsx)(m.Z,{"aria-label":"toggle password visibility",onClick:function(){return Ge(!Ye)},edge:"end",children:Ye?(0,J.jsx)(E.Z,{}):(0,J.jsx)(A.Z,{})})})},sx:{mt:2}})]})})})}),(0,J.jsxs)(B.Z,{children:[(0,J.jsx)(y.Z,{onClick:$r,children:"Cancel"}),(0,J.jsx)(y.Z,{onClick:rt,variant:"contained",color:"primary",children:"Reset Password"})]})]}),(0,J.jsxs)(w.Z,{maxWidth:"sm",TransitionComponent:D.S,keepMounted:!0,fullWidth:!0,open:Er,onClose:function(e,r){"backdropClick"!==r&&$r()},BackdropProps:{onClick:function(e){return e.stopPropagation()}},sx:{"& .MuiDialog-paper":{p:0},transition:"transform 225ms"},"aria-describedby":"alert-dialog-slide-description",children:[(0,J.jsxs)(C.Z,{className:"dialogTitle",sx:{borderBottom:1,borderColor:"divider"},children:["Notes",(0,J.jsx)(m.Z,{color:"dark",onClick:$r,edge:"end",size:"big","aria-label":"close",title:"close",children:(0,J.jsx)(I.Z,{height:30})})]}),(0,J.jsx)(k.Z,{sx:{borderBottom:1,borderColor:"divider",py:3},children:(0,J.jsx)(f.ZP,{container:!0,spacing:3,children:(0,J.jsx)(f.ZP,{item:!0,xs:12,children:(0,J.jsx)(Z.Z,{spacing:3,sx:{mt:1},children:Ir&&Ir.length>0?Ir.map((function(e){return(0,J.jsx)(c.Z,{sx:{p:3,border:1,borderColor:"divider",borderRadius:2,backgroundColor:"background.paper",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",transition:"all 0.2s ease-in-out","&:hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.15)",transform:"translateY(-1px)"}},children:(0,J.jsxs)(f.ZP,{container:!0,spacing:3,alignItems:"flex-start",children:[(0,J.jsx)(f.ZP,{item:!0,xs:12,sm:3,children:(0,J.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,J.jsx)(T.Z,{variant:"caption",color:"text.secondary",fontWeight:"bold",children:"CREATED BY"}),(0,J.jsxs)(c.Z,{sx:{display:"flex",alignItems:"center",gap:1},children:[(0,J.jsx)(c.Z,{sx:{width:8,height:8,borderRadius:"50%",backgroundColor:"active"===e.status?"success.main":"error.main"}}),(0,J.jsx)(T.Z,{variant:"body1",fontWeight:"medium",fontSize:"1.1rem",children:e.created_by||"-"})]})]})}),(0,J.jsx)(f.ZP,{item:!0,xs:12,sm:4,children:(0,J.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,J.jsx)(T.Z,{variant:"caption",color:"text.secondary",fontWeight:"bold",children:"REASON"}),(0,J.jsx)(c.Z,{sx:{p:1.5,border:1,borderColor:"divider",borderRadius:1,backgroundColor:"grey.50",minHeight:"60px",display:"flex",alignItems:"flex-start"},children:(0,J.jsx)(T.Z,{variant:"body1",sx:{lineHeight:1.5,wordWrap:"break-word",overflowWrap:"break-word",whiteSpace:"normal",wordBreak:"break-word",width:"100%"},children:e.reason||"-"})})]})}),(0,J.jsx)(f.ZP,{item:!0,xs:12,sm:3,children:(0,J.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,J.jsx)(T.Z,{variant:"caption",color:"text.secondary",fontWeight:"bold",children:"DATE"}),(0,J.jsx)(T.Z,{variant:"body1",sx:{backgroundColor:"action.hover",px:1.5,py:.5,borderRadius:1,display:"inline-block",width:"fit-content"},children:(0,G.o)(e.created_at,{includeTime:!1})||"-"})]})}),(0,J.jsx)(f.ZP,{item:!0,xs:12,sm:2,children:(0,J.jsxs)(c.Z,{sx:{display:"flex",flexDirection:"column",gap:1},children:[(0,J.jsx)(T.Z,{variant:"caption",color:"text.secondary",fontWeight:"bold",children:"STATUS"}),(0,J.jsx)(c.Z,{sx:{borderRadius:2,width:"fit-content"},children:(0,J.jsx)(u.Z,{label:"active"===e.status?"Active":"Inactive",sx:{color:"active"===e.status?"success.dark":"error.dark",fontWeight:600}})})]})})]})},e.id)})):(0,J.jsxs)(c.Z,{sx:{p:6,textAlign:"center",border:2,borderColor:"divider",borderStyle:"dashed",borderRadius:3,backgroundColor:"action.hover",my:2},children:[(0,J.jsx)(T.Z,{variant:"h6",color:"text.secondary",gutterBottom:!0,children:"No Notes Available"}),(0,J.jsx)(T.Z,{variant:"body2",color:"text.secondary",children:"There are no notes to display at the moment."})]})})})})}),(0,J.jsx)(B.Z,{children:(0,J.jsx)(y.Z,{onClick:$r,children:"Cancel"})})]})]})}},78045:function(e,r,t){t.d(r,{o:function(){return o}});var n=t(29439),i=t(23197),o=function(e){var r,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=t.includeTime,s=void 0===o||o,a=t.includeSeconds,l=void 0!==a&&a,d=t.timeOnly,c=void 0!==d&&d,u=t.useCurrentIfEmpty,h=void 0!==u&&u,m=t.fallback,p=void 0===m?"":m;if(e)if("string"===typeof e&&/^\d{1,2}:\d{2}(:\d{2})?$/.test(e)){var x=e.split(":").map(Number),f=(0,n.Z)(x,3),Z=f[0],g=f[1],v=f[2];(r=new Date).setHours(Z,g,v||0,0)}else r=e instanceof Date?e:new Date(e);else{if(!h)return p;r=new Date}if(isNaN(r.getTime()))return p;var j=function(e,r){var t=r.getHours(),n=t>=12,i={yyyy:r.getFullYear(),yy:String(r.getFullYear()).slice(-2),MM:String(r.getMonth()+1).padStart(2,"0"),M:r.getMonth()+1,dd:String(r.getDate()).padStart(2,"0"),d:r.getDate(),HH:String(t).padStart(2,"0"),H:t,hh:String(t%12||12).padStart(2,"0"),h:t%12||12,mm:String(r.getMinutes()).padStart(2,"0"),m:r.getMinutes(),ss:String(r.getSeconds()).padStart(2,"0"),s:r.getSeconds(),a:n?"PM":"AM"};return e.replace(/(yyyy|yy|MM|M|dd|d|HH|H|hh|h|mm|m|ss|s|a)/g,(function(e){return i[e]||e}))};if(c){var _=i.ZP.timeFormat;return l||(_=(_=(_=_.replace(/:ss?/g,"")).replace(/(^|\s)ss?(\s|$)/g,"$1$2")).replace(/::/g,":").replace(/(\s|^):|:(\s|$)/g,"$1$2")),j(_,r)}if(s){var y=j(i.ZP.dateFormat,r),b=i.ZP.timeFormat;l||(b=(b=b.replace(/[:\\/]?ss?/g,"")).replace(/::/g,":").replace(/:$/,""));var w=j(b,r);return"".concat(y," ").concat(w)}return j(i.ZP.dateFormat,r)}},69977:function(){}}]);
//# sourceMappingURL=7469.910b872a.chunk.js.map