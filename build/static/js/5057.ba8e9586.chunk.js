"use strict";(self.webpackChunkable_pro_material_react=self.webpackChunkable_pro_material_react||[]).push([[5057],{45057:function(e,t,n){n.r(t);var r=n(93433),i=n(61819),a=n(1413),c=n(15861),o=n(29439),l=n(72791),s=n(43513),u=n(697),d=n(20068),h=n(13400),p=n(61889),m=n(36314),f=n(94294),x=n(5574),Z=n(65661),g=n(39157),k=n(17133),v=n(48550),b=n(97123),j=n(62634),C=n(17139),E=n(60592),w=n(10163),P=n(36277),B=n(89731),S=n(8007),y=n(2314),T=n(66770),M=n.n(T),L=(n(86009),n(91587),n(69977),n(24034)),V=n(23197),_=n(21830),O=n.n(_),z=n(80184);t.default=function(){var e=(0,l.useState)(!1),t=(0,o.Z)(e,2),n=t[0],T=t[1],_=(0,l.useState)(null),F=(0,o.Z)(_,2),H=F[0],W=F[1],q=(0,l.useState)([]),A=(0,o.Z)(q,2),N=A[0],D=A[1],R=(0,l.useState)(!0),K=(0,o.Z)(R,2),Y=K[0],U=K[1],I=(0,l.useState)(""),G=(0,o.Z)(I,2),J=G[0],Q=G[1],X=(0,l.useCallback)((0,c.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.Z.get("".concat(V.t6,"api/cms"));case 3:t=e.sent,n=t.data.data.map((function(e,t){return(0,a.Z)((0,a.Z)({},e),{},{sno:t+1})})),D(n),U(!1),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching CMS data:",e.t0),U(!1);case 13:case"end":return e.stop()}}),e,null,[[0,9]])}))),[]);(0,l.useEffect)((function(){X()}),[X]);var $=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O().fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"});case 3:if(e.sent.isConfirmed){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,B.Z.patch("".concat(V.t6,"api/cms/").concat(t,"/archive"));case 8:D(N.filter((function(e){return e.id!==t}))),O().fire({title:"Deleted!",text:"Your page has been deleted.",icon:"success",showConfirmButton:!0}),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error deleting CMS page:",e.t0),O().fire({title:"Error!",text:"Failed to delete the page. Please try again.",icon:"error",confirmButtonText:"OK"});case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),ee=function(){T(!1),ne.resetForm()},te=S.Ry().shape({title:S.Z_().required("Title is required"),link:S.Z_().required("Link is required")}),ne=(0,P.TA)({initialValues:{title:(null===H||void 0===H?void 0:H.title)||"",link:(null===H||void 0===H?void 0:H.link)||"",description:(null===H||void 0===H?void 0:H.description)||""},validationSchema:te,enableReinitialize:!0,onSubmit:function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t,n){var c,o,l,s;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=n.setSubmitting,e.prev=1,o=(0,a.Z)((0,a.Z)({},t),{},{description:J}),!H){e.next=10;break}return e.next=6,B.Z.patch("".concat(V.t6,"api/cms/").concat(H.id,"/"),o);case 6:!0===(l=e.sent).data.success&&(O().fire({title:"Success!",text:l.data.message,icon:"success",confirmButtonText:"OK"}),D(N.map((function(e){return e.id===H.id?l.data.data:e})))),e.next=14;break;case 10:return e.next=12,B.Z.post("".concat(V.t6,"api/cms"),o);case 12:!0===(s=e.sent).data.success&&(O().fire({title:"Success!",text:s.data.message,icon:"success",confirmButtonText:"OK"}),D([].concat((0,r.Z)(N),[s.data.data])));case 14:ee(),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("Error saving CMS page:",e.t0);case 20:return e.prev=20,c(!1),e.finish(20);case 23:case"end":return e.stop()}}),e,null,[[1,17,20,23]])})));return function(t,n){return e.apply(this,arguments)}}()}),re=[{name:"S.No",selector:function(e){return e.sno},sortable:!0,width:"80px"},{name:"Title",selector:function(e){return e.title},sortable:!0},{name:"Link",selector:function(e){return(0,z.jsx)("a",{href:"".concat(e.link),target:"_blank",rel:"noopener noreferrer",children:e.link})},sortable:!0},{name:"Actions",cell:function(e){return(0,z.jsxs)(u.Z,{sx:{display:"flex",gap:1},children:[(0,z.jsx)(d.Z,{title:"Edit",children:(0,z.jsx)(h.Z,{variant:"contained",color:"info",onClick:function(){return W(t=e),Q(t.description||""),void T(!0);var t},children:(0,z.jsx)(j.Z,{})})}),(0,z.jsx)(d.Z,{title:"Delete",children:(0,z.jsx)(h.Z,{variant:"contained",color:"error",onClick:function(){return $(e.id)},children:(0,z.jsx)(C.Z,{})})})]})}}];return(0,z.jsxs)(L.Z,{children:[(0,z.jsx)(p.ZP,{item:!0,container:!0,justifyContent:"flex-end",mb:3,children:(0,z.jsx)(p.ZP,{item:!0,children:(0,z.jsx)(m.Z,{spacing:2,children:(0,z.jsx)(u.Z,{sx:{display:"flex"},children:(0,z.jsx)(f.Z,{color:"success",variant:"contained",startIcon:(0,z.jsx)(E.Z,{}),onClick:function(){W(null),Q(""),T(!0)},children:"Add New Page"})})})})}),(0,z.jsx)(s.ZP,{columns:re,data:N,pagination:!0,progressPending:Y,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,20,30],highlightOnHover:!0,responsive:!0}),(0,z.jsxs)(x.Z,{maxWidth:"md",TransitionComponent:y.S,keepMounted:!0,fullWidth:!0,open:n,onClose:function(e,t){"backdropClick"!==t&&ee()},BackdropProps:{onClick:function(e){return e.stopPropagation()}},sx:{"& .MuiDialog-paper":{p:0},transition:"transform 225ms"},"aria-describedby":"alert-dialog-slide-description",children:[(0,z.jsxs)(Z.Z,{className:"dialogTitle",children:[H?"Edit Page":"Add New Page",(0,z.jsx)(h.Z,{color:"dark",onClick:ee,edge:"end",size:"big","aria-label":"close",children:(0,z.jsx)(w.Z,{})})]}),(0,z.jsx)(g.Z,{children:(0,z.jsxs)("form",{onSubmit:ne.handleSubmit,children:[(0,z.jsxs)(p.ZP,{container:!0,spacing:2,sx:{mt:1},children:[(0,z.jsx)(p.ZP,{item:!0,xs:12,children:(0,z.jsxs)(m.Z,{spacing:1,children:[(0,z.jsx)(k.Z,{children:"Title *"}),(0,z.jsx)(v.Z,{fullWidth:!0,id:"title",name:"title",placeholder:"e.g., About Us, Privacy Policy",value:ne.values.title,onChange:ne.handleChange,onBlur:ne.handleBlur,error:ne.touched.title&&Boolean(ne.errors.title),helperText:ne.touched.title&&ne.errors.title})]})}),(0,z.jsx)(p.ZP,{item:!0,xs:12,children:(0,z.jsxs)(m.Z,{spacing:1,children:[(0,z.jsx)(k.Z,{children:"Link *"}),(0,z.jsx)(v.Z,{fullWidth:!0,id:"link",name:"link",placeholder:"e.g., https://example.com",value:ne.values.link,onChange:ne.handleChange,onBlur:ne.handleBlur,error:ne.touched.link&&Boolean(ne.errors.link),helperText:ne.touched.link&&ne.errors.link})]})}),(0,z.jsx)(p.ZP,{item:!0,xs:12,children:(0,z.jsxs)(m.Z,{spacing:1,children:[(0,z.jsx)(k.Z,{children:"Description *"}),(0,z.jsx)(u.Z,{sx:{height:300,mb:3},children:(0,z.jsx)(M(),{theme:"snow",value:J,onChange:Q,modules:{toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{size:["small",!1,"large","huge"]}],["bold","italic","underline","strike","blockquote"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{align:[]}],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["link","image","video"],["code-block"],["clean"]],clipboard:{matchVisual:!1}},formats:["header","font","size","bold","italic","underline","strike","blockquote","color","background","script","align","list","bullet","indent","link","image","video","code-block"],style:{height:"250px"}})})]})})]}),(0,z.jsxs)(b.Z,{sx:{mt:3},children:[(0,z.jsx)(f.Z,{onClick:ee,children:"Cancel"}),(0,z.jsx)(f.Z,{type:"submit",variant:"contained",disabled:ne.isSubmitting,children:H?"Update Page":"Add Page"})]})]})})]})]})}},10163:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(97573),i=n(72791),a=n(52007),c=n.n(a),o=["variant","color","size"],l=function(e){var t=e.color;return i.createElement(i.Fragment,null,i.createElement("path",{d:"M16.19 2H7.81C4.17 2 2 4.17 2 7.81v8.37C2 19.83 4.17 22 7.81 22h8.37c3.64 0 5.81-2.17 5.81-5.81V7.81C22 4.17 19.83 2 16.19 2Zm-.83 12.3c.29.29.29.77 0 1.06-.15.15-.34.22-.53.22s-.38-.07-.53-.22l-2.3-2.3-2.3 2.3c-.15.15-.34.22-.53.22s-.38-.07-.53-.22a.754.754 0 0 1 0-1.06l2.3-2.3-2.3-2.3a.754.754 0 0 1 0-1.06c.29-.29.77-.29 1.06 0l2.3 2.3 2.3-2.3c.29-.29.77-.29 1.06 0 .29.29.29.77 0 1.06l-2.3 2.3 2.3 2.3Z",fill:t}))},s=function(e){var t=e.color;return i.createElement(i.Fragment,null,i.createElement("path",{d:"m13.99 10.012.84-.84M9.17 14.828l2.75-2.75M14.83 14.832l-5.66-5.66M2 12.96V15c0 5 2 7 7 7h6c5 0 7-2 7-7V9c0-5-2-7-7-7H9C4 2 2 4 2 9",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},u=function(e){var t=e.color;return i.createElement(i.Fragment,null,i.createElement("path",{opacity:".4",d:"M16.19 2H7.81C4.17 2 2 4.17 2 7.81v8.37C2 19.83 4.17 22 7.81 22h8.37c3.64 0 5.81-2.17 5.81-5.81V7.81C22 4.17 19.83 2 16.19 2Z",fill:t}),i.createElement("path",{d:"m13.06 12 2.3-2.3c.29-.29.29-.77 0-1.06a.754.754 0 0 0-1.06 0l-2.3 2.3-2.3-2.3a.754.754 0 0 0-1.06 0c-.29.29-.29.77 0 1.06l2.3 2.3-2.3 2.3c-.29.29-.29.77 0 1.06.15.15.34.22.53.22s.38-.07.53-.22l2.3-2.3 2.3 2.3c.15.15.34.22.53.22s.38-.07.53-.22c.29-.29.29-.77 0-1.06l-2.3-2.3Z",fill:t}))},d=function(e){var t=e.color;return i.createElement(i.Fragment,null,i.createElement("path",{d:"m9.17 14.83 5.66-5.66M14.83 14.83 9.17 9.17M9 22h6c5 0 7-2 7-7V9c0-5-2-7-7-7H9C4 2 2 4 2 9v6c0 5 2 7 7 7Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},h=function(e){var t=e.color;return i.createElement(i.Fragment,null,i.createElement("path",{d:"M9.17 15.58c-.19 0-.38-.07-.53-.22a.754.754 0 0 1 0-1.06l5.66-5.66c.29-.29.77-.29 1.06 0 .29.29.29.77 0 1.06L9.7 15.36c-.14.15-.34.22-.53.22Z",fill:t}),i.createElement("path",{d:"M14.83 15.58c-.19 0-.38-.07-.53-.22L8.64 9.7a.754.754 0 0 1 0-1.06c.29-.29.77-.29 1.06 0l5.66 5.66c.29.29.29.77 0 1.06-.15.15-.34.22-.53.22Z",fill:t}),i.createElement("path",{d:"M15 22.75H9c-5.43 0-7.75-2.32-7.75-7.75V9c0-5.43 2.32-7.75 7.75-7.75h6c5.43 0 7.75 2.32 7.75 7.75v6c0 5.43-2.32 7.75-7.75 7.75Zm-6-20C4.39 2.75 2.75 4.39 2.75 9v6c0 4.61 1.64 6.25 6.25 6.25h6c4.61 0 6.25-1.64 6.25-6.25V9c0-4.61-1.64-6.25-6.25-6.25H9Z",fill:t}))},p=function(e){var t=e.color;return i.createElement(i.Fragment,null,i.createElement("g",{opacity:".4",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},i.createElement("path",{d:"m9.17 14.832 5.66-5.66M14.83 14.832l-5.66-5.66"})),i.createElement("path",{d:"M9 22h6c5 0 7-2 7-7V9c0-5-2-7-7-7H9C4 2 2 4 2 9v6c0 5 2 7 7 7Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},m=(0,i.forwardRef)((function(e,t){var n=e.variant,a=e.color,c=e.size,m=(0,r._)(e,o);return i.createElement("svg",(0,r.a)({},m,{xmlns:"http://www.w3.org/2000/svg",ref:t,width:c,height:c,viewBox:"0 0 24 24",fill:"none"}),function(e,t){switch(e){case"Bold":return i.createElement(l,{color:t});case"Broken":return i.createElement(s,{color:t});case"Bulk":return i.createElement(u,{color:t});case"Linear":default:return i.createElement(d,{color:t});case"Outline":return i.createElement(h,{color:t});case"TwoTone":return i.createElement(p,{color:t})}}(n,a))}));m.propTypes={variant:c().oneOf(["Linear","Bold","Broken","Bulk","Outline","TwoTone"]),color:c().string,size:c().oneOfType([c().string,c().number])},m.defaultProps={variant:"Linear",color:"currentColor",size:"24"},m.displayName="CloseSquare"},69977:function(){}}]);
//# sourceMappingURL=5057.ba8e9586.chunk.js.map