"use strict";(self.webpackChunkable_pro_material_react=self.webpackChunkable_pro_material_react||[]).push([[3311],{83311:function(e,n,r){r.r(n),r.d(n,{default:function(){return ce}});var t=r(61819),s=r(1413),a=r(15861),i=r(29439),o=r(72791),l=r(697),c=r(20890),d=r(81918),u=r(20068),h=r(13400),x=r(61889),m=r(36314),p=r(48550),Z=r(63466),j=r(68096),f=r(58406),v=r(23786),g=r(94294),y=r(13239),b=r(5574),C=r(65661),S=r(39157),w=r(17133),k=r(47071),z=r(97123),q=r(57621),P=r(39504),M=r(65117),D=r(3710),E=r(94939),B=r(74223),H=r(80184),I=(0,B.Z)((0,H.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),W=(0,B.Z)((0,H.jsx)("path",{d:"M21.99 4c0-1.1-.89-2-1.99-2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h14l4 4-.01-18zM17 11h-4v4h-2v-4H7V9h4V5h2v4h4v2z"}),"AddComment"),A=(0,B.Z)((0,H.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),F=r(53200),V=(0,B.Z)((0,H.jsx)("path",{d:"M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3 1 9l11 6 9-4.91V17h2V9L12 3z"}),"School"),_=(0,B.Z)((0,H.jsx)("path",{d:"M17 1H7c-1.1 0-2 .9-2 2v18c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2zM7 18V6h10v12H7zm9-7V9.14C16 8.51 15.55 8 15 8H9c-.55 0-1 .51-1 1.14v1.96c.55 0 1 .45 1 1s-.45 1-1 1v1.76c0 .63.45 1.14 1 1.14h6c.55 0 1-.51 1-1.14V13c-.55 0-1-.45-1-1s.45-1 1-1zm-3.5 3.5h-1v-1h1v1zm0-2h-1v-1h1v1zm0-2h-1v-1h1v1z"}),"BookOnline"),N=r(37032),R=(0,B.Z)((0,H.jsx)("path",{d:"M20 6h-8l-2-2H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6 10H6v-2h8v2zm4-4H6v-2h12v2z"}),"Source"),T=r(37802),U=(0,B.Z)((0,H.jsx)("path",{d:"M20.01 15.38c-1.23 0-2.42-.2-3.53-.56-.35-.12-.74-.03-1.01.24l-1.57 1.97c-2.83-1.35-5.48-3.9-6.89-6.83l1.95-1.66c.27-.28.35-.67.24-1.02-.37-1.11-.56-2.3-.56-3.53 0-.54-.45-.99-.99-.99H4.19C3.65 3 3 3.24 3 3.99 3 13.28 10.73 21 20.01 21c.71 0 .99-.63.99-1.18v-3.45c0-.54-.45-.99-.99-.99z"}),"Call"),$=r(43513),L=(r(69977),r(24034)),O=r(89731),Y=r(36277),G=r(8007),J=r(23197),K=r(58536),Q=r(10163),X=r(80527),ee=r(21830),ne=r.n(ee),re=r(78045),te=r(85680),se=r(71652),ae=r(41985),ie=r(12649),oe=G.Ry({name:G.Z_().required("Student name is required"),phone:G.Z_().required("Phone number is required"),email:G.Z_().email("Invalid email format").required("Email is required"),enquiryDate:G.hT().required("Enquiry date is required"),course:G.Z_().required("Course is required"),status:G.Z_().required("Status is required"),source:G.Z_().required("Source is required")}),le=G.Ry({notes:G.Z_().required("Notes are required")}),ce=function(){var e=(0,o.useState)([]),n=(0,i.Z)(e,2),r=n[0],B=n[1],G=(0,o.useState)(null),ee=(0,i.Z)(G,2),ce=ee[0],de=ee[1],ue=(0,o.useState)(!1),he=(0,i.Z)(ue,2),xe=he[0],me=he[1],pe=(0,o.useState)(!1),Ze=(0,i.Z)(pe,2),je=Ze[0],fe=Ze[1],ve=(0,o.useState)(!1),ge=(0,i.Z)(ve,2),ye=ge[0],be=ge[1],Ce=(0,o.useState)(!1),Se=(0,i.Z)(Ce,2),we=Se[0],ke=Se[1],ze=(0,o.useState)(null),qe=(0,i.Z)(ze,2),Pe=qe[0],Me=qe[1],De=(0,o.useState)(null),Ee=(0,i.Z)(De,2),Be=Ee[0],He=Ee[1],Ie=(0,o.useState)(null),We=(0,i.Z)(Ie,2),Ae=We[0],Fe=We[1],Ve=(0,o.useState)(!1),_e=(0,i.Z)(Ve,2),Ne=_e[0],Re=_e[1],Te=(0,o.useState)(""),Ue=(0,i.Z)(Te,2),$e=Ue[0],Le=Ue[1],Oe=(0,o.useState)(!1),Ye=(0,i.Z)(Oe,2),Ge=Ye[0],Je=Ye[1],Ke=(0,o.useState)("all"),Qe=(0,i.Z)(Ke,2),Xe=Qe[0],en=Qe[1],nn=(0,o.useState)(!0),rn=(0,i.Z)(nn,1)[0],tn=(0,o.useCallback)((0,a.Z)((0,t.Z)().mark((function e(){var n,r;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,Re(!0),e.next=4,O.Z.get("".concat(J.t6,"api/leads"));case 4:n=e.sent,r=n.data.leads.map((function(e,n){return(0,s.Z)((0,s.Z)({},e),{},{sno:n+1})})),B(r),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),console.error("Error fetching enquiries:",e.t0),B([]);case 13:return e.prev=13,Re(!1),e.finish(13);case 16:case"end":return e.stop()}}),e,null,[[0,9,13,16]])}))),[]);(0,o.useEffect)((function(){tn()}),[tn]);var sn=(0,Y.TA)({initialValues:{name:"",phone:"",email:"",course:"",enquiryDate:"",status:"",source:""},validationSchema:oe,onSubmit:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var s,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.resetForm,e.prev=1,!ce||!ce.id){e.next=7;break}return e.next=5,O.Z.patch("".concat(J.t6,"api/leads/").concat(ce.id),n);case 5:e.next=18;break;case 7:return e.next=9,O.Z.post("".concat(J.t6,"api/leads"),n);case 9:if(!1!==(a=e.sent).data.success){e.next=16;break}return e.next=13,ne().fire("Error",a.data.message,"error");case 13:return e.abrupt("return");case 16:return e.next=18,ne().fire("Success",a.data.message,"success");case 18:s(),be(!1),de(null),tn(),e.next=27;break;case 24:e.prev=24,e.t0=e.catch(1),console.error("Error saving enquiry:",e.t0);case 27:case"end":return e.stop()}}),e,null,[[1,24]])})));return function(n,r){return e.apply(this,arguments)}}()}),an=(0,Y.TA)({initialValues:{notes:""},validationSchema:le,onSubmit:function(){var e=(0,a.Z)((0,t.Z)().mark((function e(n,r){var s,a;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=r.resetForm,e.prev=1,!ce||!ce.id){e.next=17;break}return e.next=5,O.Z.post("".concat(J.t6,"api/leads/").concat(ce.id,"/call/").concat(Ae,"/notes"),n);case 5:if(a=e.sent,console.log("follow up res :",a),!1!==a.data.success){e.next=12;break}return e.next=10,ne().fire("Error",a.data.message,"error");case 10:e.next=14;break;case 12:return e.next=14,ne().fire("Success",a.data.message,"success");case 14:s(),fe(!1),tn();case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(1),console.error("Error adding follow up:",e.t0);case 22:case"end":return e.stop()}}),e,null,[[1,19]])})));return function(n,r){return e.apply(this,arguments)}}()}),on=function(e){de(e),ke(!0)},ln=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){var n;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.Z.post("".concat(J.t6,"api/leads/").concat(ce.id,"/call"));case 3:if(!1!==(n=e.sent).data.success){e.next=9;break}return e.next=7,ne().fire("Error",n.data.message,"error");case 7:e.next=11;break;case 9:return e.next=11,ne().fire("Success",n.data.message,"success");case 11:tn(),ke(!1),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error adding follow up:",e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(){return e.apply(this,arguments)}}(),cn=(0,o.useCallback)((function(){de(null),sn.resetForm(),be(!0)}),[sn]),dn=function(){var e=(0,a.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Be){e.next=11;break}return e.prev=1,e.next=4,O.Z.delete("".concat(J.t6,"api/leads/").concat(Be));case 4:un(),tn(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error deleting enquiry:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),un=function(){Me(null),He(null)},hn=function(e){switch(e){case"New":return"primary";case"Follow Up":return"warning";case"Converted":return"success";default:return"default"}},xn=[{name:"S.No",selector:function(e,n){return n+1},sortable:!0,width:"80px"},{name:"Student Name",selector:function(e){return e.name},sortable:!0,cell:function(e){return(0,H.jsx)(l.Z,{sx:{display:"flex",alignItems:"center"},children:e.name})},width:"200px"},{name:"Contact",selector:function(e){return"".concat(e.phone," | ").concat(e.email)},sortable:!0,cell:function(e){return(0,H.jsxs)(l.Z,{children:[(0,H.jsx)(c.Z,{variant:"body2",children:e.phone}),(0,H.jsx)(c.Z,{variant:"caption",color:"text.secondary",children:e.email})]})},width:"220px"},{name:"Course",selector:function(e){return e.course},sortable:!0,width:"180px"},{name:"Enquiry Date",selector:function(e){return(0,re.o)(e.created_at)},sortable:!0,width:"150px"},{name:"Status",selector:function(e){return e.status},sortable:!0,cell:function(e){return(0,H.jsx)(d.Z,{label:e.status,color:hn(e.status),size:"small"})},width:"120px"},{name:"Last Follow Up",selector:function(e){return e.followup_date?(0,re.o)(e.followup_date,{includeTime:!1}):"-"},sortable:!0,width:"140px"},{name:"Source",selector:function(e){return e.source},sortable:!0,width:"120px"},{name:"Actions",cell:function(e){return(0,H.jsxs)(l.Z,{children:[(0,H.jsx)(u.Z,{title:"View Details",children:(0,H.jsx)(h.Z,{color:"primary",onClick:function(){return de(e),void me(!0)},size:"small",children:(0,H.jsx)(D.Z,{})})}),(0,H.jsx)(u.Z,{title:"Follow Up",children:(0,H.jsx)(h.Z,{color:"secondary",onClick:function(){return on(e)},size:"small",children:(0,H.jsx)(E.Z,{})})}),(0,H.jsx)(h.Z,{onClick:function(n){return r=n,t=e.id,Me(r.currentTarget),void He(t);var r,t},size:"small",children:(0,H.jsx)(I,{})})]})},width:"150px",ignoreRowClick:!0}],mn=(0,o.useMemo)((function(){return(0,H.jsxs)(x.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",my:3,children:[(0,H.jsx)(x.ZP,{item:!0,xs:12,md:8,display:"flex",flexDirection:{xs:"column",sm:"row"},children:(0,H.jsxs)(m.Z,{direction:"row",spacing:2,children:[(0,H.jsx)(p.Z,{placeholder:"Search...",variant:"outlined",size:"small",value:$e,onChange:function(e){return Le(e.target.value)},InputProps:{startAdornment:(0,H.jsx)(Z.Z,{position:"start",children:(0,H.jsx)(K.Z,{size:20})}),endAdornment:(0,H.jsx)(Z.Z,{position:"end",children:$e&&(0,H.jsx)(h.Z,{onClick:function(){$e&&(Je(!Ge),Le(""))},edge:"end",size:"small",children:(0,H.jsx)(Q.Z,{size:20})})})}}),(0,H.jsx)(j.Z,{size:"small",sx:{minWidth:180},children:(0,H.jsxs)(f.Z,{value:Xe,onChange:function(e){return en(e.target.value)},endAdornment:"all"!==Xe&&(0,H.jsx)(Z.Z,{position:"end",sx:{mr:3},children:(0,H.jsx)(h.Z,{onClick:function(){en("all")},edge:"end",size:"small",children:(0,H.jsx)(Q.Z,{size:16})})}),children:[(0,H.jsx)(v.Z,{value:"all",children:"Select Status"}),(0,H.jsx)(v.Z,{value:"active",children:"Active"}),(0,H.jsx)(v.Z,{value:"inactive",children:"In active"})]})})]})}),(0,H.jsx)(x.ZP,{item:!0,xs:12,md:4,textAlign:"right",children:rn&&(0,H.jsx)(g.Z,{color:"success",variant:"contained",startIcon:(0,H.jsx)(X.Z,{}),onClick:cn,children:"Add Enquiry"})})]})}),[$e,Ge,Xe,rn,cn]),pn=function(e){var n=e.label,r=e.value,t=e.icon;return(0,H.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:2.5,p:1.5,borderRadius:1,backgroundColor:"grey.50","&:hover":{backgroundColor:"grey.100"}},children:[t&&(0,H.jsx)(l.Z,{sx:{mr:2,color:"text.secondary"},children:t}),(0,H.jsxs)(l.Z,{sx:{flex:1},children:[(0,H.jsx)(c.Z,{variant:"caption",color:"text.secondary",sx:{fontWeight:500},children:n}),(0,H.jsx)(c.Z,{variant:"body1",sx:{fontWeight:500},children:r})]})]})},Zn=function(e){var n=e.followUp,r=e.onAddComment;return(0,H.jsxs)(l.Z,{sx:{p:2.5,backgroundColor:"grey.50",borderRadius:2,border:"1px solid",borderColor:"grey.200",position:"relative",transition:"all 0.2s ease","&:hover":{backgroundColor:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}},children:[(0,H.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[(0,H.jsx)(d.Z,{label:n.type||"Call",size:"small",color:"primary",variant:"outlined"}),(0,H.jsx)(c.Z,{variant:"caption",color:"text.secondary",sx:{fontWeight:500},children:(0,re.o)(n.call_time)})]}),(0,H.jsx)(c.Z,{variant:"body2",sx:{mb:1.5,lineHeight:1.6},children:n.notes}),(0,H.jsxs)(l.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,H.jsxs)(c.Z,{variant:"caption",color:"text.secondary",children:["By: ",(0,H.jsx)("strong",{children:n.called_by_name})]}),(0,H.jsx)(h.Z,{size:"small",onClick:r,sx:{backgroundColor:"primary.main",color:"white","&:hover":{backgroundColor:"primary.dark"}},children:(0,H.jsx)(W,{size:16})})]})]})};return(0,H.jsxs)(L.Z,{children:[mn,Ne?(0,H.jsx)(m.Z,{alignItems:"center",justifyContent:"center",sx:{minHeight:300},children:(0,H.jsx)(y.Z,{})}):(0,H.jsx)($.ZP,{columns:xn,data:r,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,20,30],highlightOnHover:!0,responsive:!0}),(0,H.jsx)(b.Z,{open:ye,onClose:function(){return be(!1)},maxWidth:"md",fullWidth:!0,children:(0,H.jsxs)("form",{onSubmit:sn.handleSubmit,children:[(0,H.jsx)(C.Z,{children:(0,H.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,H.jsx)(c.Z,{variant:"h5",component:"div",sx:{fontWeight:600},children:ce?"Edit Enquiry":"Add New Enquiry"}),(0,H.jsx)(h.Z,{onClick:function(){return be(!1)},children:(0,H.jsx)(Q.Z,{})})]})}),(0,H.jsx)(S.Z,{children:(0,H.jsxs)(x.ZP,{container:!0,spacing:2,sx:{mt:1},children:[(0,H.jsx)(x.ZP,{item:!0,xs:12,md:6,children:(0,H.jsxs)(m.Z,{spacing:1,children:[(0,H.jsx)(w.Z,{children:"Enquiry Type"}),(0,H.jsx)(p.Z,{fullWidth:!0,placeholder:"Student Name",name:"name",value:sn.values.name,onChange:sn.handleChange,onBlur:sn.handleBlur,error:sn.touched.name&&Boolean(sn.errors.name),helperText:sn.touched.name&&sn.errors.name})]})}),(0,H.jsx)(x.ZP,{item:!0,xs:12,md:6,children:(0,H.jsxs)(m.Z,{spacing:1,children:[(0,H.jsx)(w.Z,{children:"Phone"}),(0,H.jsx)(p.Z,{fullWidth:!0,placeholder:"Phone",name:"phone",value:sn.values.phone,onChange:sn.handleChange,onBlur:sn.handleBlur,error:sn.touched.phone&&Boolean(sn.errors.phone),helperText:sn.touched.phone&&sn.errors.phone})]})}),(0,H.jsx)(x.ZP,{item:!0,xs:12,md:6,children:(0,H.jsxs)(m.Z,{spacing:1,children:[(0,H.jsx)(w.Z,{children:"Email"}),(0,H.jsx)(p.Z,{fullWidth:!0,placeholder:"Email",name:"email",type:"email",value:sn.values.email,onChange:sn.handleChange,onBlur:sn.handleBlur,error:sn.touched.email&&Boolean(sn.errors.email),helperText:sn.touched.email&&sn.errors.email})]})}),(0,H.jsx)(x.ZP,{item:!0,xs:12,md:6,children:(0,H.jsxs)(m.Z,{spacing:1,children:[(0,H.jsx)(w.Z,{children:"Course"}),(0,H.jsx)(p.Z,{fullWidth:!0,placeholder:"Course",name:"course",value:sn.values.course,onChange:sn.handleChange,onBlur:sn.handleBlur,error:sn.touched.course&&Boolean(sn.errors.course),helperText:sn.touched.course&&sn.errors.course})]})}),(0,H.jsx)(x.ZP,{item:!0,xs:12,md:6,children:(0,H.jsxs)(m.Z,{spacing:1,children:[(0,H.jsx)(w.Z,{children:"Enquiry Date"}),(0,H.jsx)(se._,{dateAdapter:ie.H,children:(0,H.jsx)(ae.M,{format:J.ZP.dateFormat,minDate:new Date,value:sn.values.enquiryDate?new Date(sn.values.enquiryDate):null,onChange:function(e){sn.setFieldValue("enquiryDate",e)},slotProps:{textField:{fullWidth:!0,name:"enquiryDate",error:sn.touched.enquiryDate&&Boolean(sn.errors.enquiryDate),helperText:sn.touched.enquiryDate&&sn.errors.enquiryDate,onBlur:sn.handleBlur}}})}),(0,H.jsx)(k.Z,{children:sn.touched.enquiryDate&&sn.errors.enquiryDate})]})}),(0,H.jsx)(x.ZP,{item:!0,xs:12,md:6,children:(0,H.jsxs)(m.Z,{spacing:1,children:[(0,H.jsx)(w.Z,{children:"Status"}),(0,H.jsxs)(j.Z,{fullWidth:!0,error:sn.touched.status&&Boolean(sn.errors.status),children:[(0,H.jsxs)(f.Z,{name:"status",value:sn.values.status,onChange:sn.handleChange,onBlur:sn.handleBlur,displayEmpty:!0,children:[(0,H.jsx)(v.Z,{value:"",children:"Select Status"}),(0,H.jsx)(v.Z,{value:"New",children:"New"}),(0,H.jsx)(v.Z,{value:"Follow Up",children:"Follow Up"}),(0,H.jsx)(v.Z,{value:"Converted",children:"Converted"})]}),(0,H.jsx)(k.Z,{children:sn.touched.status&&sn.errors.status})]})]})}),(0,H.jsx)(x.ZP,{item:!0,xs:12,md:6,children:(0,H.jsxs)(m.Z,{spacing:1,children:[(0,H.jsx)(w.Z,{children:"Source"}),(0,H.jsx)(p.Z,{fullWidth:!0,placeholder:"Source",name:"source",value:sn.values.source,onChange:sn.handleChange,onBlur:sn.handleBlur,error:sn.touched.source&&Boolean(sn.errors.source),helperText:sn.touched.source&&sn.errors.source})]})})]})}),(0,H.jsxs)(z.Z,{children:[(0,H.jsx)(g.Z,{onClick:function(){return be(!1)},children:"Cancel"}),(0,H.jsxs)(g.Z,{type:"submit",variant:"contained",children:[ce?"Update":"Add"," Enquiry"]})]})]})}),(0,H.jsxs)(b.Z,{open:xe,onClose:function(){return me(!1)},maxWidth:"md",fullWidth:!0,PaperProps:{sx:{borderRadius:3}},children:[(0,H.jsx)(C.Z,{sx:{backgroundColor:"primary.secondary",color:"black",py:2},children:(0,H.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,H.jsx)(c.Z,{variant:"h5",component:"div",sx:{fontWeight:600},children:"Student Enquiry Details"}),(0,H.jsx)(h.Z,{onClick:function(){return me(!1)},children:(0,H.jsx)(Q.Z,{})})]})}),(0,H.jsx)(S.Z,{sx:{p:3},children:ce&&(0,H.jsxs)(x.ZP,{container:!0,spacing:3,children:[(0,H.jsx)(x.ZP,{item:!0,xs:12,md:6,children:(0,H.jsx)(q.Z,{variant:"outlined",sx:{border:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderRadius:2},children:(0,H.jsxs)(P.Z,{sx:{p:3},children:[(0,H.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:3},children:[(0,H.jsx)(l.Z,{sx:{backgroundColor:"secondary.light",borderRadius:"50%",p:1,mr:2,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,H.jsx)(A,{sx:{color:"secondary.main",fontSize:20}})}),(0,H.jsx)(c.Z,{variant:"h6",sx:{fontWeight:600},children:"Personal Information"})]}),(0,H.jsx)(pn,{label:"Full Name",value:(0,te.Z)(ce.name),icon:(0,H.jsx)(A,{fontSize:"small"})}),(0,H.jsx)(pn,{label:"Phone",value:ce.phone,icon:(0,H.jsx)(E.Z,{fontSize:"small"})}),(0,H.jsx)(pn,{label:"Email",value:ce.email,icon:(0,H.jsx)(F.Z,{fontSize:"small"})})]})})}),(0,H.jsx)(x.ZP,{item:!0,xs:12,md:6,children:(0,H.jsx)(q.Z,{variant:"outlined",sx:{border:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderRadius:2},children:(0,H.jsxs)(P.Z,{sx:{p:3},children:[(0,H.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:3},children:[(0,H.jsx)(l.Z,{sx:{backgroundColor:"secondary.light",borderRadius:"50%",p:1,mr:2,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,H.jsx)(V,{sx:{color:"secondary.main",fontSize:20}})}),(0,H.jsx)(c.Z,{variant:"h6",sx:{fontWeight:600},children:"Academic Information"})]}),(0,H.jsx)(pn,{label:"Course Interested",value:(0,te.Z)(ce.course),icon:(0,H.jsx)(_,{fontSize:"small"})}),(0,H.jsx)(pn,{label:"Enquiry Date",value:(0,re.o)(ce.created_at),icon:(0,H.jsx)(N.Z,{fontSize:"small"})}),(0,H.jsx)(pn,{label:"Source",value:ce.source,icon:(0,H.jsx)(R,{fontSize:"small"})})]})})}),(0,H.jsx)(x.ZP,{item:!0,xs:12,children:(0,H.jsx)(q.Z,{variant:"outlined",sx:{border:"none",boxShadow:"0 2px 8px rgba(0,0,0,0.1)",borderRadius:2},children:(0,H.jsxs)(P.Z,{sx:{p:3},children:[(0,H.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",mb:3},children:[(0,H.jsx)(l.Z,{sx:{backgroundColor:"secondary.light",borderRadius:"50%",p:1,mr:2,display:"flex",alignItems:"center",justifyContent:"center"},children:(0,H.jsx)(T.Z,{sx:{color:"secondary.main",fontSize:20}})}),(0,H.jsx)(c.Z,{variant:"h6",sx:{fontWeight:600},children:"Follow-up History"})]}),ce.call_logs.length>0?(0,H.jsx)(m.Z,{spacing:2,children:ce.call_logs.map((function(e,n){return(0,H.jsx)(Zn,{followUp:e,onAddComment:function(){return n=e.id,Fe(n),void fe(!0);var n}},n)}))}):(0,H.jsxs)(l.Z,{sx:{textAlign:"center",py:4,color:"text.secondary"},children:[(0,H.jsx)(T.Z,{sx:{fontSize:48,mb:2,opacity:.5}}),(0,H.jsx)(c.Z,{variant:"body1",children:"No follow-up history yet"})]})]})})})]})}),(0,H.jsxs)(z.Z,{sx:{p:3,gap:1},children:[(0,H.jsx)(g.Z,{onClick:function(){me(!1)},children:"Close"}),(0,H.jsx)(g.Z,{variant:"contained",onClick:function(){me(!1),on(ce)},children:"Add Follow Up"})]})]}),(0,H.jsx)(b.Z,{open:je,onClose:function(){return fe(!1)},maxWidth:"sm",fullWidth:!0,children:(0,H.jsxs)("form",{onSubmit:an.handleSubmit,children:[(0,H.jsx)(C.Z,{sx:{backgroundColor:"primary.secondary",color:"black",py:2},children:(0,H.jsxs)(l.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,H.jsxs)(c.Z,{variant:"h5",component:"div",sx:{fontWeight:600},children:["Add Follow Up - ",null===ce||void 0===ce?void 0:ce.name]}),(0,H.jsx)(h.Z,{onClick:function(){return fe(!1)},children:(0,H.jsx)(Q.Z,{})})]})}),(0,H.jsx)(S.Z,{children:(0,H.jsx)(x.ZP,{container:!0,spacing:2,sx:{mt:1},children:(0,H.jsx)(x.ZP,{item:!0,xs:12,children:(0,H.jsx)(p.Z,{label:"Notes",name:"notes",multiline:!0,rows:4,value:an.values.notes,onChange:an.handleChange,onBlur:an.handleBlur,fullWidth:!0,placeholder:"Enter follow-up details...",error:an.touched.notes&&Boolean(an.errors.notes),helperText:an.touched.notes&&an.errors.notes})})})}),(0,H.jsxs)(z.Z,{sx:{p:3,gap:1},children:[(0,H.jsx)(g.Z,{onClick:function(){fe(!1),an.resetForm()},children:"Cancel"}),(0,H.jsx)(g.Z,{type:"submit",variant:"contained",children:"Save Follow Up"})]})]})}),(0,H.jsxs)(b.Z,{open:we,onClose:function(){return ke(!1)},maxWidth:"sm",fullWidth:!0,children:[(0,H.jsx)(C.Z,{children:(0,H.jsxs)(c.Z,{variant:"h5",component:"div",sx:{display:"flex",alignItems:"center"},children:[(0,H.jsx)(U,{sx:{mr:1}})," Make a Call"]})}),(0,H.jsx)(S.Z,{children:ce&&(0,H.jsxs)(l.Z,{sx:{textAlign:"center",py:3},children:[(0,H.jsx)(U,{sx:{fontSize:64,color:"primary.main",mb:2}}),(0,H.jsxs)(c.Z,{variant:"h6",gutterBottom:!0,children:["Call ",(0,te.Z)(ce.name)]}),(0,H.jsx)(c.Z,{variant:"body1",color:"text.secondary",gutterBottom:!0,children:"Phone Number:"}),(0,H.jsx)(c.Z,{variant:"h5",color:"primary",gutterBottom:!0,children:ce.phone}),(0,H.jsx)(c.Z,{variant:"body2",color:"text.secondary",sx:{mt:2},children:"Click Call Now to initiate the phone call"})]})}),(0,H.jsxs)(z.Z,{sx:{justifyContent:"center",pb:3},children:[(0,H.jsx)(g.Z,{onClick:function(){return ke(!1)},variant:"outlined",sx:{mr:2},children:"Cancel"}),(0,H.jsx)(g.Z,{onClick:ln,variant:"contained",color:"primary",startIcon:(0,H.jsx)(U,{}),size:"large",children:"Call Now"})]})]}),(0,H.jsxs)(M.Z,{anchorEl:Pe,open:Boolean(Pe),onClose:un,children:[(0,H.jsx)(v.Z,{onClick:function(){var e;e=r.find((function(e){return e.id===Be})),de(e),sn.setValues({name:e.name||"",phone:e.phone||"",email:e.email||"",course:e.course||"",enquiryDate:e.enquiryDate||"",status:e.status||"New",source:e.source||"",notes:e.notes||""}),be(!0),un()},children:"Edit Enquiry"}),(0,H.jsx)(v.Z,{onClick:un,children:"Change Status"}),(0,H.jsx)(v.Z,{onClick:un,children:"Send Email"}),(0,H.jsx)(v.Z,{onClick:dn,sx:{color:"error.main"},children:"Delete Enquiry"})]})]})}},78045:function(e,n,r){r.d(n,{o:function(){return a}});var t=r(29439),s=r(23197),a=function(e){var n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=r.includeTime,i=void 0===a||a,o=r.includeSeconds,l=void 0!==o&&o,c=r.timeOnly,d=void 0!==c&&c,u=r.useCurrentIfEmpty,h=void 0!==u&&u,x=r.fallback,m=void 0===x?"":x;if(e)if("string"===typeof e&&/^\d{1,2}:\d{2}(:\d{2})?$/.test(e)){var p=e.split(":").map(Number),Z=(0,t.Z)(p,3),j=Z[0],f=Z[1],v=Z[2];(n=new Date).setHours(j,f,v||0,0)}else n=e instanceof Date?e:new Date(e);else{if(!h)return m;n=new Date}if(isNaN(n.getTime()))return m;var g=function(e,n){var r=n.getHours(),t=r>=12,s={yyyy:n.getFullYear(),yy:String(n.getFullYear()).slice(-2),MM:String(n.getMonth()+1).padStart(2,"0"),M:n.getMonth()+1,dd:String(n.getDate()).padStart(2,"0"),d:n.getDate(),HH:String(r).padStart(2,"0"),H:r,hh:String(r%12||12).padStart(2,"0"),h:r%12||12,mm:String(n.getMinutes()).padStart(2,"0"),m:n.getMinutes(),ss:String(n.getSeconds()).padStart(2,"0"),s:n.getSeconds(),a:t?"PM":"AM"};return e.replace(/(yyyy|yy|MM|M|dd|d|HH|H|hh|h|mm|m|ss|s|a)/g,(function(e){return s[e]||e}))};if(d){var y=s.ZP.timeFormat;return l||(y=(y=(y=y.replace(/:ss?/g,"")).replace(/(^|\s)ss?(\s|$)/g,"$1$2")).replace(/::/g,":").replace(/(\s|^):|:(\s|$)/g,"$1$2")),g(y,n)}if(i){var b=g(s.ZP.dateFormat,n),C=s.ZP.timeFormat;l||(C=(C=C.replace(/[:\\/]?ss?/g,"")).replace(/::/g,":").replace(/:$/,""));var S=g(C,n);return"".concat(b," ").concat(S)}return g(s.ZP.dateFormat,n)}},37032:function(e,n,r){var t=r(74223),s=r(80184);n.Z=(0,t.Z)((0,s.jsx)("path",{d:"M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V8h16v13z"}),"CalendarToday")},53200:function(e,n,r){var t=r(74223),s=r(80184);n.Z=(0,t.Z)((0,s.jsx)("path",{d:"M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4-8 5-8-5V6l8 5 8-5v2z"}),"Email")},94939:function(e,n,r){var t=r(74223),s=r(80184);n.Z=(0,t.Z)((0,s.jsx)("path",{d:"M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"}),"Phone")},3710:function(e,n,r){var t=r(74223),s=r(80184);n.Z=(0,t.Z)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility")},97123:function(e,n,r){r.d(n,{Z:function(){return Z}});var t=r(63366),s=r(87462),a=r(72791),i=r(59278),o=r(94419),l=r(66934),c=r(31402),d=r(75878),u=r(21217);function h(e){return(0,u.ZP)("MuiDialogActions",e)}(0,d.Z)("MuiDialogActions",["root","spacing"]);var x=r(80184),m=["className","disableSpacing"],p=(0,l.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,n){var r=e.ownerState;return[n.root,!r.disableSpacing&&n.spacing]}})((function(e){var n=e.ownerState;return(0,s.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!n.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),Z=a.forwardRef((function(e,n){var r=(0,c.Z)({props:e,name:"MuiDialogActions"}),a=r.className,l=r.disableSpacing,d=void 0!==l&&l,u=(0,t.Z)(r,m),Z=(0,s.Z)({},r,{disableSpacing:d}),j=function(e){var n=e.classes,r={root:["root",!e.disableSpacing&&"spacing"]};return(0,o.Z)(r,h,n)}(Z);return(0,x.jsx)(p,(0,s.Z)({className:(0,i.Z)(j.root,a),ownerState:Z,ref:n},u))}))},69977:function(){}}]);
//# sourceMappingURL=3311.ad7cce49.chunk.js.map