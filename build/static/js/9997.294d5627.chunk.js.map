{"version":3,"file":"static/js/9997.294d5627.chunk.js","mappings":"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","sources":["pages/roles/PermissionsForm.js","../node_modules/@mui/material/Switch/switchClasses.js","../node_modules/@mui/material/Switch/Switch.js"],"sourcesContent":["// PermissionsForm.js\nimport React, { useEffect, useState, useCallback } from 'react';\nimport {\n  Grid,\n  Card,\n  CardHeader,\n  CardContent,\n  Divider,\n  Button,\n  Stack,\n  FormControlLabel,\n  Switch,\n  Box,\n  Dialog,\n  DialogTitle,\n  IconButton,\n  DialogContent,\n  FormLabel,\n  TextField,\n  DialogActions,\n  CircularProgress,\n  CardActions,\n  Typography\n} from '@mui/material';\nimport { Formik, Form } from 'formik';\nimport PropTypes from 'prop-types';\nimport { ArrowBack } from '@mui/icons-material';\nimport axiosInstance from 'utils/axios';\nimport Swal from 'sweetalert2';\nimport { APP_PATH_BASE_URL } from 'config';\nimport { CloseSquare } from 'iconsax-react';\nimport 'assets/css/commonStyle.css';\n\nconst permissionsList = ['create', 'read', 'update', 'delete'];\n\nconst PermissionsForm = ({ onCancel, currentRole }) => {\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [currentModule, setCurrentModule] = useState(null);\n  const [modules, setModules] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [formValues, setFormValues] = useState({ permissions: [] });\n\n  // Open dialog for adding new module\n  const handleOpenAddForm = () => {\n    setCurrentModule(null);\n    setShowAddForm(true);\n  };\n\n  // Open dialog for editing module\n  const handleEditModule = (module) => {\n    setCurrentModule(module);\n    setShowAddForm(true);\n  };\n\n  // Close dialog\n  const handleCloseAddForm = () => {\n    setShowAddForm(false);\n    setCurrentModule(null);\n  };\n\n  // Get initial values for module form\n  const getModuleInitialValues = () => {\n    if (currentModule) {\n      return {\n        moduleName: currentModule.module,\n        permissions: currentModule.permissions || []\n      };\n    }\n    return {\n      moduleName: '',\n      permissions: []\n    };\n  };\n\n  // Validate module form\n  const validateModule = (values) => {\n    const errors = {};\n    if (!values.moduleName) {\n      errors.moduleName = 'Module name is required';\n    }\n    return errors;\n  };\n\n  // Handle fetch role permissions\n  const handleFetchPermissions = useCallback(\n    async (permission) => {\n      try {\n        setLoading(true);\n        const response = await axiosInstance.get(`${APP_PATH_BASE_URL}api/roles/${currentRole.role_id}`);\n        if (response.data.success) {\n          const permissionData = response.data.data.module_permissions || [];\n          const modulesData = response.data.modules || [];\n          // console.log('modulesData :', modulesData);\n\n          // Create normalized modules by matching module_id\n          const normalizedModules = modulesData.map((module) => {\n            // Find matching permission by module_id\n            const matchingPermission = permissionData.find((perm) => perm.module_id === module.module_id);\n\n            return {\n              id: module.module_id || null,\n              module_id: module.module_id,\n              module: module.module,\n              permissions: matchingPermission?.allowed_actions || [] // Set allowed_actions as permissions\n            };\n          });\n\n          setModules(normalizedModules);\n          setFormValues({ permissions: normalizedModules });\n\n          if (permission) {\n            // Get current auth data from localStorage\n            const authData = JSON.parse(localStorage.getItem('auth'));\n\n            if (authData && authData.user) {\n              // Update permissions in the auth data\n              const updatedAuthData = {\n                ...authData,\n                user: {\n                  ...authData.user,\n                  permissions: normalizedModules.map((module) => ({\n                    module_id: module.module_id,\n                    module_name: module.module,\n                    allowed_actions: module.permissions // This comes from allowed_actions\n                  }))\n                }\n              };\n              // console.log('updatedAuthData :', updatedAuthData);\n              // Save back to localStorage\n              localStorage.setItem('auth', JSON.stringify(updatedAuthData));\n            }\n          }\n        }\n      } catch (error) {\n        console.error('Failed to fetch module data:', error);\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: 'Failed to fetch module data. Please try again.',\n          showConfirmButton: true\n        });\n      } finally {\n        setLoading(false);\n      }\n    },\n    [currentRole.role_id]\n  );\n\n  // Fetch role permissions when component mounts\n  useEffect(() => {\n    handleFetchPermissions();\n  }, [handleFetchPermissions]);\n\n  // Handle permissions form submission - FIXED\n  const handlePermissionsSubmit = async (values, { setSubmitting }) => {\n    try {\n      // Transform the permissions data to match the required API format\n      const module_permissions = values.permissions\n        .filter((permission) => permission.permissions)\n        .map((permission) => ({\n          module_id: permission.id,\n          allowed_actions: permission.permissions\n        }));\n\n      // Save permissions via API\n      const response = await axiosInstance.patch(`${APP_PATH_BASE_URL}api/roles&permissions`, {\n        role_id: currentRole.role_id,\n        module_permissions: module_permissions\n      });\n\n      if (response.data.success) {\n        // Refresh module list\n        const update = true;\n        await handleFetchPermissions(update);\n\n        // Show success message\n        Swal.fire({\n          icon: 'success',\n          title: 'Success',\n          text: 'Permissions updated successfully',\n          showConfirmButton: true\n        });\n      } else {\n        // Show error message\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: response.data.message || 'Failed to save permissions',\n          showConfirmButton: true\n        });\n        throw new Error(response.data.message || 'Failed to save permissions');\n      }\n    } catch (error) {\n      console.error('Error saving permissions:', error);\n      Swal.fire({\n        icon: 'error',\n        title: 'Error',\n        text: error.response?.data?.message || 'Failed to save permissions',\n        showConfirmButton: true\n      });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Handle module form submission\n  const handleModuleSubmit = async (values, { setSubmitting, resetForm }) => {\n    try {\n      if (currentModule) {\n        // Edit existing module\n        const response = await axiosInstance.patch(`${APP_PATH_BASE_URL}api/modules&permissions/${currentModule.module_id}`, {\n          module: values.moduleName.trim(),\n          actions: [...permissionsList]\n        });\n\n        if (response.data.success) {\n          Swal.fire({\n            icon: 'success',\n            title: 'Module Updated',\n            text: 'The module has been updated successfully.',\n            showConfirmButton: true\n          });\n        }\n      } else {\n        // Add new module\n        const response = await axiosInstance.post(`${APP_PATH_BASE_URL}api/modules&permissions`, {\n          module: values.moduleName.trim(),\n          actions: [...permissionsList]\n        });\n\n        if (response.data.success) {\n          Swal.fire({\n            icon: 'success',\n            title: 'Module Added',\n            text: 'The new module has been added successfully.',\n            showConfirmButton: true\n          });\n        }\n      }\n\n      // Refresh module list\n      await handleFetchPermissions();\n      handleCloseAddForm();\n      resetForm();\n    } catch (error) {\n      console.error('Failed to save module:', error);\n      Swal.fire({\n        icon: 'error',\n        title: 'Error',\n        text: 'Failed to save module. Please try again.',\n        showConfirmButton: true\n      });\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n  // Handle delete module\n  const handleDeleteModule = async (moduleToDelete) => {\n    const result = await Swal.fire({\n      title: 'Are you sure?',\n      text: `Do you want to delete the module \"${moduleToDelete.module}\"?`,\n      icon: 'warning',\n      showCancelButton: true,\n      confirmButtonColor: '#3085d6',\n      cancelButtonColor: '#d33',\n      confirmButtonText: 'Yes, delete it!'\n    });\n\n    if (result.isConfirmed) {\n      try {\n        const response = await axiosInstance.patch(`${APP_PATH_BASE_URL}api/modules&permissions/${moduleToDelete.id}/archive`);\n\n        if (response.data.success) {\n          Swal.fire({\n            icon: 'success',\n            title: 'Deleted!',\n            text: 'The module has been deleted.',\n            showConfirmButton: true\n          });\n\n          await handleFetchPermissions();\n        }\n      } catch (error) {\n        console.error('Failed to delete module:', error);\n        Swal.fire({\n          icon: 'error',\n          title: 'Error',\n          text: 'Failed to delete module. Please try again.',\n          showConfirmButton: true\n        });\n      }\n    }\n  };\n\n  // Select all permissions for a module\n  const selectAllPermissions = (module, setFieldValue, values) => {\n    const newPermissions = [...values.permissions];\n    const existingModuleIndex = newPermissions.findIndex((m) => m.id === module.id);\n\n    if (existingModuleIndex === -1) {\n      newPermissions.push({\n        id: module.id,\n        module_id: module.module_id,\n        module: module.module,\n        permissions: [...permissionsList]\n      });\n    } else {\n      newPermissions[existingModuleIndex].permissions = [...permissionsList];\n    }\n\n    setFieldValue('permissions', newPermissions);\n  };\n\n  // Clear all permissions for a module\n  const clearAllPermissions = (module, setFieldValue, values) => {\n    const newPermissions = [...values.permissions];\n    const existingModuleIndex = newPermissions.findIndex((m) => m.id === module.id);\n\n    if (existingModuleIndex !== -1) {\n      newPermissions[existingModuleIndex].permissions = [];\n      setFieldValue('permissions', newPermissions);\n    }\n  };\n\n  // Handle individual permission toggle\n  const handlePermissionToggle = (module, permission, checked, setFieldValue, values) => {\n    const newPermissions = [...values.permissions];\n    const existingModuleIndex = newPermissions.findIndex((m) => m.id === module.id);\n\n    if (existingModuleIndex === -1) {\n      newPermissions.push({\n        id: module.id,\n        module_id: module.module_id,\n        module: module.module,\n        permissions: checked ? [permission] : []\n      });\n    } else {\n      if (checked) {\n        if (!newPermissions[existingModuleIndex].permissions.includes(permission)) {\n          newPermissions[existingModuleIndex].permissions.push(permission);\n        }\n      } else {\n        newPermissions[existingModuleIndex].permissions = newPermissions[existingModuleIndex].permissions.filter((p) => p !== permission);\n      }\n    }\n    setFieldValue('permissions', newPermissions);\n  };\n\n  if (loading) {\n    return (\n      <Box display=\"flex\" justifyContent=\"center\" alignItems=\"center\" minHeight=\"200px\">\n        <CircularProgress />\n      </Box>\n    );\n  }\n\n  return (\n    <>\n      <Stack direction=\"row\" alignItems=\"center\" justifyContent=\"space-between\" spacing={2} sx={{ mb: 3 }}>\n        <Typography variant=\"h5\" fontWeight={700} gutterBottom>\n          Set Permissions for {currentRole?.name}\n        </Typography>\n        <Button variant=\"contained\" onClick={handleOpenAddForm} disabled className=\"hidden\">\n          Add New Module\n        </Button>\n      </Stack>\n      <Divider sx={{ mb: 3 }} />\n\n      <Stack direction=\"row\" spacing={2} sx={{ mb: 3 }}>\n        <Button onClick={onCancel} variant=\"outlined\" color=\"secondary\" startIcon={<ArrowBack />}>\n          Back\n        </Button>\n      </Stack>\n\n      {/* MAIN PERMISSIONS FORM - FIXED */}\n      <Formik initialValues={formValues} onSubmit={handlePermissionsSubmit} enableReinitialize>\n        {({ values, setFieldValue, isSubmitting, handleSubmit }) => (\n          <Form onSubmit={handleSubmit}>\n            <Grid container spacing={2}>\n              {modules.map((module) => {\n                const formModule = values.permissions.find((m) => m.id === module.id);\n                const modulePermissions = formModule ? formModule.permissions : [];\n\n                return (\n                  <Grid item xs={12} sm={6} md={4} key={module.id}>\n                    <Card sx={{ mb: 3, boxShadow: 2, height: '100%' }}>\n                      <CardHeader\n                        title={module.module}\n                        action={\n                          <Stack direction=\"row\" gap={1}>\n                            <Button size=\"small\" onClick={() => selectAllPermissions(module, setFieldValue, values)}>\n                              Select All\n                            </Button>\n                            <Button size=\"small\" color=\"error\" onClick={() => clearAllPermissions(module, setFieldValue, values)}>\n                              Clear All\n                            </Button>\n                          </Stack>\n                        }\n                      />\n                      <Divider />\n                      <CardContent>\n                        <Grid container spacing={2}>\n                          {permissionsList.map((permission) => {\n                            const isChecked = modulePermissions.includes(permission);\n\n                            return (\n                              <Grid item xs={6} key={permission}>\n                                <FormControlLabel\n                                  control={\n                                    <Switch\n                                      checked={isChecked}\n                                      onChange={(e) => handlePermissionToggle(module, permission, e.target.checked, setFieldValue, values)}\n                                      color=\"success\"\n                                    />\n                                  }\n                                  label={permission.charAt(0).toUpperCase() + permission.slice(1)}\n                                />\n                              </Grid>\n                            );\n                          })}\n                        </Grid>\n                      </CardContent>\n                      <CardActions className=\"hidden\">\n                        <Box sx={{ flex: 1, display: 'flex', justifyContent: 'space-between' }}>\n                          <Button size=\"small\" color=\"primary\" onClick={() => handleEditModule(module)} disabled>\n                            Edit\n                          </Button>\n                          <Button size=\"small\" color=\"error\" onClick={() => handleDeleteModule(module)} disabled>\n                            Delete\n                          </Button>\n                        </Box>\n                      </CardActions>\n                    </Card>\n                  </Grid>\n                );\n              })}\n            </Grid>\n\n            <Divider sx={{ my: 3 }} />\n            <Stack direction=\"row\" spacing={2} justifyContent=\"flex-end\">\n              <Button variant=\"outlined\" onClick={onCancel}>\n                Cancel\n              </Button>\n              <Button type=\"submit\" variant=\"contained\" color=\"primary\" disabled={isSubmitting}>\n                {isSubmitting ? 'Saving...' : 'Save Permissions'}\n              </Button>\n            </Stack>\n          </Form>\n        )}\n      </Formik>\n\n      {/* Module Add/Edit Form Dialog */}\n      <Dialog open={showAddForm} onClose={handleCloseAddForm} maxWidth=\"xs\" fullWidth>\n        <DialogTitle className=\"dialogTitle\">\n          {currentModule ? 'Edit Module' : 'Add Module'}\n          <IconButton color=\"dark\" onClick={handleCloseAddForm} edge=\"end\" size=\"big\" aria-label=\"close\" title=\"close\">\n            <CloseSquare height={30} />\n          </IconButton>\n        </DialogTitle>\n        <Divider />\n        <Formik initialValues={getModuleInitialValues()} validate={validateModule} onSubmit={handleModuleSubmit} enableReinitialize>\n          {({ errors, touched, handleChange, handleBlur, values, isSubmitting, handleSubmit }) => (\n            <Form onSubmit={handleSubmit}>\n              <DialogContent>\n                <Box>\n                  <Stack spacing={2}>\n                    <FormLabel>Module Name*</FormLabel>\n                    <TextField\n                      fullWidth\n                      id=\"moduleName\"\n                      name=\"moduleName\"\n                      placeholder=\"Module Name\"\n                      value={values.moduleName}\n                      onChange={handleChange}\n                      onBlur={handleBlur}\n                      error={touched.moduleName && Boolean(errors.moduleName)}\n                      helperText={touched.moduleName && errors.moduleName}\n                      disabled={isSubmitting}\n                    />\n                  </Stack>\n                </Box>\n              </DialogContent>\n              <DialogActions sx={{ p: 3, pt: 0 }}>\n                <Button onClick={handleCloseAddForm} disabled={isSubmitting}>\n                  Cancel\n                </Button>\n                <Button type=\"submit\" variant=\"contained\" disabled={isSubmitting || !values.moduleName.trim()}>\n                  {isSubmitting ? 'Saving...' : currentModule ? 'Update' : 'Add Module'}\n                </Button>\n              </DialogActions>\n            </Form>\n          )}\n        </Formik>\n      </Dialog>\n    </>\n  );\n};\n\nPermissionsForm.propTypes = {\n  onCancel: PropTypes.func.isRequired,\n  currentRole: PropTypes.object.isRequired\n};\n\nexport default PermissionsForm;\n","import { unstable_generateUtilityClasses as generateUtilityClasses } from '@mui/utils';\nimport generateUtilityClass from '../generateUtilityClass';\nexport function getSwitchUtilityClass(slot) {\n  return generateUtilityClass('MuiSwitch', slot);\n}\nconst switchClasses = generateUtilityClasses('MuiSwitch', ['root', 'edgeStart', 'edgeEnd', 'switchBase', 'colorPrimary', 'colorSecondary', 'sizeSmall', 'sizeMedium', 'checked', 'disabled', 'input', 'thumb', 'track']);\nexport default switchClasses;","'use client';\n\n// @inheritedComponent IconButton\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"color\", \"edge\", \"size\", \"sx\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base/composeClasses';\nimport { alpha, darken, lighten } from '@mui/system';\nimport capitalize from '../utils/capitalize';\nimport SwitchBase from '../internal/SwitchBase';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport switchClasses, { getSwitchUtilityClass } from './switchClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    edge,\n    size,\n    color,\n    checked,\n    disabled\n  } = ownerState;\n  const slots = {\n    root: ['root', edge && `edge${capitalize(edge)}`, `size${capitalize(size)}`],\n    switchBase: ['switchBase', `color${capitalize(color)}`, checked && 'checked', disabled && 'disabled'],\n    thumb: ['thumb'],\n    track: ['track'],\n    input: ['input']\n  };\n  const composedClasses = composeClasses(slots, getSwitchUtilityClass, classes);\n  return _extends({}, classes, composedClasses);\n};\nconst SwitchRoot = styled('span', {\n  name: 'MuiSwitch',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.edge && styles[`edge${capitalize(ownerState.edge)}`], styles[`size${capitalize(ownerState.size)}`]];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'inline-flex',\n  width: 34 + 12 * 2,\n  height: 14 + 12 * 2,\n  overflow: 'hidden',\n  padding: 12,\n  boxSizing: 'border-box',\n  position: 'relative',\n  flexShrink: 0,\n  zIndex: 0,\n  // Reset the stacking context.\n  verticalAlign: 'middle',\n  // For correct alignment with the text.\n  '@media print': {\n    colorAdjust: 'exact'\n  }\n}, ownerState.edge === 'start' && {\n  marginLeft: -8\n}, ownerState.edge === 'end' && {\n  marginRight: -8\n}, ownerState.size === 'small' && {\n  width: 40,\n  height: 24,\n  padding: 7,\n  [`& .${switchClasses.thumb}`]: {\n    width: 16,\n    height: 16\n  },\n  [`& .${switchClasses.switchBase}`]: {\n    padding: 4,\n    [`&.${switchClasses.checked}`]: {\n      transform: 'translateX(16px)'\n    }\n  }\n}));\nconst SwitchSwitchBase = styled(SwitchBase, {\n  name: 'MuiSwitch',\n  slot: 'SwitchBase',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.switchBase, {\n      [`& .${switchClasses.input}`]: styles.input\n    }, ownerState.color !== 'default' && styles[`color${capitalize(ownerState.color)}`]];\n  }\n})(({\n  theme\n}) => ({\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  zIndex: 1,\n  // Render above the focus ripple.\n  color: theme.vars ? theme.vars.palette.Switch.defaultColor : `${theme.palette.mode === 'light' ? theme.palette.common.white : theme.palette.grey[300]}`,\n  transition: theme.transitions.create(['left', 'transform'], {\n    duration: theme.transitions.duration.shortest\n  }),\n  [`&.${switchClasses.checked}`]: {\n    transform: 'translateX(20px)'\n  },\n  [`&.${switchClasses.disabled}`]: {\n    color: theme.vars ? theme.vars.palette.Switch.defaultDisabledColor : `${theme.palette.mode === 'light' ? theme.palette.grey[100] : theme.palette.grey[600]}`\n  },\n  [`&.${switchClasses.checked} + .${switchClasses.track}`]: {\n    opacity: 0.5\n  },\n  [`&.${switchClasses.disabled} + .${switchClasses.track}`]: {\n    opacity: theme.vars ? theme.vars.opacity.switchTrackDisabled : `${theme.palette.mode === 'light' ? 0.12 : 0.2}`\n  },\n  [`& .${switchClasses.input}`]: {\n    left: '-100%',\n    width: '300%'\n  }\n}), ({\n  theme,\n  ownerState\n}) => _extends({\n  '&:hover': {\n    backgroundColor: theme.vars ? `rgba(${theme.vars.palette.action.activeChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha(theme.palette.action.active, theme.palette.action.hoverOpacity),\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: 'transparent'\n    }\n  }\n}, ownerState.color !== 'default' && {\n  [`&.${switchClasses.checked}`]: {\n    color: (theme.vars || theme).palette[ownerState.color].main,\n    '&:hover': {\n      backgroundColor: theme.vars ? `rgba(${theme.vars.palette[ownerState.color].mainChannel} / ${theme.vars.palette.action.hoverOpacity})` : alpha(theme.palette[ownerState.color].main, theme.palette.action.hoverOpacity),\n      '@media (hover: none)': {\n        backgroundColor: 'transparent'\n      }\n    },\n    [`&.${switchClasses.disabled}`]: {\n      color: theme.vars ? theme.vars.palette.Switch[`${ownerState.color}DisabledColor`] : `${theme.palette.mode === 'light' ? lighten(theme.palette[ownerState.color].main, 0.62) : darken(theme.palette[ownerState.color].main, 0.55)}`\n    }\n  },\n  [`&.${switchClasses.checked} + .${switchClasses.track}`]: {\n    backgroundColor: (theme.vars || theme).palette[ownerState.color].main\n  }\n}));\nconst SwitchTrack = styled('span', {\n  name: 'MuiSwitch',\n  slot: 'Track',\n  overridesResolver: (props, styles) => styles.track\n})(({\n  theme\n}) => ({\n  height: '100%',\n  width: '100%',\n  borderRadius: 14 / 2,\n  zIndex: -1,\n  transition: theme.transitions.create(['opacity', 'background-color'], {\n    duration: theme.transitions.duration.shortest\n  }),\n  backgroundColor: theme.vars ? theme.vars.palette.common.onBackground : `${theme.palette.mode === 'light' ? theme.palette.common.black : theme.palette.common.white}`,\n  opacity: theme.vars ? theme.vars.opacity.switchTrack : `${theme.palette.mode === 'light' ? 0.38 : 0.3}`\n}));\nconst SwitchThumb = styled('span', {\n  name: 'MuiSwitch',\n  slot: 'Thumb',\n  overridesResolver: (props, styles) => styles.thumb\n})(({\n  theme\n}) => ({\n  boxShadow: (theme.vars || theme).shadows[1],\n  backgroundColor: 'currentColor',\n  width: 20,\n  height: 20,\n  borderRadius: '50%'\n}));\nconst Switch = /*#__PURE__*/React.forwardRef(function Switch(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiSwitch'\n  });\n  const {\n      className,\n      color = 'primary',\n      edge = false,\n      size = 'medium',\n      sx\n    } = props,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  const ownerState = _extends({}, props, {\n    color,\n    edge,\n    size\n  });\n  const classes = useUtilityClasses(ownerState);\n  const icon = /*#__PURE__*/_jsx(SwitchThumb, {\n    className: classes.thumb,\n    ownerState: ownerState\n  });\n  return /*#__PURE__*/_jsxs(SwitchRoot, {\n    className: clsx(classes.root, className),\n    sx: sx,\n    ownerState: ownerState,\n    children: [/*#__PURE__*/_jsx(SwitchSwitchBase, _extends({\n      type: \"checkbox\",\n      icon: icon,\n      checkedIcon: icon,\n      ref: ref,\n      ownerState: ownerState\n    }, other, {\n      classes: _extends({}, classes, {\n        root: classes.switchBase\n      })\n    })), /*#__PURE__*/_jsx(SwitchTrack, {\n      className: classes.track,\n      ownerState: ownerState\n    })]\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Switch.propTypes /* remove-proptypes */ = {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n  /**\n   * The icon to display when the component is checked.\n   */\n  checkedIcon: PropTypes.node,\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n  /**\n   * The color of the component.\n   * It supports both default and custom theme colors, which can be added as shown in the\n   * [palette customization guide](https://mui.com/material-ui/customization/palette/#custom-colors).\n   * @default 'primary'\n   */\n  color: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n  /**\n   * The default checked state. Use when the component is not controlled.\n   */\n  defaultChecked: PropTypes.bool,\n  /**\n   * If `true`, the component is disabled.\n   */\n  disabled: PropTypes.bool,\n  /**\n   * If `true`, the ripple effect is disabled.\n   * @default false\n   */\n  disableRipple: PropTypes.bool,\n  /**\n   * If given, uses a negative margin to counteract the padding on one\n   * side (this is often helpful for aligning the left or right\n   * side of the icon with content above or below, without ruining the border\n   * size and shape).\n   * @default false\n   */\n  edge: PropTypes.oneOf(['end', 'start', false]),\n  /**\n   * The icon to display when the component is unchecked.\n   */\n  icon: PropTypes.node,\n  /**\n   * The id of the `input` element.\n   */\n  id: PropTypes.string,\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   */\n  inputProps: PropTypes.object,\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {React.ChangeEvent<HTMLInputElement>} event The event source of the callback.\n   * You can pull out the new value by accessing `event.target.value` (string).\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n  /**\n   * If `true`, the `input` element is required.\n   * @default false\n   */\n  required: PropTypes.bool,\n  /**\n   * The size of the component.\n   * `small` is equivalent to the dense switch styling.\n   * @default 'medium'\n   */\n  size: PropTypes /* @typescript-to-proptypes-ignore */.oneOfType([PropTypes.oneOf(['medium', 'small']), PropTypes.string]),\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.func, PropTypes.object, PropTypes.bool])), PropTypes.func, PropTypes.object]),\n  /**\n   * The value of the component. The DOM API casts this to a string.\n   * The browser uses \"on\" as the default value.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default Switch;"],"names":["permissionsList","_ref","onCancel","currentRole","_useState","useState","_useState2","_slicedToArray","showAddForm","setShowAddForm","_useState3","_useState4","currentModule","setCurrentModule","_useState5","_useState6","modules","setModules","_useState7","_useState8","loading","setLoading","_useState9","permissions","_useState10","formValues","setFormValues","handleCloseAddForm","handleFetchPermissions","useCallback","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","permission","response","permissionData","modulesData","normalizedModules","authData","updatedAuthData","wrap","_context","prev","next","axiosInstance","get","concat","APP_PATH_BASE_URL","role_id","sent","data","success","module_permissions","map","module","matchingPermission","find","perm","module_id","id","allowed_actions","JSON","parse","localStorage","getItem","user","_objectSpread","module_name","setItem","stringify","t0","console","error","Swal","icon","title","text","showConfirmButton","finish","stop","_x","apply","arguments","useEffect","handlePermissionsSubmit","_ref4","_callee2","values","_ref3","setSubmitting","_error$response","_error$response$data","_context2","filter","patch","message","Error","_x2","_x3","handleModuleSubmit","_ref6","_callee3","_ref5","resetForm","_context3","moduleName","trim","actions","post","_x4","_x5","handleDeleteModule","_ref7","_callee4","moduleToDelete","_context4","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","isConfirmed","_x6","_jsx","Box","display","justifyContent","alignItems","minHeight","children","CircularProgress","_jsxs","_Fragment","Stack","direction","spacing","sx","mb","Typography","variant","fontWeight","gutterBottom","name","Button","onClick","disabled","className","Divider","color","startIcon","ArrowBack","Formik","initialValues","onSubmit","enableReinitialize","_ref8","setFieldValue","isSubmitting","handleSubmit","Form","Grid","container","formModule","m","modulePermissions","item","xs","sm","md","Card","boxShadow","height","CardHeader","action","gap","size","newPermissions","_toConsumableArray","existingModuleIndex","findIndex","push","selectAllPermissions","clearAllPermissions","CardContent","isChecked","includes","FormControlLabel","control","Switch","checked","onChange","e","p","handlePermissionToggle","target","label","charAt","toUpperCase","slice","CardActions","flex","handleEditModule","my","type","Dialog","open","onClose","maxWidth","fullWidth","DialogTitle","IconButton","edge","CloseSquare","validate","errors","_ref9","touched","handleChange","handleBlur","DialogContent","FormLabel","TextField","placeholder","value","onBlur","Boolean","helperText","DialogActions","pt","getSwitchUtilityClass","slot","generateUtilityClass","generateUtilityClasses","_excluded","SwitchRoot","styled","overridesResolver","props","styles","ownerState","root","capitalize","_extends","width","overflow","padding","boxSizing","position","flexShrink","zIndex","verticalAlign","colorAdjust","marginLeft","marginRight","_defineProperty","switchClasses","thumb","switchBase","transform","SwitchSwitchBase","SwitchBase","input","theme","top","left","vars","palette","defaultColor","mode","common","white","grey","transition","transitions","create","duration","shortest","defaultDisabledColor","track","opacity","switchTrackDisabled","backgroundColor","activeChannel","hoverOpacity","alpha","active","main","mainChannel","lighten","darken","SwitchTrack","borderRadius","onBackground","black","switchTrack","SwitchThumb","shadows","React","inProps","ref","useThemeProps","_props$color","_props$edge","_props$size","other","_objectWithoutPropertiesLoose","classes","slots","composedClasses","composeClasses","useUtilityClasses","clsx","checkedIcon"],"sourceRoot":""}