"use strict";(self.webpackChunkable_pro_material_react=self.webpackChunkable_pro_material_react||[]).push([[6120],{6120:function(e,t,n){n.r(t),n.d(t,{default:function(){return ue}});var r=n(72791),a=n(61889),o=n(57689),i=n(61819),c=n(15861),s=n(29439),l=n(15671),h=n(43144),d=n(97326),u=n(60136),p=n(29388),g=n(1413),m=Object.defineProperty,w=function(e,t,n){return function(e,t,n){return t in e?m(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=typeof t?t+"":t,n)},f={x:0,y:0,width:0,height:0,unit:"px"},v=function(e,t,n){return Math.min(Math.max(e,t),n)},x=function(e,t){return e===t||e.width===t.width&&e.height===t.height&&e.x===t.x&&e.y===t.y&&e.unit===t.unit};function y(e,t,n){return"%"===e.unit?(0,g.Z)((0,g.Z)((0,g.Z)({},f),e),{},{unit:"%"}):{unit:"%",x:e.x?e.x/t*100:0,y:e.y?e.y/n*100:0,width:e.width?e.width/t*100:0,height:e.height?e.height/n*100:0}}function C(e,t,n){return e.unit?"px"===e.unit?(0,g.Z)((0,g.Z)((0,g.Z)({},f),e),{},{unit:"px"}):{unit:"px",x:e.x?e.x*t/100:0,y:e.y?e.y*n/100:0,width:e.width?e.width*t/100:0,height:e.height?e.height*n/100:0}:(0,g.Z)((0,g.Z)((0,g.Z)({},f),e),{},{unit:"px"})}function Z(e,t,n,r,a){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,i=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,c=arguments.length>7&&void 0!==arguments[7]?arguments[7]:r,s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:a,l=(0,g.Z)({},e),h=Math.min(o,r),d=Math.min(i,a),u=Math.min(c,r),p=Math.min(s,a);t&&(t>1?(d=(h=i?i*t:h)/t,u=c*t):(h=(d=o?o/t:d)*t,p=s/t)),l.y<0&&(l.height=Math.max(l.height+l.y,d),l.y=0),l.x<0&&(l.width=Math.max(l.width+l.x,h),l.x=0);var m=r-(l.x+l.width);m<0&&(l.x=Math.min(l.x,r-h),l.width+=m);var w=a-(l.y+l.height);if(w<0&&(l.y=Math.min(l.y,a-d),l.height+=w),l.width<h&&(("sw"===n||"nw"==n)&&(l.x-=h-l.width),l.width=h),l.height<d&&(("nw"===n||"ne"==n)&&(l.y-=d-l.height),l.height=d),l.width>u&&(("sw"===n||"nw"==n)&&(l.x-=u-l.width),l.width=u),l.height>p&&(("nw"===n||"ne"==n)&&(l.y-=p-l.height),l.height=p),t){var f=l.width/l.height;if(f<t){var v=Math.max(l.width/t,d);("nw"===n||"ne"==n)&&(l.y-=v-l.height),l.height=v}else if(f>t){var x=Math.max(l.height*t,h);("sw"===n||"nw"==n)&&(l.x-=x-l.width),l.width=x}}return l}var k={capture:!0,passive:!1},b=0,D=function(e){(0,u.Z)(n,e);var t=(0,p.Z)(n);function n(){var e;return(0,l.Z)(this,n),e=t.apply(this,arguments),w((0,d.Z)(e),"docMoveBound",!1),w((0,d.Z)(e),"mouseDownOnCrop",!1),w((0,d.Z)(e),"dragStarted",!1),w((0,d.Z)(e),"evData",{startClientX:0,startClientY:0,startCropX:0,startCropY:0,clientX:0,clientY:0,isResize:!0}),w((0,d.Z)(e),"componentRef",(0,r.createRef)()),w((0,d.Z)(e),"mediaRef",(0,r.createRef)()),w((0,d.Z)(e),"resizeObserver"),w((0,d.Z)(e),"initChangeCalled",!1),w((0,d.Z)(e),"instanceId","rc-".concat(b++)),w((0,d.Z)(e),"state",{cropIsActive:!1,newCropIsBeingDrawn:!1}),w((0,d.Z)(e),"onCropPointerDown",(function(t){var n=e.props,r=n.crop,a=n.disabled,o=e.getBox();if(r){var i=C(r,o.width,o.height);if(!a){t.cancelable&&t.preventDefault(),e.bindDocMove(),e.componentRef.current.focus({preventScroll:!0});var c=t.target.dataset.ord,s=!!c,l=t.clientX,h=t.clientY,d=i.x,u=i.y;if(c){var p=t.clientX-o.x,g=t.clientY-o.y,m=0,w=0;"ne"===c||"e"==c?(m=p-(i.x+i.width),w=g-i.y,d=i.x,u=i.y+i.height):"se"===c||"s"===c?(m=p-(i.x+i.width),w=g-(i.y+i.height),d=i.x,u=i.y):"sw"===c||"w"==c?(m=p-i.x,w=g-(i.y+i.height),d=i.x+i.width,u=i.y):("nw"===c||"n"==c)&&(m=p-i.x,w=g-i.y,d=i.x+i.width,u=i.y+i.height),l=d+o.x+m,h=u+o.y+w}e.evData={startClientX:l,startClientY:h,startCropX:d,startCropY:u,clientX:t.clientX,clientY:t.clientY,isResize:s,ord:c},e.mouseDownOnCrop=!0,e.setState({cropIsActive:!0})}}})),w((0,d.Z)(e),"onComponentPointerDown",(function(t){var n=e.props,r=n.crop,a=n.disabled,o=n.locked,i=n.keepSelection,c=n.onChange,s=e.getBox();if(!(a||o||i&&r)){t.cancelable&&t.preventDefault(),e.bindDocMove(),e.componentRef.current.focus({preventScroll:!0});var l=t.clientX-s.x,h=t.clientY-s.y,d={unit:"px",x:l,y:h,width:0,height:0};e.evData={startClientX:t.clientX,startClientY:t.clientY,startCropX:l,startCropY:h,clientX:t.clientX,clientY:t.clientY,isResize:!0},e.mouseDownOnCrop=!0,c(C(d,s.width,s.height),y(d,s.width,s.height)),e.setState({cropIsActive:!0,newCropIsBeingDrawn:!0})}})),w((0,d.Z)(e),"onDocPointerMove",(function(t){var n=e.props,r=n.crop,a=n.disabled,o=n.onChange,i=n.onDragStart,c=e.getBox();if(!a&&r&&e.mouseDownOnCrop){t.cancelable&&t.preventDefault(),e.dragStarted||(e.dragStarted=!0,i&&i(t));var s,l=(0,d.Z)(e).evData;l.clientX=t.clientX,l.clientY=t.clientY,s=l.isResize?e.resizeCrop():e.dragCrop(),x(r,s)||o(C(s,c.width,c.height),y(s,c.width,c.height))}})),w((0,d.Z)(e),"onComponentKeyDown",(function(t){var r=e.props,a=r.crop,o=r.disabled,i=r.onChange,c=r.onComplete;if(!o){var s=t.key,l=!1;if(a){var h=e.getBox(),d=e.makePixelCrop(h),u=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?n.nudgeStepLarge:t.shiftKey?n.nudgeStepMedium:n.nudgeStep;if("ArrowLeft"===s?(d.x-=u,l=!0):"ArrowRight"===s?(d.x+=u,l=!0):"ArrowUp"===s?(d.y-=u,l=!0):"ArrowDown"===s&&(d.y+=u,l=!0),l){t.cancelable&&t.preventDefault(),d.x=v(d.x,0,h.width-d.width),d.y=v(d.y,0,h.height-d.height);var p=C(d,h.width,h.height),g=y(d,h.width,h.height);i(p,g),c&&c(p,g)}}}})),w((0,d.Z)(e),"onHandlerKeyDown",(function(t,r){var a=e.props,o=a.aspect,i=void 0===o?0:o,c=a.crop,s=a.disabled,l=a.minWidth,h=void 0===l?0:l,d=a.minHeight,u=void 0===d?0:d,p=a.maxWidth,m=a.maxHeight,w=a.onChange,f=a.onComplete,v=e.getBox();if(!s&&c&&("ArrowUp"===t.key||"ArrowDown"===t.key||"ArrowLeft"===t.key||"ArrowRight"===t.key)){t.stopPropagation(),t.preventDefault();var k=(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?n.nudgeStepLarge:t.shiftKey?n.nudgeStepMedium:n.nudgeStep,b=function(e,t,n,r){var a=(0,g.Z)({},e);return"ArrowLeft"===t?"nw"===r?(a.x-=n,a.y-=n,a.width+=n,a.height+=n):"w"===r?(a.x-=n,a.width+=n):"sw"===r?(a.x-=n,a.width+=n,a.height+=n):"ne"===r?(a.y+=n,a.width-=n,a.height-=n):"e"===r?a.width-=n:"se"===r&&(a.width-=n,a.height-=n):"ArrowRight"===t&&("nw"===r?(a.x+=n,a.y+=n,a.width-=n,a.height-=n):"w"===r?(a.x+=n,a.width-=n):"sw"===r?(a.x+=n,a.width-=n,a.height-=n):"ne"===r?(a.y-=n,a.width+=n,a.height+=n):"e"===r?a.width+=n:"se"===r&&(a.width+=n,a.height+=n)),"ArrowUp"===t?"nw"===r?(a.x-=n,a.y-=n,a.width+=n,a.height+=n):"n"===r?(a.y-=n,a.height+=n):"ne"===r?(a.y-=n,a.width+=n,a.height+=n):"sw"===r?(a.x+=n,a.width-=n,a.height-=n):"s"===r?a.height-=n:"se"===r&&(a.width-=n,a.height-=n):"ArrowDown"===t&&("nw"===r?(a.x+=n,a.y+=n,a.width-=n,a.height-=n):"n"===r?(a.y+=n,a.height-=n):"ne"===r?(a.y+=n,a.width-=n,a.height-=n):"sw"===r?(a.x-=n,a.width+=n,a.height+=n):"s"===r?a.height+=n:"se"===r&&(a.width+=n,a.height+=n)),a}(C(c,v.width,v.height),t.key,k,r),D=Z(b,i,r,v.width,v.height,h,u,p,m);if(!x(c,D)){var E=y(D,v.width,v.height);w(D,E),f&&f(D,E)}}})),w((0,d.Z)(e),"onDocPointerDone",(function(t){var n=e.props,r=n.crop,a=n.disabled,o=n.onComplete,i=n.onDragEnd,c=e.getBox();e.unbindDocMove(),!a&&r&&e.mouseDownOnCrop&&(e.mouseDownOnCrop=!1,e.dragStarted=!1,i&&i(t),o&&o(C(r,c.width,c.height),y(r,c.width,c.height)),e.setState({cropIsActive:!1,newCropIsBeingDrawn:!1}))})),w((0,d.Z)(e),"onDragFocus",(function(){var t;null==(t=e.componentRef.current)||t.scrollTo(0,0)})),e}return(0,h.Z)(n,[{key:"document",get:function(){return document}},{key:"getBox",value:function(){var e=this.mediaRef.current;if(!e)return{x:0,y:0,width:0,height:0};var t=e.getBoundingClientRect();return{x:t.x,y:t.y,width:t.width,height:t.height}}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.crop,r=t.onComplete;if(r&&!e.crop&&n){var a=this.getBox(),o=a.width,i=a.height;o&&i&&r(C(n,o,i),y(n,o,i))}}},{key:"componentWillUnmount",value:function(){this.resizeObserver&&this.resizeObserver.disconnect(),this.unbindDocMove()}},{key:"bindDocMove",value:function(){this.docMoveBound||(this.document.addEventListener("pointermove",this.onDocPointerMove,k),this.document.addEventListener("pointerup",this.onDocPointerDone,k),this.document.addEventListener("pointercancel",this.onDocPointerDone,k),this.docMoveBound=!0)}},{key:"unbindDocMove",value:function(){this.docMoveBound&&(this.document.removeEventListener("pointermove",this.onDocPointerMove,k),this.document.removeEventListener("pointerup",this.onDocPointerDone,k),this.document.removeEventListener("pointercancel",this.onDocPointerDone,k),this.docMoveBound=!1)}},{key:"getCropStyle",value:function(){var e=this.props.crop;if(e)return{top:"".concat(e.y).concat(e.unit),left:"".concat(e.x).concat(e.unit),width:"".concat(e.width).concat(e.unit),height:"".concat(e.height).concat(e.unit)}}},{key:"dragCrop",value:function(){var e=this.evData,t=this.getBox(),n=this.makePixelCrop(t),r=e.clientX-e.startClientX,a=e.clientY-e.startClientY;return n.x=v(e.startCropX+r,0,t.width-n.width),n.y=v(e.startCropY+a,0,t.height-n.height),n}},{key:"getPointRegion",value:function(e,t,n,r){var a,o=this.evData,i=o.clientX-e.x,c=o.clientY-e.y;return a=r&&t?"nw"===t||"n"===t||"ne"===t:c<o.startCropY,(n&&t?"nw"===t||"w"===t||"sw"===t:i<o.startCropX)?a?"nw":"sw":a?"ne":"se"}},{key:"resolveMinDimensions",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=Math.min(n,e.width),o=Math.min(r,e.height);return t&&(a||o)?t>1?a?[a,a/t]:[o*t,o]:o?[o*t,o]:[a,a/t]:[a,o]}},{key:"resizeCrop",value:function(){var e=this.evData,t=this.props,r=t.aspect,a=void 0===r?0:r,o=t.maxWidth,i=t.maxHeight,c=this.getBox(),l=this.resolveMinDimensions(c,a,this.props.minWidth,this.props.minHeight),h=(0,s.Z)(l,2),d=h[0],u=h[1],p=this.makePixelCrop(c),g=this.getPointRegion(c,e.ord,d,u),m=e.ord||g,w=e.clientX-e.startClientX,f=e.clientY-e.startClientY;(d&&"nw"===m||"w"===m||"sw"===m)&&(w=Math.min(w,-d)),(u&&"nw"===m||"n"===m||"ne"===m)&&(f=Math.min(f,-u));var x={unit:"px",x:0,y:0,width:0,height:0};"ne"===g?(x.x=e.startCropX,x.width=w,a?(x.height=x.width/a,x.y=e.startCropY-x.height):(x.height=Math.abs(f),x.y=e.startCropY-x.height)):"se"===g?(x.x=e.startCropX,x.y=e.startCropY,x.width=w,x.height=a?x.width/a:f):"sw"===g?(x.x=e.startCropX+w,x.y=e.startCropY,x.width=Math.abs(w),x.height=a?x.width/a:f):"nw"===g&&(x.x=e.startCropX+w,x.width=Math.abs(w),a?(x.height=x.width/a,x.y=e.startCropY-x.height):(x.height=Math.abs(f),x.y=e.startCropY+f));var y=Z(x,a,g,c.width,c.height,d,u,o,i);return a||n.xyOrds.indexOf(m)>-1?p=y:n.xOrds.indexOf(m)>-1?(p.x=y.x,p.width=y.width):n.yOrds.indexOf(m)>-1&&(p.y=y.y,p.height=y.height),p.x=v(p.x,0,c.width-p.width),p.y=v(p.y,0,c.height-p.height),p}},{key:"renderCropSelection",value:function(){var e=this,t=this.props,a=t.ariaLabels,o=void 0===a?n.defaultProps.ariaLabels:a,i=t.disabled,c=t.locked,s=t.renderSelectionAddon,l=t.ruleOfThirds,h=t.crop,d=this.getCropStyle();if(h)return r.createElement("div",{style:d,className:"ReactCrop__crop-selection",onPointerDown:this.onCropPointerDown,"aria-label":o.cropArea,tabIndex:0,onKeyDown:this.onComponentKeyDown,role:"group"},!i&&!c&&r.createElement("div",{className:"ReactCrop__drag-elements",onFocus:this.onDragFocus},r.createElement("div",{className:"ReactCrop__drag-bar ord-n","data-ord":"n"}),r.createElement("div",{className:"ReactCrop__drag-bar ord-e","data-ord":"e"}),r.createElement("div",{className:"ReactCrop__drag-bar ord-s","data-ord":"s"}),r.createElement("div",{className:"ReactCrop__drag-bar ord-w","data-ord":"w"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-nw","data-ord":"nw",tabIndex:0,"aria-label":o.nwDragHandle,onKeyDown:function(t){return e.onHandlerKeyDown(t,"nw")},role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-n","data-ord":"n",tabIndex:0,"aria-label":o.nDragHandle,onKeyDown:function(t){return e.onHandlerKeyDown(t,"n")},role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-ne","data-ord":"ne",tabIndex:0,"aria-label":o.neDragHandle,onKeyDown:function(t){return e.onHandlerKeyDown(t,"ne")},role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-e","data-ord":"e",tabIndex:0,"aria-label":o.eDragHandle,onKeyDown:function(t){return e.onHandlerKeyDown(t,"e")},role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-se","data-ord":"se",tabIndex:0,"aria-label":o.seDragHandle,onKeyDown:function(t){return e.onHandlerKeyDown(t,"se")},role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-s","data-ord":"s",tabIndex:0,"aria-label":o.sDragHandle,onKeyDown:function(t){return e.onHandlerKeyDown(t,"s")},role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-sw","data-ord":"sw",tabIndex:0,"aria-label":o.swDragHandle,onKeyDown:function(t){return e.onHandlerKeyDown(t,"sw")},role:"button"}),r.createElement("div",{className:"ReactCrop__drag-handle ord-w","data-ord":"w",tabIndex:0,"aria-label":o.wDragHandle,onKeyDown:function(t){return e.onHandlerKeyDown(t,"w")},role:"button"})),s&&r.createElement("div",{className:"ReactCrop__selection-addon",onPointerDown:function(e){return e.stopPropagation()}},s(this.state)),l&&r.createElement(r.Fragment,null,r.createElement("div",{className:"ReactCrop__rule-of-thirds-hz"}),r.createElement("div",{className:"ReactCrop__rule-of-thirds-vt"})))}},{key:"makePixelCrop",value:function(e){return C((0,g.Z)((0,g.Z)({},f),this.props.crop||{}),e.width,e.height)}},{key:"render",value:function(){var e=this.props,t=e.aspect,n=e.children,a=e.circularCrop,o=e.className,i=e.crop,c=e.disabled,s=e.locked,l=e.style,h=e.ruleOfThirds,d=this.state,u=d.cropIsActive,p=d.newCropIsBeingDrawn,g=i?this.renderCropSelection():null,m=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e&&"string"==typeof e})).join(" ")}("ReactCrop",o,u&&"ReactCrop--active",c&&"ReactCrop--disabled",s&&"ReactCrop--locked",p&&"ReactCrop--new-crop",i&&t&&"ReactCrop--fixed-aspect",i&&a&&"ReactCrop--circular-crop",i&&h&&"ReactCrop--rule-of-thirds",!this.dragStarted&&i&&!i.width&&!i.height&&"ReactCrop--invisible-crop",a&&"ReactCrop--no-animate");return r.createElement("div",{ref:this.componentRef,className:m,style:l},r.createElement("div",{ref:this.mediaRef,className:"ReactCrop__child-wrapper",onPointerDown:this.onComponentPointerDown},n),i?r.createElement("svg",{className:"ReactCrop__crop-mask",width:"100%",height:"100%"},r.createElement("defs",null,r.createElement("mask",{id:"hole-".concat(this.instanceId)},r.createElement("rect",{width:"100%",height:"100%",fill:"white"}),a?r.createElement("ellipse",{cx:"".concat(i.x+i.width/2).concat(i.unit),cy:"".concat(i.y+i.height/2).concat(i.unit),rx:"".concat(i.width/2).concat(i.unit),ry:"".concat(i.height/2).concat(i.unit),fill:"black"}):r.createElement("rect",{x:"".concat(i.x).concat(i.unit),y:"".concat(i.y).concat(i.unit),width:"".concat(i.width).concat(i.unit),height:"".concat(i.height).concat(i.unit),fill:"black"}))),r.createElement("rect",{fill:"black",fillOpacity:.5,width:"100%",height:"100%",mask:"url(#hole-".concat(this.instanceId,")")})):void 0,g)}}]),n}(r.PureComponent);w(D,"xOrds",["e","w"]),w(D,"yOrds",["n","s"]),w(D,"xyOrds",["nw","ne","se","sw"]),w(D,"nudgeStep",1),w(D,"nudgeStepMedium",10),w(D,"nudgeStepLarge",100),w(D,"defaultProps",{ariaLabels:{cropArea:"Use the arrow keys to move the crop selection area",nwDragHandle:"Use the arrow keys to move the north west drag handle to change the crop selection area",nDragHandle:"Use the up and down arrow keys to move the north drag handle to change the crop selection area",neDragHandle:"Use the arrow keys to move the north east drag handle to change the crop selection area",eDragHandle:"Use the up and down arrow keys to move the east drag handle to change the crop selection area",seDragHandle:"Use the arrow keys to move the south east drag handle to change the crop selection area",sDragHandle:"Use the up and down arrow keys to move the south drag handle to change the crop selection area",swDragHandle:"Use the arrow keys to move the south west drag handle to change the crop selection area",wDragHandle:"Use the up and down arrow keys to move the west drag handle to change the crop selection area"}});var E=D,M=n(13967),j=n(36314),R=n(17133),_=n(697),S=n(20890),L=n(48550),P=n(5574),I=n(39157),B=n(97123),H=n(94294),A=n(24034),O=n(56790),Y=n(90493),W=n(76278),K=n(57064),N=n(49900),X=n(21878),z=n(63108),F=n(80184);function T(e){var t=0;switch(e){case"/user/tutor":t=1;break;case"/user/password":t=2;break;case"/user/student":t=3;break;case"/user/recording":t=4;break;case"/user/certificate":t=5;break;default:t=0}return t}var U=function(){var e=(0,M.Z)(),t=(0,o.s0)(),n=(0,o.TH)().pathname,a=(0,r.useState)(T(n)),i=(0,s.Z)(a,2),c=i[0],l=i[1],h=(0,r.useState)(""),d=(0,s.Z)(h,2),u=d[0],p=d[1];(0,r.useEffect)((function(){var e=JSON.parse(localStorage.getItem("auth")),t=null===e||void 0===e?void 0:e.loginType;t&&p(t)}),[]);var g=function(e,n){l(e),t(n)};return(0,r.useEffect)((function(){l(T(n))}),[n]),(0,F.jsxs)(Y.Z,{component:"nav",sx:{p:0,"& .MuiListItemIcon-root":{minWidth:32,color:e.palette.secondary.main}},children:[(0,F.jsxs)(W.Z,{selected:0===c,onClick:function(){return g(0,"/user/personal")},children:[(0,F.jsx)(K.Z,{children:(0,F.jsx)(X.Z,{size:18})}),(0,F.jsx)(N.Z,{primary:"Personal Information"})]}),(0,F.jsxs)(W.Z,{selected:c===("tutor"==u?1:3),onClick:function(){return g(3,"/user/".concat(u))},children:[(0,F.jsx)(K.Z,{children:(0,F.jsx)(X.Z,{size:18})}),(0,F.jsx)(N.Z,{primary:"tutor"===u?"student information":"tutor information"})]}),"student"===u&&(0,F.jsxs)(W.Z,{selected:4===c,onClick:function(){return g(3,"/user/recording")},children:[(0,F.jsx)(K.Z,{children:(0,F.jsx)(z.Z,{size:18})}),(0,F.jsx)(N.Z,{primary:"Recordings"})]})]})},J=n(95305),q=n(91164),G=n(23197),Q=n(97573),V=n(52007),$=n.n(V),ee=["variant","color","size"],te=function(e){var t=e.color;return r.createElement(r.Fragment,null,r.createElement("path",{d:"M18 6c-.61 0-1.17-.35-1.45-.89l-.72-1.45C15.37 2.75 14.17 2 13.15 2h-2.29c-1.03 0-2.23.75-2.69 1.66l-.72 1.45C7.17 5.65 6.61 6 6 6 3.83 6 2.11 7.83 2.25 9.99l.52 8.26C2.89 20.31 4 22 6.76 22h10.48c2.76 0 3.86-1.69 3.99-3.75l.52-8.26A3.753 3.753 0 0 0 18 6Zm-7.5 1.25h3c.41 0 .75.34.75.75s-.34.75-.75.75h-3c-.41 0-.75-.34-.75-.75s.34-.75.75-.75ZM12 18.12c-1.86 0-3.38-1.51-3.38-3.38 0-1.87 1.51-3.38 3.38-3.38 1.87 0 3.38 1.51 3.38 3.38 0 1.87-1.52 3.38-3.38 3.38Z",fill:t}))},ne=function(e){var t=e.color;return r.createElement(r.Fragment,null,r.createElement("path",{d:"M2.77 18.25C2.89 20.31 4 22 6.76 22h10.48c2.76 0 3.86-1.69 3.99-3.75l.52-8.26A3.753 3.753 0 0 0 18 6c-.61 0-1.17-.35-1.45-.89l-.72-1.45C15.37 2.75 14.17 2 13.15 2h-2.29c-1.03 0-2.23.75-2.69 1.66l-.72 1.45C7.17 5.65 6.61 6 6 6 3.83 6 2.11 7.83 2.25 9.99l.26 4.07M10.5 8h3",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M12 18c1.79 0 3.25-1.46 3.25-3.25S13.79 11.5 12 11.5s-3.25 1.46-3.25 3.25S10.21 18 12 18Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},re=function(e){var t=e.color;return r.createElement(r.Fragment,null,r.createElement("path",{opacity:".4",d:"M6.76 22h10.48c2.76 0 3.86-1.69 3.99-3.75l.52-8.26A3.753 3.753 0 0 0 18 6c-.61 0-1.17-.35-1.45-.89l-.72-1.45C15.37 2.75 14.17 2 13.15 2h-2.29c-1.03 0-2.23.75-2.69 1.66l-.72 1.45C7.17 5.65 6.61 6 6 6 3.83 6 2.11 7.83 2.25 9.99l.52 8.26C2.89 20.31 4 22 6.76 22Z",fill:t}),r.createElement("path",{d:"M13.5 8.75h-3c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h3c.41 0 .75.34.75.75s-.34.75-.75.75ZM12.001 18.131a3.38 3.38 0 1 0 0-6.76 3.38 3.38 0 0 0 0 6.76Z",fill:t}))},ae=function(e){var t=e.color;return r.createElement(r.Fragment,null,r.createElement("path",{d:"M6.76 22h10.48c2.76 0 3.86-1.69 3.99-3.75l.52-8.26A3.753 3.753 0 0 0 18 6c-.61 0-1.17-.35-1.45-.89l-.72-1.45C15.37 2.75 14.17 2 13.15 2h-2.29c-1.03 0-2.23.75-2.69 1.66l-.72 1.45C7.17 5.65 6.61 6 6 6 3.83 6 2.11 7.83 2.25 9.99l.52 8.26C2.89 20.31 4 22 6.76 22ZM10.5 8h3",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{d:"M12 18c1.79 0 3.25-1.46 3.25-3.25S13.79 11.5 12 11.5s-3.25 1.46-3.25 3.25S10.21 18 12 18Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},oe=function(e){var t=e.color;return r.createElement(r.Fragment,null,r.createElement("path",{d:"M17.242 22.75H6.762c-2.8 0-4.58-1.67-4.74-4.46l-.52-8.25a4.44 4.44 0 0 1 1.21-3.36c.85-.91 2.05-1.43 3.29-1.43.32 0 .63-.19.78-.49l.72-1.43c.59-1.17 2.07-2.08 3.36-2.08h2.29c1.29 0 2.76.91 3.35 2.07l.72 1.46c.15.28.45.47.78.47 1.24 0 2.44.52 3.29 1.43.86.92 1.29 2.11 1.21 3.36l-.52 8.26c-.18 2.83-1.91 4.45-4.74 4.45Zm-6.38-20c-.74 0-1.68.58-2.02 1.25l-.72 1.44c-.42.81-1.23 1.31-2.12 1.31-.84 0-1.62.34-2.2.95-.57.61-.86 1.41-.8 2.24l.52 8.26c.12 2.02 1.21 3.05 3.24 3.05h10.48c2.02 0 3.11-1.03 3.24-3.05l.52-8.26a2.99 2.99 0 0 0-.8-2.24c-.58-.61-1.36-.95-2.2-.95-.89 0-1.7-.5-2.12-1.29L15.152 4c-.33-.66-1.27-1.24-2.01-1.24h-2.28v-.01Z",fill:t}),r.createElement("path",{d:"M13.5 8.75h-3c-.41 0-.75-.34-.75-.75s.34-.75.75-.75h3c.41 0 .75.34.75.75s-.34.75-.75.75ZM12 18.75c-2.21 0-4-1.79-4-4s1.79-4 4-4 4 1.79 4 4-1.79 4-4 4Zm0-6.5a2.5 2.5 0 0 0 0 5 2.5 2.5 0 0 0 0-5Z",fill:t}))},ie=function(e){var t=e.color;return r.createElement(r.Fragment,null,r.createElement("path",{d:"M6.76 22h10.48c2.76 0 3.86-1.69 3.99-3.75l.52-8.26A3.753 3.753 0 0 0 18 6c-.61 0-1.17-.35-1.45-.89l-.72-1.45C15.37 2.75 14.17 2 13.15 2h-2.29c-1.03 0-2.23.75-2.69 1.66l-.72 1.45C7.17 5.65 6.61 6 6 6 3.83 6 2.11 7.83 2.25 9.99l.52 8.26C2.89 20.31 4 22 6.76 22Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("path",{opacity:".4",d:"M10.5 8h3M12 18c1.79 0 3.25-1.46 3.25-3.25S13.79 11.5 12 11.5s-3.25 1.46-3.25 3.25S10.21 18 12 18Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},ce=(0,r.forwardRef)((function(e,t){var n=e.variant,a=e.color,o=e.size,i=(0,Q._)(e,ee);return r.createElement("svg",(0,Q.a)({},i,{xmlns:"http://www.w3.org/2000/svg",ref:t,width:o,height:o,viewBox:"0 0 24 24",fill:"none"}),function(e,t){switch(e){case"Bold":return r.createElement(te,{color:t});case"Broken":return r.createElement(ne,{color:t});case"Bulk":return r.createElement(re,{color:t});case"Linear":default:return r.createElement(ae,{color:t});case"Outline":return r.createElement(oe,{color:t});case"TwoTone":return r.createElement(ie,{color:t})}}(n,a))}));ce.propTypes={variant:$().oneOf(["Linear","Bold","Broken","Bulk","Outline","TwoTone"]),color:$().string,size:$().oneOfType([$().string,$().number])},ce.defaultProps={variant:"Linear",color:"currentColor",size:"24"},ce.displayName="Camera";var se=n(85680),le=n(89731),he=n(5242),de=function(){var e,t,n,o=(0,M.Z)(),l=(0,r.useState)([]),h=(0,s.Z)(l,2),d=h[0],u=h[1],p=(0,r.useState)(he("./avatar-thumb-1.png")),g=(0,s.Z)(p,2),m=g[0],w=g[1],f=(0,r.useState)(!1),v=(0,s.Z)(f,2),x=v[0],y=v[1],C=(0,r.useState)(null),Z=(0,s.Z)(C,2),k=Z[0],b=Z[1],D=(0,r.useState)({aspect:1}),Y=(0,s.Z)(D,2),W=Y[0],K=Y[1],N=(0,r.useState)(null),X=(0,s.Z)(N,2),z=X[0],T=X[1],Q=(0,r.useState)(!1),V=(0,s.Z)(Q,2),$=V[0],ee=V[1],te=(0,r.useRef)(null),ne=JSON.parse(localStorage.getItem("auth")),re=(null===ne||void 0===ne||null===(e=ne.user)||void 0===e?void 0:e.employee_id)||(null===ne||void 0===ne||null===(t=ne.user)||void 0===t?void 0:t.user_id),ae=null===ne||void 0===ne||null===(n=ne.user)||void 0===n?void 0:n.student_id,oe=null===ne||void 0===ne?void 0:ne.loginType,ie=(0,r.useCallback)((0,c.Z)((0,i.Z)().mark((function e(){var t,n;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"tutor"!==oe){e.next=7;break}return e.next=4,le.Z.get("".concat(G.t6,"api/trainers/").concat(re));case 4:t=e.sent,e.next=10;break;case 7:return e.next=9,le.Z.get("".concat(G.t6,"api/student_profile/").concat(ae));case 9:t=e.sent;case 10:n=t.data,u(n.data),"tutor"===oe?n.data.profile_pic_url&&w("".concat(n.data.profile_pic_url)):n.data.profile_pic&&w("".concat(n.data.profile_pic)),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.error("Error fetching user data:",e.t0.message),(0,q.WI)((0,J.ss)({open:!0,message:"Failed to load user data",variant:"alert",alert:{color:"error"},close:!1}));case 19:case"end":return e.stop()}}),e,null,[[0,15]])}))),[re,ae,oe]);(0,r.useEffect)((function(){ie()}),[ie]);var de=(0,r.useCallback)(function(){var e=(0,c.Z)((0,i.Z)().mark((function e(t){var n,r,a;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new FormData).append("profile_pic",t,t.name),r="tutor"===oe?"".concat(G.t6,"api/trainers/").concat(re):"".concat(G.t6,"api/student_profile/").concat(ae),e.next=6,le.Z.patch(r,n,{headers:{"Content-Type":"multipart/form-data"}});case 6:return a=e.sent,e.next=9,a.data;case 9:return(0,q.WI)((0,J.ss)({open:!0,message:"Profile image updated successfully.",variant:"alert",alert:{color:"success"},autoHideDuration:3e3,close:!0})),e.next=12,ie();case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),(0,q.WI)((0,J.ss)({open:!0,message:e.t0.message||"Update failed",variant:"alert",alert:{color:"error"},autoHideDuration:3e3,close:!0}));case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),[re,ae,oe,ie]),ue=function(e,t){var n=document.createElement("canvas"),r=e.naturalWidth/e.width,a=e.naturalHeight/e.height;return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*r,t.y*a,t.width*r,t.height*a,0,0,t.width,t.height),new Promise((function(e){n.toBlob((function(t){e(t)}),"image/jpeg",.9)}))},pe=function(){var e=(0,c.Z)((0,i.Z)().mark((function e(){var t,n,r;return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!z||!te.current){e.next=17;break}return e.prev=1,e.next=4,ue(te.current,z);case 4:return t=e.sent,n=URL.createObjectURL(t),w(n),y(!1),r=new File([t],"profile-pic.jpg",{type:"image/jpeg",lastModified:Date.now()}),e.next=11,de(r);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.error("Error cropping image:",e.t0),(0,q.WI)((0,J.ss)({open:!0,message:"Failed to crop image",variant:"alert",alert:{color:"error"},autoHideDuration:3e3,close:!0}));case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(){return e.apply(this,arguments)}}();return(0,F.jsxs)(A.Z,{children:[(0,F.jsxs)(a.ZP,{container:!0,spacing:6,children:[(0,F.jsx)(a.ZP,{item:!0,xs:12,children:(0,F.jsx)(j.Z,{spacing:3,alignItems:"center",sx:{textAlign:"center"},children:(0,F.jsxs)(j.Z,{spacing:1,alignItems:"center",children:[(0,F.jsxs)(R.Z,{htmlFor:"change-avatar",sx:{position:"relative",borderRadius:"50%",overflow:"hidden","&:hover .MuiBox-root":{opacity:1},cursor:"pointer",border:"2px dashed ".concat(o.palette.primary.light),padding:.5},children:[(0,F.jsx)(O.Z,{alt:"Profile Photo",src:m,sx:{width:128,height:128,transition:"all 0.3s ease","&:hover":{transform:"scale(1.05)"}}}),(0,F.jsx)(_.Z,{sx:{position:"absolute",top:0,left:0,backgroundColor:o.palette.mode===G.hY.DARK?"rgba(0, 0, 0, 0.7)":"rgba(255, 255, 255, 0.7)",width:"100%",height:"100%",opacity:0,display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 0.3s ease"},children:(0,F.jsxs)(j.Z,{spacing:.5,alignItems:"center",children:[(0,F.jsx)(ce,{style:{color:o.palette.primary.secondary,fontSize:"2rem",strokeWidth:1.5}}),(0,F.jsx)(S.Z,{variant:"body2",sx:{color:o.palette.primary.secondary,fontWeight:600},children:"Update Profile Photo"})]})})]}),(0,F.jsx)(L.Z,{type:"file",id:"change-avatar",variant:"outlined",sx:{display:"none"},onChange:function(e){if(e.target.files&&e.target.files.length>0){ee(!1);var t=new FileReader;t.addEventListener("load",(function(){b(t.result),y(!0)})),t.readAsDataURL(e.target.files[0])}},accept:"image/*"}),(0,F.jsxs)(j.Z,{spacing:1,alignItems:"center",children:[(0,F.jsx)(S.Z,{variant:"h5",sx:{fontWeight:600},children:(0,se.Z)(d.first_name||d.full_name)}),(0,F.jsx)(S.Z,{variant:"subtitle1",sx:{color:"text.secondary",bgcolor:o.palette.mode===G.hY.DARK?"rgba(255, 255, 255, 0.1)":"rgba(0, 0, 0, 0.05)",px:2,py:.5,borderRadius:4},children:"tutor"===oe?"Tutor":"Student"}),(0,F.jsx)(S.Z,{variant:"h5",sx:{fontWeight:600},children:d.registration_id||d.employee_id})]})]})})}),(0,F.jsx)(a.ZP,{item:!0,sm:3,sx:{display:{sm:"block",md:"none"}}}),(0,F.jsx)(a.ZP,{item:!0,xs:12,children:(0,F.jsx)(U,{})})]}),(0,F.jsxs)(P.Z,{open:x,onClose:function(){return y(!1)},maxWidth:"md",fullWidth:!0,children:[(0,F.jsxs)(I.Z,{children:[(0,F.jsx)(S.Z,{variant:"h6",gutterBottom:!0,children:"Crop your profile picture"}),(0,F.jsxs)(_.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"400px"},children:[k&&(0,F.jsx)(E,{crop:W,onChange:function(e){return K(e)},onComplete:function(e){return T(e)},aspect:1,circularCrop:!0,style:{maxWidth:"100%"},children:(0,F.jsx)("img",{ref:te,src:k,style:{maxWidth:"100%",maxHeight:"70vh"},onLoad:function(){return ee(!0)},onError:function(){return ee(!1)},alt:"".concat(d.first_name||"User"," profile")})}),!$&&(0,F.jsx)(S.Z,{children:"Loading image..."})]})]}),(0,F.jsxs)(B.Z,{children:[(0,F.jsx)(H.Z,{onClick:function(){return y(!1)},color:"secondary",children:"Cancel"}),(0,F.jsx)(H.Z,{onClick:pe,color:"primary",variant:"contained",disabled:!$||!z,children:"Save"})]})]})]})},ue=function(){var e=(0,r.useRef)(null);return(0,F.jsxs)(a.ZP,{container:!0,spacing:3,children:[(0,F.jsx)(a.ZP,{item:!0,xs:12,md:3,children:(0,F.jsx)(de,{focusInput:function(){var t;null===(t=e.current)||void 0===t||t.focus()}})}),(0,F.jsx)(a.ZP,{item:!0,xs:12,md:9,children:(0,F.jsx)(o.j3,{context:e})})]})}},97123:function(e,t,n){n.d(t,{Z:function(){return w}});var r=n(63366),a=n(87462),o=n(72791),i=n(59278),c=n(94419),s=n(66934),l=n(31402),h=n(75878),d=n(21217);function u(e){return(0,d.ZP)("MuiDialogActions",e)}(0,h.Z)("MuiDialogActions",["root","spacing"]);var p=n(80184),g=["className","disableSpacing"],m=(0,s.ZP)("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,!n.disableSpacing&&t.spacing]}})((function(e){var t=e.ownerState;return(0,a.Z)({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})})),w=o.forwardRef((function(e,t){var n=(0,l.Z)({props:e,name:"MuiDialogActions"}),o=n.className,s=n.disableSpacing,h=void 0!==s&&s,d=(0,r.Z)(n,g),w=(0,a.Z)({},n,{disableSpacing:h}),f=function(e){var t=e.classes,n={root:["root",!e.disableSpacing&&"spacing"]};return(0,c.Z)(n,u,t)}(w);return(0,p.jsx)(m,(0,a.Z)({className:(0,i.Z)(f.root,o),ownerState:w,ref:t},d))}))},63108:function(e,t,n){n.d(t,{Z:function(){return g}});var r=n(97573),a=n(72791),o=n(52007),i=n.n(o),c=["variant","color","size"],s=function(e){var t=e.color;return a.createElement(a.Fragment,null,a.createElement("path",{d:"M11.969 2c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.47-10-10-10Zm.03 14.23c-2.34 0-4.23-1.89-4.23-4.23 0-2.34 1.89-4.23 4.23-4.23 2.34 0 4.23 1.89 4.23 4.23 0 2.34-1.89 4.23-4.23 4.23Z",fill:t}))},l=function(e){var t=e.color;return a.createElement(a.Fragment,null,a.createElement("path",{d:"M16.23 12c0-2.34-1.89-4.23-4.23-4.23-2.34 0-4.23 1.89-4.23 4.23 0 2.34 1.89 4.23 4.23 4.23.57 0 1.11-.11 1.6-.31",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M4 6c-1.25 1.67-2 3.75-2 6 0 5.52 4.48 10 10 10s10-4.48 10-10S17.52 2 12 2c-1.43 0-2.8.3-4.03.85",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},h=function(e){var t=e.color;return a.createElement(a.Fragment,null,a.createElement("path",{opacity:".4",d:"M11.969 22c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10Z",fill:t}),a.createElement("path",{d:"M12 16.23a4.23 4.23 0 1 0 0-8.46 4.23 4.23 0 0 0 0 8.46Z",fill:t}))},d=function(e){var t=e.color;return a.createElement(a.Fragment,null,a.createElement("path",{d:"M11.97 22c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"M12 16.23a4.23 4.23 0 1 0 0-8.46 4.23 4.23 0 0 0 0 8.46Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))},u=function(e){var t=e.color;return a.createElement(a.Fragment,null,a.createElement("path",{d:"M11.969 22.75c-5.92 0-10.75-4.82-10.75-10.75s4.83-10.75 10.75-10.75S22.719 6.07 22.719 12s-4.82 10.75-10.75 10.75Zm0-20c-5.1 0-9.25 4.15-9.25 9.25s4.15 9.25 9.25 9.25 9.25-4.15 9.25-9.25-4.15-9.25-9.25-9.25Z",fill:t}),a.createElement("path",{d:"M12 16.98a4.98 4.98 0 1 1 0-9.961 4.98 4.98 0 0 1 0 9.96Zm0-8.46c-1.92 0-3.48 1.56-3.48 3.48s1.56 3.48 3.48 3.48 3.48-1.56 3.48-3.48S13.92 8.52 12 8.52Z",fill:t}))},p=function(e){var t=e.color;return a.createElement(a.Fragment,null,a.createElement("path",{d:"M11.969 22c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{opacity:".4",d:"M12 16.23a4.23 4.23 0 1 0 0-8.46 4.23 4.23 0 0 0 0 8.46Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))},g=(0,a.forwardRef)((function(e,t){var n=e.variant,o=e.color,i=e.size,g=(0,r._)(e,c);return a.createElement("svg",(0,r.a)({},g,{xmlns:"http://www.w3.org/2000/svg",ref:t,width:i,height:i,viewBox:"0 0 24 24",fill:"none"}),function(e,t){switch(e){case"Bold":return a.createElement(s,{color:t});case"Broken":return a.createElement(l,{color:t});case"Bulk":return a.createElement(h,{color:t});case"Linear":default:return a.createElement(d,{color:t});case"Outline":return a.createElement(u,{color:t});case"TwoTone":return a.createElement(p,{color:t})}}(n,o))}));g.propTypes={variant:i().oneOf(["Linear","Bold","Broken","Bulk","Outline","TwoTone"]),color:i().string,size:i().oneOfType([i().string,i().number])},g.defaultProps={variant:"Linear",color:"currentColor",size:"24"},g.displayName="RecordCircle"}}]);
//# sourceMappingURL=6120.1afe4219.chunk.js.map