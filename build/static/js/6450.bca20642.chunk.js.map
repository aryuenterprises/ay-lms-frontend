{"version":3,"file":"static/js/6450.bca20642.chunk.js","mappings":"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","sources":["hooks/usePermission.js","pages/usermanagement/batchlist.js","utils/dateUtils.js","utils/formatDate.js"],"sourcesContent":["// hooks/usePermission.js\nimport { useCallback } from 'react';\n\nexport const usePermission = () => {\n  const checkPermission = useCallback((module, action) => {\n    try {\n      const data = JSON.parse(localStorage.getItem('auth') || '[]');\n      const userType = data?.loginType;\n      const permissions = data?.user?.permissions || [];\n\n      if (userType === 'super_admin') return true;\n\n      if (userType === 'admin') {\n        return permissions.some((permission) => permission.module_name === module && permission.allowed_actions.includes(action));\n      }\n\n      return false;\n    } catch (error) {\n      console.error('Error checking permission:', error);\n      return false;\n    }\n  }, []);\n\n  return { checkPermission };\n};\n","import React, { useState, useEffect, useMemo, useCallback } from 'react';\nimport {\n  Card,\n  CardContent,\n  Typography,\n  Chip,\n  // Avatar,\n  Stack,\n  Divider,\n  IconButton,\n  Tooltip,\n  Box,\n  Grid,\n  Container,\n  CircularProgress,\n  Button,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  TextField,\n  // Autocomplete,\n  FormControl,\n  // InputLabel,\n  // Select,\n  // MenuItem,\n  FormHelperText,\n  Switch,\n  Autocomplete,\n  FormLabel,\n  InputAdornment,\n  Select,\n  MenuItem,\n  CardActions,\n  Paper\n  // useTheme\n  // FormControlLabel\n} from '@mui/material';\nimport { ArrowBack } from '@mui/icons-material';\nimport { Add, Edit, People, Calendar, Building, CloseSquare, Trash, SearchNormal1, Eye, User } from 'iconsax-react';\nimport { useFormik } from 'formik';\nimport * as Yup from 'yup';\nimport { APP_PATH_BASE_URL } from 'config';\n\nimport { useNavigate } from 'react-router';\nimport Swal from 'sweetalert2';\n// import { formatDateforInput } from 'utils/formatDateForInput';\nimport { formatDate } from 'utils/formatDate';\nimport { DatePicker, LocalizationProvider } from '@mui/x-date-pickers';\nimport { AdapterDateFns } from '@mui/x-date-pickers/AdapterDateFns';\nimport axiosInstance from 'utils/axios';\nimport { formatDateTime } from 'utils/dateUtils';\nimport MainCard from 'components/MainCard';\nimport useDate from '../../config';\nimport { usePermission } from 'hooks/usePermission';\nimport { Capitalise } from 'utils/capitalise';\nimport { useLocation } from 'react-router';\n\nconst BatchManagement = () => {\n  // const theme = useTheme();\n  const { checkPermission } = usePermission();\n\n  const navigate=useNavigate();\n\n  const location = useLocation();\n  const { N_UserId, N_UserType } = location.state || {};\n\n  const canCreate = checkPermission('Batch', 'create');\n  const canUpdate = checkPermission('Batch', 'update');\n  const canDelete = checkPermission('Batch', 'delete');\n\n  const auth = JSON.parse(localStorage.getItem('auth'));\n  // const userId = auth?.user?.employee_id || auth?.user?.user_id;\n  const trainer_id = auth.user.trainer_id || auth.user.student_id;\n  const userType = auth?.loginType;\n\n  const [batches, setBatches] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [viewDialogOpen, setViewDialogOpen] = useState(false);\n  const [editDialogOpen, setEditDialogOpen] = useState(false);\n  const [currentBatch, setCurrentBatch] = useState(null);\n  const [courses, setCourses] = useState([]);\n  const [trainers, setTrainers] = useState([]);\n  const [students, setStudents] = useState([]);\n  const [category, setCategory] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [selectedCourse, setSelectedCourse] = useState('');\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const [selectedStudent, setSelectedStudent] = useState('');\n  const [selectedTrainer, setSelectedTrainer] = useState('');\n  const [selectedBatch, setSelectedBatch] = useState(null);\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [viewSchedulesDialogOpen, setViewSchedulesDialogOpen] = useState(false);\n\n  const fetchAllData = useCallback(async () => {\n    try {\n      setLoading(true);\n      let batchesRes = null;\n      // Fetch all data in parallel\n      if (userType === 'admin' || userType === 'super_admin') {\n        [batchesRes] = await Promise.all([axiosInstance.get(`api/batches`)]);\n      } else if (userType === 'tutor') {\n        [batchesRes] = await Promise.all([axiosInstance.get(`api/batches/trainer/${trainer_id}`)]);\n      } else {\n        [batchesRes] = await Promise.all([axiosInstance.get(`api/batches/student/${trainer_id}`)]);\n      }\n      setBatches(batchesRes.data.batches || []);\n      setCategory(batchesRes.data.active_category || batchesRes.data.categories || []);\n      setCourses(batchesRes.data.active_course || batchesRes.data.active_courses || []);\n      setTrainers(batchesRes.data.active_trainer || []);\n      setStudents(batchesRes.data.active_student || []);\n    } catch (err) {\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  }, [userType, trainer_id]);\n\n  useEffect(() => {\n    fetchAllData();\n  }, [fetchAllData]);\n\n  // Handler functions to maintain consistency\n  const handleCategorySelect = (category) => {\n    setSelectedCategory(category);\n    setSelectedCourse(null);\n    setSelectedBatch(null);\n  };\n\n  const handleCourseSelect = (course) => {\n    setSelectedCourse(course);\n    setSelectedBatch(null);\n  };\n\n  const handleBatchSelect = (batch) => {\n    setSelectedBatch(batch);\n  };\n\n  const handleStudentSelect = (student) => {\n    setSelectedStudent(student);\n    setSelectedBatch(null);\n  };\n\n  const handleTrainerSelect = (trainer) => {\n    setSelectedBatch(null);\n    setSelectedTrainer(trainer);\n  };\n\n  // Simplified unified filtering logic\n  const { filteredCategories, filteredCourses, filteredBatches, filteredStudents, filteredTrainers } = useMemo(() => {\n    // Filter batches based on all criteria\n    const filteredBatches = batches.filter((batch) => {\n      // Search filter\n      if (searchTerm) {\n        const searchTermLower = searchTerm.toLowerCase();\n        const matchesSearch =\n          batch.title?.toLowerCase().includes(searchTermLower) ||\n          batch.trainer_name?.toLowerCase().includes(searchTermLower) ||\n          batch.course_name?.toLowerCase().includes(searchTermLower) ||\n          batch.batch_name?.toLowerCase().includes(searchTermLower) ||\n          batch.batch_id?.toString().includes(searchTerm) ||\n          batch.students?.some((student) => student?.full_name?.toLowerCase().includes(searchTermLower));\n\n        if (!matchesSearch) return false;\n      }\n\n      if (N_UserId && N_UserType) {\n        if (N_UserType === 'tutor') {\n          if (batch.trainer_id !== N_UserId) return false;\n        } else if (N_UserType === 'student') {\n          const isStudentInBatch = batch.students?.some((student) => student.student_id === N_UserId);\n          if (!isStudentInBatch) return false;\n        }\n      }\n\n      // Status filter\n      if (statusFilter !== 'all') {\n        const matchesStatus = statusFilter === 'active' ? batch.status : !batch.status;\n        if (!matchesStatus) return false;\n      }\n\n      // Selection filters - CORRECTED ID COMPARISONS\n      if (selectedBatch?.id) {\n        // Compare batch IDs directly\n        if (batch.id !== selectedBatch.id) return false;\n      } else if (selectedCourse?.course_id) {\n        // Compare course IDs - ensure same data type (both numbers or both strings)\n        const hasCourse = batch.course === selectedCourse.course_id;\n        if (!hasCourse) return false;\n      } else if (selectedCategory?.category_id) {\n        // Compare category IDs - ensure same data type\n        const hasCategory = batch.category === selectedCategory.category_id;\n        if (!hasCategory) return false;\n      }\n\n      // Student filter - filter batches that contain the selected student\n      if (selectedStudent?.student_id) {\n        const hasStudent = batch.students?.some((student) => student.student_id === selectedStudent.student_id);\n        if (!hasStudent) return false;\n      }\n\n      // Trainer filter - filter batches assigned to the selected trainer\n      if (selectedTrainer?.trainer_id) {\n        if (batch.trainer_id !== selectedTrainer.trainer_id) return false;\n      }\n\n      return true;\n    });\n\n    // Filter categories and courses based on selections only - CORRECTED\n    let filteredCategories = category;\n    let filteredCourses = courses;\n    let filteredStudents = students;\n    let filteredTrainers = trainers;\n\n    if (selectedBatch?.id) {\n      const selectedBatchData = batches.find((b) => b.id === selectedBatch.id);\n\n      if (selectedBatchData) {\n        // Use the batch's category and course IDs to filter\n        filteredCategories = category.filter((cat) => cat.category_id === selectedBatchData.category);\n        filteredCourses = courses.filter((course) => course.course_id === selectedBatchData.course);\n        // Filter students and trainers for this specific batch\n        filteredStudents = students.filter((student) =>\n          selectedBatchData.students?.some((batchStudent) => batchStudent.student_id === student.student_id)\n        );\n        filteredTrainers = trainers.filter((trainer) => trainer.trainer_id === selectedBatchData.trainer_id);\n      }\n    } else if (selectedCourse?.course_id) {\n      const selectedCourseData = courses.find((c) => c.course_id === selectedCourse.course_id);\n\n      if (selectedCourseData) {\n        filteredCategories = category.filter((cat) => cat.category_id === (selectedCourseData.category_id || selectedCourseData.category));\n        // Show only the selected course\n        filteredCourses = courses.filter((course) => course.course_id === selectedCourse.course_id);\n\n        filteredStudents = students.filter((student) =>\n          filteredBatches.some(\n            (batch) =>\n              batch.course === selectedCourse.course_id &&\n              batch.students?.some((batchStudent) => batchStudent.student_id === student.student_id)\n          )\n        );\n\n        filteredTrainers = trainers.filter((trainer) =>\n          filteredBatches.some((batch) => batch.course === selectedCourse.course_id && batch.trainer_id === trainer.trainer_id)\n        );\n      }\n    } else if (selectedCategory?.category_id) {\n      filteredCategories = category.filter((cat) => cat.category_id === selectedCategory.category_id);\n      filteredCourses = courses.filter((course) => (course.category_id || course.course_category_id) === selectedCategory.category_id);\n\n      // Filter students and trainers for batches in this category\n      filteredStudents = students.filter((student) =>\n        filteredBatches.some(\n          (batch) =>\n            batch.category === selectedCategory.category_id &&\n            batch.students?.some((batchStudent) => batchStudent.student_id === student.student_id)\n        )\n      );\n\n      filteredTrainers = trainers.filter((trainer) =>\n        filteredBatches.some((batch) => batch.category === selectedCategory.category_id && batch.trainer_id === trainer.trainer_id)\n      );\n    } else if (selectedStudent?.student_id) {\n      // Filter based on selected student\n      const studentBatches = filteredBatches.filter((batch) =>\n        batch.students?.some((student) => student.student_id === selectedStudent.student_id)\n      );\n\n      // Get unique categories and courses from student's batches\n      const studentCategories = [...new Set(studentBatches.map((batch) => batch.category))];\n      const studentCourses = [...new Set(studentBatches.map((batch) => batch.course))];\n\n      filteredCategories = category.filter((cat) => studentCategories.includes(cat.category_id));\n      filteredCourses = courses.filter((course) => studentCourses.includes(course.course_id));\n      filteredTrainers = trainers.filter((trainer) => studentBatches.some((batch) => batch.trainer_id === trainer.trainer_id));\n    } else if (selectedTrainer?.trainer_id) {\n      // Filter based on selected trainer\n      const trainerBatches = filteredBatches.filter((batch) => batch.trainer_id === selectedTrainer.trainer_id);\n\n      // Get unique categories and courses from trainer's batches\n      const trainerCategories = [...new Set(trainerBatches.map((batch) => batch.category))];\n      const trainerCourses = [...new Set(trainerBatches.map((batch) => batch.course))];\n\n      filteredCategories = category.filter((cat) => trainerCategories.includes(cat.category_id));\n      filteredCourses = courses.filter((course) => trainerCourses.includes(course.course_id));\n      filteredStudents = students.filter((student) =>\n        trainerBatches.some((batch) => batch.students?.some((batchStudent) => batchStudent.student_id === student.student_id))\n      );\n    }\n\n    return {\n      filteredCategories,\n      filteredCourses,\n      filteredBatches,\n      filteredStudents,\n      filteredTrainers\n    };\n  }, [\n    category,\n    courses,\n    batches,\n    students,\n    trainers,\n    selectedCategory,\n    selectedCourse,\n    selectedStudent,\n    selectedTrainer,\n    selectedBatch,\n    searchTerm,\n    statusFilter,\n    N_UserId,\n    N_UserType\n  ]);\n\n  // Form validation schema\n  const validationSchema = Yup.object().shape({\n    title: Yup.string()\n      .required('Batch title is required')\n      .test('non-empty', 'Batch title cannot be empty', (value) => {\n        return value && value.trim().length > 0;\n      }),\n    slots: Yup.number().required('Number of slots is required').min(1, 'Slots must be at least 1').integer('Slots must be a whole number'),\n    start_date: Yup.string().required('Start date is required'),\n    end_date: Yup.string()\n      .required('End date is required')\n      .test('end-date-after-start', 'End date must be after start date', function (value) {\n        const { start_date } = this.parent;\n        if (!start_date || !value) return true;\n        return new Date(value) >= new Date(start_date);\n      }),\n    start_time: Yup.string().required('Start time is required'),\n    end_time: Yup.string()\n      .required('End time is required')\n      .test('end-time-after-start', 'End time must be after start time', function (value) {\n        const { start_time, start_date, end_date } = this.parent;\n\n        if (!start_time || !value) return true;\n\n        // If same date, check times\n        if (start_date === end_date) {\n          return value > start_time;\n        }\n\n        return true;\n      }),\n    course_id: Yup.number().required('Course is required'),\n    trainer: Yup.string().required('Trainer is required'),\n    students: Yup.array()\n      .of(Yup.number())\n      .test('students-within-slots', 'Number of students cannot exceed available slots', function (value) {\n        const { slots } = this.parent;\n        if (!value || !slots) return true;\n        return value.length <= slots;\n      })\n  });\n\n  const formik = useFormik({\n    initialValues: {\n      title: '',\n      slots: '',\n      start_date: '',\n      end_date: '',\n      start_time: '',\n      end_time: '',\n      course_id: '',\n      trainer: '',\n      students: []\n    },\n    validationSchema,\n    enableReinitialize: true,\n    onSubmit: async (values) => {\n      try {\n        setLoading(true);\n\n        const startTimeWithSeconds = values.start_time ? `${values.start_time}:00` : '';\n        const endTimeWithSeconds = values.end_time ? `${values.end_time}:00` : '';\n\n        // Prepare the data in the required format\n\n        if (currentBatch) {\n          // Update existing batch\n          const res = await axiosInstance.patch(`${APP_PATH_BASE_URL}api/batches/${currentBatch.id}`, {\n            title: values.title,\n            slots: values.slots,\n            start_date: formatDate(values.start_date),\n            end_date: formatDate(values.end_date),\n            start_time: startTimeWithSeconds,\n            end_time: endTimeWithSeconds,\n            course: values.course_id,\n            trainer: values.trainer,\n            students: values.students\n          });\n          if (res.data.success === false) {\n            await Swal.fire({\n              title: 'Error!',\n              text: res.data.message,\n              icon: 'error',\n              showConfirmButton: true,\n              confirmButtonText: 'OK'\n            });\n          } else {\n            // Show success message for update\n            await Swal.fire({\n              title: 'Success!',\n              text: res.data.message,\n              icon: 'success',\n              showConfirmButton: true,\n              confirmButtonText: 'OK'\n            });\n          }\n        } else {\n          // Add new batch\n          const res = await axiosInstance.post(`${APP_PATH_BASE_URL}api/batches`, {\n            title: values.title,\n            slots: values.slots,\n            start_date: formatDate(values.start_date),\n            end_date: formatDate(values.end_date),\n            start_time: startTimeWithSeconds,\n            end_time: endTimeWithSeconds,\n            course: values.course_id,\n            trainer: values.trainer,\n            students: values.students\n          });\n          if (res.data.success === true) {\n            // Show success message for create\n            await Swal.fire({\n              title: 'Success!',\n              text: res.data.message,\n              icon: 'success',\n              showConfirmButton: true,\n              confirmButtonText: 'OK'\n            });\n          } else {\n            await Swal.fire({\n              title: 'Error!',\n              text: res.data.message,\n              icon: 'error',\n              showConfirmButton: true,\n              confirmButtonText: 'OK'\n            });\n          }\n        }\n        fetchAllData();\n        handleCloseDialog();\n      } catch (err) {\n        console.error('Error saving batch:', err);\n\n        // Show error message\n        await Swal.fire({\n          title: 'Error!',\n          text: err.response?.data?.message || err.message || 'Failed to save batch',\n          icon: 'error'\n        });\n\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    }\n  });\n\n  const handleView = (batch) => {\n    setCurrentBatch(batch);\n    setViewDialogOpen(true);\n  };\n\n  const handleViewSchedules = (batch) => {\n    setCurrentBatch(batch);\n    setViewSchedulesDialogOpen(true);\n  };\n\n  // console.log(\"batches\",batches)\n\n  const handleStatusChange = async (batch, status) => {\n    try {\n      const newStatus = status; // Toggle status (true -> false, false -> true)\n      const actionText = newStatus ? 'activate' : 'deactivate';\n\n      const result = await Swal.fire({\n        title: `${newStatus ? 'Activate' : 'Deactivate'} Batch`,\n        text: `Are you sure you want to ${actionText} this batch?`,\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'No'\n      });\n\n      // If user cancels, return early\n      if (!result.isConfirmed) return;\n\n      setLoading(true);\n      const res = await axiosInstance.patch(`${APP_PATH_BASE_URL}api/batches/${batch.id}`, {\n        status\n      });\n      if (res.data.success === false) {\n        await Swal.fire({\n          title: 'Error!',\n          text: res.data.message,\n          icon: 'error',\n          showConfirmButton: true,\n          confirmButtonText: 'OK'\n        });\n        return;\n      }\n\n      // console.log(\"res\",res)\n\n      // console.log(batch)\n      // console.log(batch.batch_id)\n      // console.log(batches)\n      // // Update state\n      // console.log(newStatus,\"status now\",batch.batch_id)\n\n      // console.log(res.data.data.batch_id)\n      setBatches(batches.map((b) => (b.id === res.data.data.batch_id ? { ...b, status: newStatus } : b)));\n\n      let a=batches.map((b) => (b.id === res.data.data.batch_id ? { ...b, status: newStatus } : b))\n      \n      console.log(\"a\",a)\n\n\n      Swal.fire({\n        title: 'Success',\n        text: `Batch has been ${actionText}d successfully!`,\n        icon: 'success',\n        showConfirmButton: true\n      });\n    } catch (err) {\n      console.error('Error changing status:', err);\n      setError(err.message);\n      Swal.fire('Error', 'Failed to change status. Please try again.', 'error');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleEdit = (batch) => {\n    setCurrentBatch(batch);\n    formik.setValues({\n      title: batch.title,\n      slots: batch.slots,\n      start_time: batch.start_time,\n      end_time: batch.end_time,\n      start_date: batch.start_date,\n      end_date: batch.end_date,\n      course_id: batch.course,\n      trainer: batch.trainer_id,\n      students: batch.students.map((student) => student.student_id)\n    });\n    setEditDialogOpen(true);\n  };\n\n  const handleAdd = () => {\n    setCurrentBatch(null);\n    formik.resetForm();\n    setEditDialogOpen(true);\n  };\n\n  const handleDelete = async (batch) => {\n    try {\n      const result = await Swal.fire({\n        title: 'Delete Batch',\n        text: 'Are you sure you want to delete this batch?',\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonText: 'Yes',\n        cancelButtonText: 'No'\n      });\n\n      // If user cancels, return early\n      if (!result.isConfirmed) return;\n\n      setLoading(true);\n      const res = await axiosInstance.patch(`${APP_PATH_BASE_URL}api/batches/${batch.id}/archive`);\n\n      if (res.data.success === false) {\n        await Swal.fire({\n          title: 'Error!',\n          text: res.data.message,\n          icon: 'error',\n          showConfirmButton: true,\n          confirmButtonText: 'OK'\n        });\n        return;\n      }\n      // Update state\n      setBatches(batches.filter((b) => b.id !== batch.id));\n\n      // Show success message\n      await Swal.fire({\n        title: 'Deleted!',\n        text: 'The batch has been deleted successfully.',\n        icon: 'success'\n      });\n    } catch (err) {\n      console.error('Error deleting batch:', err);\n\n      // Show error message\n      await Swal.fire({\n        title: 'Error!',\n        text: err.message || 'Failed to delete batch',\n        icon: 'error'\n      });\n\n      setError(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCloseDialog = () => {\n    setViewDialogOpen(false);\n    setEditDialogOpen(false);\n    setViewSchedulesDialogOpen(false);\n    setCurrentBatch(null);\n    formik.resetForm();\n  };\n\n  const handleClearSearch = () => {\n    setSearchTerm('');\n  };\n\n  const handleStatusClear = () => {\n    setStatusFilter('all');\n  };\n\n  if (loading) {\n    return (\n      <Container sx={{ display: 'flex', justifyContent: 'center', alignItems: 'center', height: '80vh' }}>\n        <CircularProgress />\n      </Container>\n    );\n  }\n\n  if (error) {\n    return (\n      <Container sx={{ py: 4 }}>\n        <Typography color=\"error\">Error: {error}</Typography>\n        <Button onClick={() => window.location.reload()}>Retry</Button>\n      </Container>\n    );\n  }\n\n\n\n  console.log(\"filteredBatches\",filteredBatches)\n  return (\n    <MainCard sx={{ py: 4 }}>\n\n       <Stack sx={{ mb: { xs: -0.5, sm: 0.5 } }} spacing={1}  direction=\"row\"\n  justifyContent=\"flex-end\">\n            <IconButton variant=\"contained\" color=\"white\" size=\"medium\" onClick={() => navigate(-1)} sx={{ width: 100, gap: 1,backgroundColor:\"red\",ml:{xs:2,sm:5} ,color:\"white\"}}>\n              <ArrowBack />\n              Back\n            </IconButton>\n          </Stack>\n      <Grid container justifyContent=\"space-between\" alignItems=\"center\" my={3} spacing={2}>\n \n\n        <Grid item xs={12}>\n          <Stack direction={{ xs: 'column', sm: 'row' }} alignItems={{ xs: 'stretch', sm: 'center' }} spacing={2} width=\"100%\">\n            {/* Filters Container - Wraps to next row */}\n            <Box\n              sx={{\n                display: 'flex',\n                flexDirection: 'row',\n                flexWrap: 'wrap',\n                gap: 2,\n                width: { xs: '100%', sm: 'auto' },\n                '& > *': {\n                  minWidth: { xs: 'calc(50% - 8px)', sm: 200 },\n                  flexGrow: 1\n                }\n              }}\n            >\n              {/* Search Field */}\n              <TextField\n                size=\"small\"\n                variant=\"outlined\"\n                placeholder=\"Search...\"\n                value={searchTerm}\n                onChange={(e) => setSearchTerm(e.target.value)}\n                InputProps={{\n                  startAdornment: (\n                    <InputAdornment position=\"start\">\n                      <SearchNormal1 size={20} />\n                    </InputAdornment>\n                  ),\n                  endAdornment: (\n                    <InputAdornment position=\"end\">\n                      {searchTerm && (\n                        <IconButton onClick={handleClearSearch} edge=\"end\" size=\"small\">\n                          <CloseSquare size={20} />\n                        </IconButton>\n                      )}\n                    </InputAdornment>\n                  )\n                }}\n                sx={{\n                  minWidth: { xs: '100%', sm: 250 },\n                  flexGrow: 1\n                }}\n              />\n              {(userType === 'admin' || userType === 'super_admin') && (\n                <>\n                  {/* Trainer Filter */}\n                  <Autocomplete\n                    id=\"trainer_id\"\n                    options={filteredTrainers || []}\n                    getOptionLabel={(option) => option.full_name || ''}\n                    value={selectedTrainer}\n                    onChange={(event, newValue) => {\n                      handleTrainerSelect(newValue);\n                    }}\n                    size=\"small\"\n                    sx={{\n                      minWidth: { xs: '100%', sm: 180, md: 200 },\n                      flex: '1 1 auto'\n                    }}\n                    className=\"filter-item\"\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        placeholder=\"Filter by tutor...\"\n                        InputProps={{\n                          ...params.InputProps\n                        }}\n                      />\n                    )}\n                    filterOptions={(options = [], state) => {\n                      return options.filter((option) => option.full_name?.toLowerCase().includes(state.inputValue.toLowerCase()));\n                    }}\n                    isOptionEqualToValue={(option, value) => option.trainer_id === value.trainer_id}\n                    renderOption={(props, option) => (\n                      <li {...props} key={option.trainer_id}>\n                        {option.full_name}\n                      </li>\n                    )}\n                  />\n\n                  {/* Students Filter */}\n                  <Autocomplete\n                    id=\"students_id\"\n                    options={filteredStudents || []}\n                    getOptionLabel={(option) => option.full_name || ''}\n                    value={selectedStudent}\n                    onChange={(event, newValue) => {\n                      handleStudentSelect(newValue);\n                    }}\n                    size=\"small\"\n                    sx={{\n                      minWidth: { xs: '100%', sm: 180, md: 200 },\n                      flex: '1 1 auto'\n                    }}\n                    className=\"filter-item\"\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        placeholder=\"Filter by student...\"\n                        InputProps={{\n                          ...params.InputProps\n                        }}\n                      />\n                    )}\n                    filterOptions={(options = [], state) => {\n                      return options.filter((option) => option.full_name?.toLowerCase().includes(state.inputValue.toLowerCase()));\n                    }}\n                    isOptionEqualToValue={(option, value) => option.student_id === value.student_id}\n                    renderOption={(props, option) => (\n                      <li {...props} key={option.student_id}>\n                        {option.full_name}\n                      </li>\n                    )}\n                  />\n\n                  {/* Category Filter */}\n                  <Autocomplete\n                    id=\"category_id\"\n                    options={filteredCategories || []}\n                    getOptionLabel={(option) => option.category_name || ''}\n                    value={selectedCategory}\n                    onChange={(event, newValue) => {\n                      handleCategorySelect(newValue);\n                    }}\n                    size=\"small\"\n                    sx={{\n                      minWidth: { xs: '100%', sm: 180, md: 200 },\n                      flex: '1 1 auto'\n                    }}\n                    className=\"filter-item\"\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        placeholder=\"Filter by category...\"\n                        InputProps={{\n                          ...params.InputProps\n                        }}\n                      />\n                    )}\n                    filterOptions={(options = [], state) => {\n                      return options.filter((option) => option.category_name?.toLowerCase().includes(state.inputValue.toLowerCase()));\n                    }}\n                    isOptionEqualToValue={(option, value) => option.category_id === value.category_id}\n                    renderOption={(props, option) => (\n                      <li {...props} key={option.category_id}>\n                        {option.category_name}\n                      </li>\n                    )}\n                  />\n\n                  {/* Course Filter */}\n                  <Autocomplete\n                    id=\"course_id\"\n                    options={filteredCourses || []}\n                    getOptionLabel={(option) => option.course_name || ''}\n                    value={selectedCourse}\n                    onChange={(event, newValue) => {\n                      handleCourseSelect(newValue);\n                    }}\n                    size=\"small\"\n                    sx={{\n                      minWidth: { xs: '100%', sm: 180, md: 200 },\n                      flex: '1 1 auto'\n                    }}\n                    className=\"filter-item\"\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        placeholder=\"Filter by course...\"\n                        InputProps={{\n                          ...params.InputProps\n                        }}\n                      />\n                    )}\n                    filterOptions={(options = [], state) => {\n                      return options.filter((option) => option.course_name?.toLowerCase().includes(state.inputValue.toLowerCase()));\n                    }}\n                    isOptionEqualToValue={(option, value) => option.course_id === value.course_id}\n                    renderOption={(props, option) => (\n                      <li {...props} key={option.course_id}>\n                        {option.course_name}\n                      </li>\n                    )}\n                  />\n\n                  {/* Batch Filter */}\n                  <Autocomplete\n                    id=\"batch_id\"\n                    options={filteredBatches || []}\n                    getOptionLabel={(option) => option.title || ''}\n                    value={selectedBatch}\n                    onChange={(event, newValue) => {\n                      handleBatchSelect(newValue);\n                    }}\n                    size=\"small\"\n                    sx={{\n                      minWidth: { xs: '100%', sm: 180, md: 200 },\n                      flex: '1 1 auto'\n                    }}\n                    className=\"filter-item\"\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        placeholder=\"Filter by batch...\"\n                        InputProps={{\n                          ...params.InputProps\n                        }}\n                      />\n                    )}\n                    filterOptions={(options = [], state) => {\n                      return options.filter((option) => option.title?.toLowerCase().includes(state.inputValue.toLowerCase()));\n                    }}\n                    isOptionEqualToValue={(option, value) => option.batch_id === value.batch_id}\n                    renderOption={(props, option) => (\n                      <li {...props} key={option.batch_id}>\n                        {option.title}\n                      </li>\n                    )}\n                  />\n                </>\n              )}\n              {/* Status Filter */}\n              {(userType === 'super_admin' || userType === 'admin') && (\n                <FormControl\n                  size=\"small\"\n                  sx={{\n                    minWidth: { xs: '100%', sm: 180 },\n                    flex: { xs: '1 1 100%', sm: '0 1 auto' },\n                    maxWidth: { sm: 250 }\n                  }}\n                >\n                  <Select\n                    value={statusFilter}\n                    onChange={(e) => setStatusFilter(e.target.value)}\n                    endAdornment={\n                      statusFilter !== 'all' && (\n                        <InputAdornment position=\"end\" sx={{ mr: 3 }}>\n                          <IconButton onClick={handleStatusClear} edge=\"end\" size=\"small\">\n                            <CloseSquare size={16} />\n                          </IconButton>\n                        </InputAdornment>\n                      )\n                    }\n                  >\n                    <MenuItem value=\"all\">Select Status</MenuItem>\n                    <MenuItem value=\"active\">Active</MenuItem>\n                    <MenuItem value=\"inActive\">In active</MenuItem>\n                  </Select>\n                </FormControl>\n              )}\n            </Box>\n          </Stack>\n        </Grid>\n\n        <Grid item xs={12}>\n          <Stack spacing={2} direction=\"row\" justifyContent=\"flex-end\">\n            {canCreate && (\n              <Button variant=\"contained\" startIcon={<Add />} onClick={handleAdd}>\n                Add New Batch\n              </Button>\n            )}\n          </Stack>\n        </Grid>\n      </Grid>\n\n      {filteredBatches.length === 0 ? (\n        <Typography variant=\"body1\" textAlign=\"center\" py={4}>\n          No batches found. Create a new batch to get started.\n        </Typography>\n      ) : (\n        <Grid container spacing={3}>\n          {filteredBatches.map((batch) => (\n            <Grid item xs={12} sm={6} md={4} key={batch?.id}>\n              <Card\n                sx={{\n                  cursor: 'pointer',\n                  height: '100%',\n                  display: 'flex',\n                  flexDirection: 'column',\n                  borderLeft: '4px solid',\n                  borderLeftColor: batch?.status ? 'success.main' : 'error.main',\n                  borderRadius: 2,\n                  boxShadow: '0 2px 8px rgba(0,0,0,0.1)',\n                  transition: 'transform 0.2s, box-shadow 0.2s',\n                  '&:hover': {\n                    transform: 'translateY(-2px)',\n                    boxShadow: '0 4px 12px rgba(0,0,0,0.15)'\n                  }\n                }}\n              >\n                <CardContent onClick={() => handleView(batch)} sx={{ flexGrow: 1, pb: 1 }}>\n                  <Stack direction=\"row\" justifyContent=\"space-between\">\n                    <Box>\n                      <Typography variant=\"h6\">{batch?.title || batch?.batch_name}</Typography>\n                    </Box>\n                    <Stack direction=\"row\">\n                      {canUpdate && (\n                        <Tooltip title=\"Status\">\n                          <IconButton\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleStatusChange(batch, !batch?.status); // pass the toggled value\n                            }}\n                            sx={{ mr: 1 }}\n                          >\n                            <Switch size=\"medium\" checked={batch?.status} color={batch?.status ? 'success' : 'error'} />\n                          </IconButton>\n                        </Tooltip>\n                      )}\n                      {canUpdate && (\n                        <Tooltip title=\"Edit\">\n                          <IconButton\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleEdit(batch);\n                            }}\n                          >\n                            <Edit size=\"20\" />\n                          </IconButton>\n                        </Tooltip>\n                      )}\n                      {canDelete && (\n                        <Tooltip title=\"Delete\">\n                          <IconButton\n                            onClick={(e) => {\n                              e.stopPropagation();\n                              handleDelete(batch);\n                            }}\n                          >\n                            <Trash size=\"20\" color=\"red\" />\n                          </IconButton>\n                        </Tooltip>\n                      )}\n                    </Stack>\n                  </Stack>\n\n                  <Divider sx={{ my: 2 }} />\n\n                  {/* Batch Information */}\n                  <Stack spacing={1.5}>\n                    {/* Date */}\n                    <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                        <Calendar size=\"16\" />\n                        <Typography variant=\"body2\" color=\"text.secondary\">\n                          Start Date\n                        </Typography>\n                      </Box>\n                      <Typography variant=\"body2\" fontWeight=\"500\">\n                        {formatDateTime(batch?.start_date, { includeTime: false })}\n                      </Typography>\n                    </Box>\n\n                    {/* Students Count */}\n                    <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                        <User size=\"16\" />\n                        <Typography variant=\"body2\" color=\"text.secondary\">\n                          Students\n                        </Typography>\n                      </Box>\n                      <Typography variant=\"body2\" fontWeight=\"500\">\n                        {batch?.students?.length || 0}\n                      </Typography>\n                    </Box>\n\n                    {/* Slots Information */}\n                    <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                        <People size=\"16\" />\n                        <Typography variant=\"body2\" color=\"text.secondary\">\n                          Available Slots\n                        </Typography>\n                      </Box>\n                      <Typography variant=\"body2\" fontWeight=\"500\">\n                        {batch?.available_slots || 0} \n                      </Typography>\n                    </Box>\n\n                    {/* Course Sessions */}\n                    <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n                      <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                        <Building size=\"16\" />\n                        <Typography variant=\"body2\" color=\"text.secondary\">\n                          Schedules\n                        </Typography>\n                      </Box>\n                      <Typography variant=\"body2\" fontWeight=\"500\">\n                        {batch?.schedules?.length || 0}\n                      </Typography>\n                    </Box>\n                  </Stack>\n                </CardContent>\n\n                {/* Card Actions */}\n                <CardActions sx={{ pt: 0, pb: 2, px: 2 }}>\n                  <Box\n                    sx={{\n                      display: 'flex',\n                      justifyContent: 'space-between',\n                      alignItems: 'center',\n                      width: '100%'\n                    }}\n                  >\n                    <Tooltip title=\"View Details\">\n                      <IconButton\n                        size=\"small\"\n                        onClick={() => handleView(batch)}\n                        sx={{\n                          border: 1,\n                          borderColor: 'divider',\n                          borderRadius: 1\n                        }}\n                      >\n                        <Eye size=\"18\" />\n                      </IconButton>\n                    </Tooltip>\n\n                    <Button\n                      size=\"small\"\n                      variant=\"outlined\"\n                      onClick={() => handleViewSchedules(batch)}\n                      sx={{\n                        minWidth: 'auto',\n                        px: 2\n                      }}\n                    >\n                      View Schedules\n                    </Button>\n                  </Box>\n                </CardActions>\n              </Card>\n            </Grid>\n          ))}\n        </Grid>\n      )}\n\n      {/* VIEW DIALOG - Read Only */}\n      <Dialog open={viewDialogOpen} onClose={handleCloseDialog} maxWidth=\"sm\" fullWidth>\n        <DialogTitle sx={{ p: 2 }}>\n          <Box sx={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>\n            <Typography variant=\"h6\" fontWeight=\"600\">\n              Batch Details\n            </Typography>\n            <IconButton onClick={handleCloseDialog}>\n              <CloseSquare />\n            </IconButton>\n          </Box>\n        </DialogTitle>\n        <DialogContent dividers sx={{ p: 2 }}>\n          {currentBatch && (\n            <Stack spacing={2}>\n              <Grid container spacing={2}>\n                {/* Main Details */}\n                <Grid item xs={12} md={6}>\n                  <Card variant=\"outlined\">\n                    <CardContent sx={{ p: 2 }}>\n                      <Typography variant=\"subtitle1\" fontWeight=\"600\" gutterBottom>\n                        Batch Information\n                      </Typography>\n                      <Stack spacing={2}>\n                        {/* Course */}\n                        <Box>\n                          <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\">\n                            Course\n                          </Typography>\n                          <Typography variant=\"body1\" fontWeight=\"500\">\n                            {currentBatch.course_name || 'Not assigned'}\n                          </Typography>\n                        </Box>\n\n                        {/* Trainer */}\n                        <Box>\n                          <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\">\n                            Tutor\n                          </Typography>\n                          <Typography variant=\"body1\" fontWeight=\"500\">\n                            {currentBatch.trainer_name || 'Not assigned'}\n                          </Typography>\n                        </Box>\n\n                        {/* Date Range */}\n                        <Box>\n                          <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\">\n                            Date Range\n                          </Typography>\n                          <Typography variant=\"body1\">\n                            {formatDateTime(currentBatch.start_date, { includeTime: false })} {' '}\n                            {formatDateTime(currentBatch.end_date, { includeTime: false })}\n                          </Typography>\n                        </Box>\n\n                        {/* Time Slot */}\n                        <Box>\n                          <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\">\n                            Time Slot\n                          </Typography>\n                          <Typography variant=\"body1\">\n                            {formatDateTime(currentBatch.start_time, { timeOnly: true })} -{' '}\n                            {formatDateTime(currentBatch.end_time, { timeOnly: true })}\n                          </Typography>\n                        </Box>\n\n                        {/* Timestamps */}\n                        <Box sx={{ pt: 1, borderTop: '1px solid', borderColor: 'divider' }}>\n                          <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\">\n                            Created\n                          </Typography>\n                          <Typography variant=\"body2\">\n                            {currentBatch.created_at ? formatDateTime(currentBatch.created_at, { includeTime: true }) : '-'}\n                          </Typography>\n                        </Box>\n                      </Stack>\n                    </CardContent>\n                  </Card>\n                </Grid>\n\n                {/* Weekly Schedule */}\n                <Grid item xs={12} md={6}>\n                  <Card variant=\"outlined\">\n                    <CardContent sx={{ p: 1.5 }}>\n                      <Typography variant=\"subtitle2\" fontWeight=\"600\" gutterBottom>\n                        Weekly Schedule\n                      </Typography>\n                      <Stack spacing={0.5}>\n                        {currentBatch.weekly_schedule?.length > 0 ? (\n                          currentBatch.weekly_schedule.map((schedule, idx) => {\n                            const day = schedule.split(' ')[0];\n                            const timePart = schedule.split(' ').slice(1).join(' ').split(',')[0].split('&')[0].trim();\n                            return (\n                              <Box key={idx} sx={{ display: 'flex', justifyContent: 'space-between', fontSize: '0.98rem' }}>\n                                <span>{day}</span>\n                                <span style={{ color: 'gray' }}>{timePart}</span>\n                              </Box>\n                            );\n                          })\n                        ) : (\n                          <Typography variant=\"body2\" color=\"text.secondary\">\n                            No schedule\n                          </Typography>\n                        )}\n                      </Stack>\n                    </CardContent>\n                  </Card>\n                </Grid>\n              </Grid>\n              {/* Students List at Bottom */}\n              <Paper variant=\"outlined\" sx={{ p: 1.5, maxHeight: 200, overflow: 'auto' }}>\n                <Typography variant=\"subtitle2\" fontWeight=\"600\" mb={1}>\n                  Students ({currentBatch.students?.length || 0})\n                </Typography>\n                <Grid container spacing={1}>\n                  {currentBatch.students?.length > 0 ? (\n                    currentBatch.students.map((student, idx) => (\n                      <Grid item xs={6} key={idx}>\n                        <Box\n                          sx={{\n                            p: 1,\n                            border: '1px solid #eee',\n                            borderRadius: 1,\n                            backgroundColor: '#fafafa'\n                          }}\n                        >\n                          <Typography variant=\"body2\" fontWeight=\"500\">\n                            {Capitalise(student.full_name) || 'Unknown Student'}\n                          </Typography>\n                          <Typography variant=\"caption\" color=\"text.secondary\">\n                            ID: {student.registration_id}\n                          </Typography>\n                        </Box>\n                      </Grid>\n                    ))\n                  ) : (\n                    <Typography variant=\"body2\" color=\"text.secondary\" sx={{ p: 2 }}>\n                      No students enrolled\n                    </Typography>\n                  )}\n                </Grid>\n              </Paper>\n            </Stack>\n          )}\n        </DialogContent>\n        <DialogActions sx={{ p: 1 }}>\n          <Button onClick={handleCloseDialog} variant=\"outlined\">\n            Close\n          </Button>\n          {canUpdate && (\n            <Button\n              variant=\"contained\"\n              onClick={() => {\n                handleCloseDialog();\n                handleEdit(currentBatch);\n              }}\n            >\n              Edit Batch\n            </Button>\n          )}\n        </DialogActions>\n      </Dialog>\n\n      {/* VIEW Schedule - Read Only */}\n      <Dialog open={viewSchedulesDialogOpen} onClose={handleCloseDialog} maxWidth=\"md\" fullWidth>\n        <DialogTitle>\n          <Typography variant=\"h6\" component=\"div\" fontWeight=\"600\">\n            Batch Schedule Details\n          </Typography>\n          <IconButton onClick={handleCloseDialog} sx={{ position: 'absolute', right: 8, top: 8 }}>\n            <CloseSquare />\n          </IconButton>\n        </DialogTitle>\n        <DialogContent dividers>\n          {currentBatch && (\n            <>\n              {/* Header Section */}\n              <Box mb={3}>\n                <Typography variant=\"h5\" gutterBottom fontWeight=\"600\">\n                  {currentBatch.title}\n                </Typography>\n                <Box sx={{ display: 'flex', alignItems: 'center', gap: 2, flexWrap: 'wrap' }}>\n                  <Chip label={currentBatch.status ? 'Active' : 'Inactive'} variant=\"outlined\" size=\"small\" />\n                  <Typography variant=\"body2\" color=\"text.secondary\">\n                    ID: {currentBatch.batch_id}\n                  </Typography>\n                  {currentBatch.is_archived && <Chip label=\"Archived\" variant=\"outlined\" color=\"error\" size=\"small\" />}\n                </Box>\n              </Box>\n\n              {/* Course & Trainer Information */}\n              {currentBatch.course_trainer_assignments?.[0] && (\n                <Box mb={3}>\n                  <Typography variant=\"subtitle1\" gutterBottom fontWeight=\"600\">\n                    Course & Tutor Information\n                  </Typography>\n                  <Paper variant=\"outlined\" sx={{ p: 2 }}>\n                    <Grid container spacing={3}>\n                      <Grid item xs={12} md={6}>\n                        <Box>\n                          <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\">\n                            Course\n                          </Typography>\n                          <Typography variant=\"body1\" fontWeight=\"500\">\n                            {courses.find((c) => c.course_id === currentBatch.course_trainer_assignments[0].course_id)?.course_name ||\n                              'Not assigned'}\n                          </Typography>\n                        </Box>\n                      </Grid>\n                      <Grid item xs={12} md={6}>\n                        <Box>\n                          <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\">\n                            Tutor\n                          </Typography>\n                          <Typography variant=\"body1\" fontWeight=\"500\">\n                            {currentBatch.course_trainer_assignments[0].trainer_name || 'Not assigned'}\n                          </Typography>\n                          <Typography variant=\"caption\" color=\"text.secondary\">\n                            ID: {currentBatch.course_trainer_assignments[0].employee_id}\n                          </Typography>\n                        </Box>\n                      </Grid>\n                    </Grid>\n                  </Paper>\n                </Box>\n              )}\n\n              {/* Schedules Section */}\n              <Box>\n                <Typography variant=\"subtitle1\" gutterBottom fontWeight=\"600\">\n                  Session Schedules ({currentBatch.schedules?.length || 0})\n                </Typography>\n\n                {currentBatch.schedules?.length > 0 ? (\n                  <Grid container spacing={2}>\n                    {currentBatch.schedules.map((schedule, index) => (\n                      <Grid item xs={12} md={6} lg={4} key={index}>\n                        <Paper variant=\"outlined\" sx={{ p: 2, height: '100%' }}>\n                          {/* Schedule Header */}\n                          <Box sx={{ display: 'flex', justifyContent: 'space-between', alignItems: 'flex-start', mb: 2 }}>\n                            <Typography variant=\"body2\" fontWeight=\"600\">\n                              Session {index + 1}\n                            </Typography>\n                            <Chip label={schedule?.status || 'Scheduled'} size=\"small\" variant=\"outlined\" />\n                          </Box>\n\n                          {/* Schedule Details */}\n                          <Stack spacing={2}>\n                            {/* Date */}\n                            <Box>\n                              <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\">\n                                Date\n                              </Typography>\n                              <Typography variant=\"body2\" fontWeight=\"500\">\n                                {schedule?.scheduled_date\n                                  ? formatDateTime(schedule.scheduled_date, { includeTime: false })\n                                  : 'Not scheduled'}\n                              </Typography>\n                            </Box>\n\n                            {/* Time */}\n                            <Box>\n                              <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\">\n                                Time\n                              </Typography>\n                              <Box sx={{ display: 'flex', alignItems: 'center', gap: 1 }}>\n                                <Typography variant=\"body2\" fontWeight=\"500\">\n                                  {formatDateTime(schedule?.start_time, { timeOnly: true }) || '--:--'}\n                                </Typography>\n                                <Typography variant=\"body2\" color=\"text.secondary\">\n                                  -\n                                </Typography>\n                                <Typography variant=\"body2\" fontWeight=\"500\">\n                                  {formatDateTime(schedule?.end_time, { timeOnly: true }) || '--:--'}\n                                </Typography>\n                              </Box>\n                            </Box>\n\n                            {/* Additional Information */}\n                            {(schedule?.room_number || schedule?.topic) && (\n                              <Box sx={{ pt: 1, borderTop: 1, borderColor: 'divider' }}>\n                                <Stack spacing={1}>\n                                  {schedule?.room_number && (\n                                    <Box>\n                                      <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\">\n                                        Room\n                                      </Typography>\n                                      <Typography variant=\"body2\">{schedule.room_number}</Typography>\n                                    </Box>\n                                  )}\n                                  {schedule?.topic && (\n                                    <Box>\n                                      <Typography variant=\"caption\" color=\"text.secondary\" display=\"block\">\n                                        Topic\n                                      </Typography>\n                                      <Typography variant=\"body2\">{schedule.topic}</Typography>\n                                    </Box>\n                                  )}\n                                </Stack>\n                              </Box>\n                            )}\n                          </Stack>\n                        </Paper>\n                      </Grid>\n                    ))}\n                  </Grid>\n                ) : (\n                  /* Empty State */\n                  <Paper variant=\"outlined\" sx={{ p: 4, textAlign: 'center' }}>\n                    <Typography variant=\"h6\" color=\"text.secondary\" gutterBottom>\n                      No Schedules Found\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"text.secondary\">\n                      There are no schedules available for this batch.\n                    </Typography>\n                  </Paper>\n                )}\n              </Box>\n            </>\n          )}\n        </DialogContent>\n        <DialogActions sx={{ p: 2 }}>\n          <Button onClick={handleCloseDialog} variant=\"outlined\">\n            Close\n          </Button>\n        </DialogActions>\n      </Dialog>\n\n      {/* Add/Edit Batch Dialog */}\n      <Dialog open={editDialogOpen} onClose={handleCloseDialog} maxWidth=\"sm\" fullWidth>\n        <DialogTitle>\n          {currentBatch ? 'Edit Batch' : 'Add New Batch'}\n          <IconButton\n            aria-label=\"close\"\n            onClick={handleCloseDialog}\n            sx={{\n              position: 'absolute',\n              right: 8,\n              top: 8,\n              color: (theme) => theme.palette.grey[500]\n            }}\n          >\n            <CloseSquare />\n          </IconButton>\n        </DialogTitle>\n        <DialogContent>\n          <form onSubmit={formik.handleSubmit}>\n            <Grid container spacing={3} sx={{ mt: 1 }}>\n              {/* Batch Title */}\n              <Grid item xs={12} md={6}>\n                <Stack spacing={1}>\n                  <FormLabel>Batch Title*</FormLabel>\n                  <TextField\n                    fullWidth\n                    id=\"title\"\n                    name=\"title\"\n                    value={formik.values.title}\n                    onChange={formik.handleChange}\n                    error={formik.touched.title && Boolean(formik.errors.title)}\n                    helperText={formik.touched.title && formik.errors.title}\n                    onBlur={formik.handleBlur}\n                    placeholder=\"Enter batch title\"\n                  />\n                </Stack>\n              </Grid>\n\n              {/* Batch Slots */}\n              <Grid item xs={12} md={6}>\n                <Stack spacing={1}>\n                  <FormLabel>Slots*</FormLabel>\n                  <TextField\n                    fullWidth\n                    id=\"slots\"\n                    name=\"slots\"\n                    type=\"number\"\n                    value={formik.values.slots}\n                    onChange={formik.handleChange}\n                    error={formik.touched.slots && Boolean(formik.errors.slots)}\n                    helperText={formik.touched.slots && formik.errors.slots}\n                    onBlur={formik.handleBlur}\n                    placeholder=\"Enter batch slots\"\n                    inputProps={{ min: 1 }}\n                  />\n                </Stack>\n              </Grid>\n\n              {/* Start Date */}\n              <Grid item xs={12} md={6}>\n                <Stack spacing={1}>\n                  <FormLabel>Start Date*</FormLabel>\n                  <LocalizationProvider dateAdapter={AdapterDateFns}>\n                    <DatePicker\n                      format={useDate.dateFormat}\n                      minDate={new Date()}\n                      value={formik.values.start_date ? new Date(formik.values.start_date) : null}\n                      onChange={(newValue) => {\n                        formik.setFieldValue('start_date', newValue);\n                        // Reset end date if it's before start date\n                        if (formik.values.end_date && newValue > new Date(formik.values.end_date)) {\n                          formik.setFieldValue('end_date', null);\n                        }\n                      }}\n                      slotProps={{\n                        textField: {\n                          fullWidth: true,\n                          name: 'start_date',\n                          error: formik.touched.start_date && Boolean(formik.errors.start_date),\n                          helperText: formik.touched.start_date && formik.errors.start_date,\n                          onBlur: formik.handleBlur,\n                          placeholder: 'Select start date'\n                        }\n                      }}\n                    />\n                  </LocalizationProvider>\n                </Stack>\n              </Grid>\n\n              {/* End Date */}\n              <Grid item xs={12} md={6}>\n                <Stack spacing={1}>\n                  <FormLabel>End Date*</FormLabel>\n                  <LocalizationProvider dateAdapter={AdapterDateFns}>\n                    <DatePicker\n                      format={useDate.dateFormat}\n                      minDate={formik.values.start_date ? new Date(formik.values.start_date) : new Date()}\n                      value={formik.values.end_date ? new Date(formik.values.end_date) : null}\n                      onChange={(newValue) => {\n                        formik.setFieldValue('end_date', newValue);\n                      }}\n                      slotProps={{\n                        textField: {\n                          fullWidth: true,\n                          name: 'end_date',\n                          error: formik.touched.end_date && Boolean(formik.errors.end_date),\n                          helperText: formik.touched.end_date && formik.errors.end_date,\n                          onBlur: formik.handleBlur,\n                          placeholder: 'Select end date'\n                        }\n                      }}\n                    />\n                  </LocalizationProvider>\n                </Stack>\n              </Grid>\n\n              {/* Start Time */}\n              <Grid item xs={12} md={6}>\n                <Stack spacing={1}>\n                  <FormLabel>Start Time*</FormLabel>\n                  <TextField\n                    fullWidth\n                    type=\"time\"\n                    id=\"start_time\"\n                    name=\"start_time\"\n                    value={formik.values.start_time || ''}\n                    onChange={formik.handleChange}\n                    error={formik.touched.start_time && Boolean(formik.errors.start_time)}\n                    helperText={formik.touched.start_time && formik.errors.start_time}\n                    onBlur={formik.handleBlur}\n                    InputLabelProps={{\n                      shrink: true\n                    }}\n                    inputProps={{\n                      step: 300 // 5 min intervals\n                    }}\n                  />\n                </Stack>\n              </Grid>\n\n              {/* End Time */}\n              <Grid item xs={12} md={6}>\n                <Stack spacing={1}>\n                  <FormLabel>End Time*</FormLabel>\n                  <TextField\n                    fullWidth\n                    type=\"time\"\n                    id=\"end_time\"\n                    name=\"end_time\"\n                    value={formik.values.end_time || ''}\n                    onChange={formik.handleChange}\n                    error={formik.touched.end_time && Boolean(formik.errors.end_time)}\n                    helperText={formik.touched.end_time && formik.errors.end_time}\n                    onBlur={formik.handleBlur}\n                    InputLabelProps={{\n                      shrink: true\n                    }}\n                    inputProps={{\n                      step: 300 // 5 min intervals\n                    }}\n                  />\n                </Stack>\n              </Grid>\n\n              {/* Course Selection */}\n              <Grid item xs={12} md={6}>\n                <Stack spacing={1}>\n                  <FormLabel>Course*</FormLabel>\n                  <Autocomplete\n                    options={courses || []}\n                    getOptionLabel={(option) => option.course_name}\n                    value={courses?.find((course) => course.course_id === formik.values.course_id) || null}\n                    onChange={(event, newValue) => {\n                      formik.setFieldValue('course_id', newValue ? newValue.course_id : '');\n                    }}\n                    onBlur={() => formik.setFieldTouched('course_id', true)}\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        placeholder=\"Select course\"\n                        error={formik.touched.course_id && Boolean(formik.errors.course_id)}\n                        helperText={formik.touched.course_id && formik.errors.course_id}\n                      />\n                    )}\n                    filterOptions={(options = [], state) => {\n                      return options.filter(\n                        (option) =>\n                          option.course_name.toLowerCase().includes(state.inputValue.toLowerCase()) ||\n                          option.course_id.toString().includes(state.inputValue)\n                      );\n                    }}\n                    isOptionEqualToValue={(option, value) => option.course_id === value.course_id}\n                    renderOption={(props, option) => (\n                      <li {...props} key={option.course_id}>\n                        {option.course_name}\n                      </li>\n                    )}\n                  />\n                </Stack>\n              </Grid>\n\n              {/* Trainer Selection */}\n              <Grid item xs={12} md={6}>\n                <Stack spacing={1}>\n                  <FormLabel>Tutor*</FormLabel>\n                  <Autocomplete\n                    options={trainers}\n                    getOptionLabel={(option) => `${option.full_name} (${option.employee_id})`}\n                    value={trainers.find((trainer) => trainer.trainer_id === formik.values.trainer) || null}\n                    onChange={(event, newValue) => {\n                      formik.setFieldValue('trainer', newValue ? newValue.trainer_id : '');\n                      formik.setFieldValue('employee_id', newValue ? newValue.employee_id : '');\n                    }}\n                    onBlur={() => {\n                      formik.setFieldTouched('trainer', true);\n                      formik.setFieldTouched('employee_id', true);\n                    }}\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        placeholder=\"Select trainer\"\n                        error={formik.touched.trainer && Boolean(formik.errors.trainer)}\n                        helperText={formik.touched.trainer && formik.errors.trainer}\n                      />\n                    )}\n                    filterOptions={(options, state) => {\n                      return options.filter(\n                        (option) =>\n                          option.full_name.toLowerCase().includes(state.inputValue.toLowerCase()) ||\n                          option.employee_id.toString().includes(state.inputValue)\n                      );\n                    }}\n                    isOptionEqualToValue={(option, value) => option.trainer_id === value.trainer_id}\n                    renderOption={(props, option) => (\n                      <li {...props} key={option.trainer_id}>\n                        <Box>\n                          <div>{option.full_name}</div>\n                          <div style={{ fontSize: '0.8rem', color: '#666' }}>ID: {option.employee_id}</div>\n                        </Box>\n                      </li>\n                    )}\n                  />\n                </Stack>\n              </Grid>\n\n              {/* Students Multi-select */}\n              <Grid item xs={12}>\n                <Stack spacing={1}>\n                  <FormLabel>Students</FormLabel>\n                  <Autocomplete\n                    multiple\n                    options={students || []}\n                    getOptionLabel={(option) => `${option.full_name} (${option.registration_id})`}\n                    value={students?.filter((student) => formik.values.students?.includes(student.student_id)) || []}\n                    onChange={(event, newValue) => {\n                      const studentIds = newValue.map((student) => student.student_id);\n                      formik.setFieldValue('students', studentIds);\n                    }}\n                    onBlur={() => formik.setFieldTouched('students', true)}\n                    renderInput={(params) => (\n                      <TextField\n                        {...params}\n                        placeholder=\"Select students\"\n                        error={formik.touched.students && Boolean(formik.errors.students)}\n                        helperText={\n                          (formik.touched.students && formik.errors.students) ||\n                          `Selected: ${formik.values.students?.length || 0}/${formik.values.slots || 0} slots`\n                        }\n                      />\n                    )}\n                    filterOptions={(options = [], state) => {\n                      return options.filter(\n                        (option) =>\n                          option.full_name.toLowerCase().includes(state.inputValue.toLowerCase()) ||\n                          option.registration_id.toString().includes(state.inputValue)\n                      );\n                    }}\n                    isOptionEqualToValue={(option, value) => option.student_id === value.student_id}\n                    renderOption={(props, option) => (\n                      <li {...props} key={option.student_id}>\n                        <Box>\n                          <div>{option.full_name}</div>\n                          <div style={{ fontSize: '0.8rem', color: '#666' }}>Registration ID: {option.registration_id}</div>\n                        </Box>\n                      </li>\n                    )}\n                    renderTags={(value, getTagProps) =>\n                      value.map((option, index) => (\n                        <Chip label={option.full_name} {...getTagProps({ index })} size=\"small\" key={option.student_id} />\n                      ))\n                    }\n                  />\n                  <FormHelperText>\n                    {formik.values.students?.length > 0\n                      ? `Selected ${formik.values.students.length} out of ${formik.values.slots || 0} slots`\n                      : 'Select students for this batch (optional)'}\n                  </FormHelperText>\n                </Stack>\n              </Grid>\n            </Grid>\n          </form>\n        </DialogContent>\n        <DialogActions sx={{ p: 3, pt: 2 }}>\n          <Button onClick={handleCloseDialog} variant=\"outlined\">\n            Cancel\n          </Button>\n          <Button\n            onClick={formik.submitForm}\n            variant=\"contained\"\n            disabled={formik.isSubmitting}\n            startIcon={formik.isSubmitting ? <CircularProgress size={16} /> : null}\n          >\n            {formik.isSubmitting ? 'Saving...' : currentBatch ? 'Update Batch' : 'Create Batch'}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </MainCard>\n  );\n};\n\nexport default BatchManagement;\n","/**\n * Formats a date into a readable date & time string.\n * @param {Date|string} date - The date to format. If not provided, returns empty string or current date based on options.\n * @param {Object} [options] - Optional formatting options.\n * @param {boolean} [options.includeTime=true] - Whether to include time in the output.\n * @param {boolean} [options.includeSeconds=false] - Whether to include seconds in the time.\n * @param {boolean} [options.timeOnly=false] - Whether to output only time.\n * @param {boolean} [options.useCurrentIfEmpty=false] - Whether to use current date/time if no date is provided.\n * @param {string} [options.fallback=''] - Fallback value to return if date is invalid/empty.\n * @returns {string} Formatted date-time string or fallback value.\n */\n\nimport format from '../config';\n\nexport const formatDateTime = (\n  date,\n  { includeTime = true, includeSeconds = false, timeOnly = false, useCurrentIfEmpty = false, fallback = '' } = {}\n) => {\n  let dateObj;\n\n  // Handle undefined/null/empty date\n  if (!date) {\n    if (useCurrentIfEmpty) {\n      dateObj = new Date();\n    } else {\n      return fallback;\n    }\n  }\n  // Handle string time formats like \"10:39:20\"\n  else if (typeof date === 'string' && /^\\d{1,2}:\\d{2}(:\\d{2})?$/.test(date)) {\n    const [hours, minutes, seconds] = date.split(':').map(Number);\n    dateObj = new Date();\n    dateObj.setHours(hours, minutes, seconds || 0, 0);\n  }\n  // Handle Date objects\n  else if (date instanceof Date) {\n    dateObj = date;\n  }\n  // Handle other date strings or timestamps\n  else {\n    dateObj = new Date(date);\n  }\n\n  // Check if the date is invalid\n  if (isNaN(dateObj.getTime())) {\n    return fallback;\n  }\n\n  // Parse format patterns from config\n  const formatPattern = (pattern, date) => {\n    const hours = date.getHours();\n    const isPM = hours >= 12;\n\n    const replacements = {\n      yyyy: date.getFullYear(),\n      yy: String(date.getFullYear()).slice(-2),\n      MM: String(date.getMonth() + 1).padStart(2, '0'),\n      M: date.getMonth() + 1,\n      dd: String(date.getDate()).padStart(2, '0'),\n      d: date.getDate(),\n      HH: String(hours).padStart(2, '0'), // 24-hour, leading zero\n      H: hours, // 24-hour, no leading zero\n      hh: String(hours % 12 || 12).padStart(2, '0'), // 12-hour, leading zero\n      h: hours % 12 || 12, // 12-hour, no leading zero\n      mm: String(date.getMinutes()).padStart(2, '0'),\n      m: date.getMinutes(),\n      ss: String(date.getSeconds()).padStart(2, '0'),\n      s: date.getSeconds(),\n      a: isPM ? 'PM' : 'AM'\n    };\n\n    return pattern.replace(/(yyyy|yy|MM|M|dd|d|HH|H|hh|h|mm|m|ss|s|a)/g, (match) => replacements[match] || match);\n  };\n\n  // Time only output\n  if (timeOnly) {\n    let timePattern = format.timeFormat;\n    if (!includeSeconds) {\n      timePattern = timePattern.replace(/:ss?/g, '');\n      timePattern = timePattern.replace(/(^|\\s)ss?(\\s|$)/g, '$1$2');\n      timePattern = timePattern.replace(/::/g, ':').replace(/(\\s|^):|:(\\s|$)/g, '$1$2');\n    }\n    return formatPattern(timePattern, dateObj);\n  }\n\n  if (includeTime) {\n    const dateStr = formatPattern(format.dateFormat, dateObj);\n\n    let timePattern = format.timeFormat;\n    if (!includeSeconds) {\n      timePattern = timePattern.replace(/[:\\\\/]?ss?/g, '');\n      timePattern = timePattern.replace(/::/g, ':').replace(/:$/, '');\n    }\n\n    const timeStr = formatPattern(timePattern, dateObj);\n    return `${dateStr} ${timeStr}`;\n  } else {\n    return formatPattern(format.dateFormat, dateObj);\n  }\n};\n","export const formatDate = (date) => {\n  const d = new Date(date);\n  let month = '' + (d.getMonth() + 1);\n  let day = '' + d.getDate();\n  const year = d.getFullYear();\n\n  if (month.length < 2) month = '0' + month;\n  if (day.length < 2) day = '0' + day;\n\n  return [year, month, day].join('-');\n};\n"],"names":["usePermission","checkPermission","useCallback","module","action","_data$user","data","JSON","parse","localStorage","getItem","userType","loginType","permissions","user","some","permission","module_name","allowed_actions","includes","error","console","_currentBatch$weekly_","_currentBatch$student","_currentBatch$student2","_currentBatch$course_","_courses$find","_currentBatch$schedul","_currentBatch$schedul2","_formik$values$studen3","navigate","useNavigate","_ref","useLocation","state","N_UserId","N_UserType","canCreate","canUpdate","canDelete","auth","trainer_id","student_id","_useState","useState","_useState2","_slicedToArray","batches","setBatches","_useState3","_useState4","loading","setLoading","_useState5","_useState6","setError","_useState7","_useState8","viewDialogOpen","setViewDialogOpen","_useState9","_useState10","editDialogOpen","setEditDialogOpen","_useState11","_useState12","currentBatch","setCurrentBatch","_useState13","_useState14","courses","setCourses","_useState15","_useState16","trainers","setTrainers","_useState17","_useState18","students","setStudents","_useState19","_useState20","category","setCategory","_useState21","_useState22","searchTerm","setSearchTerm","_useState23","_useState24","selectedCourse","setSelectedCourse","_useState25","_useState26","selectedCategory","setSelectedCategory","_useState27","_useState28","selectedStudent","setSelectedStudent","_useState29","_useState30","selectedTrainer","setSelectedTrainer","_useState31","_useState32","selectedBatch","setSelectedBatch","_useState33","_useState34","statusFilter","setStatusFilter","_useState35","_useState36","viewSchedulesDialogOpen","setViewSchedulesDialogOpen","fetchAllData","_asyncToGenerator","_regeneratorRuntime","mark","_callee","batchesRes","_yield$Promise$all","_yield$Promise$all2","_yield$Promise$all3","_yield$Promise$all4","_yield$Promise$all5","_yield$Promise$all6","wrap","_context","prev","next","Promise","all","axiosInstance","get","sent","concat","active_category","categories","active_course","active_courses","active_trainer","active_student","t0","message","finish","stop","useEffect","_useMemo","useMemo","filteredBatches","filter","batch","_batch$title","_batch$trainer_name","_batch$course_name","_batch$batch_name","_batch$batch_id","_batch$students","searchTermLower","toLowerCase","title","trainer_name","course_name","batch_name","batch_id","toString","student","_student$full_name","full_name","_batch$students2","_batch$students3","status","id","course_id","course","category_id","filteredCategories","filteredCourses","filteredStudents","filteredTrainers","selectedBatchData","find","b","cat","_selectedBatchData$st","batchStudent","trainer","selectedCourseData","c","_batch$students4","course_category_id","_batch$students5","studentBatches","_batch$students6","studentCategories","_toConsumableArray","Set","map","studentCourses","trainerBatches","trainerCategories","trainerCourses","_batch$students7","validationSchema","Yup","shape","required","test","value","trim","length","slots","min","integer","start_date","end_date","this","parent","Date","start_time","end_time","_this$parent","of","formik","useFormik","initialValues","enableReinitialize","onSubmit","_onSubmit","_callee2","values","startTimeWithSeconds","endTimeWithSeconds","res","_res","_err$response","_err$response$data","_context2","patch","APP_PATH_BASE_URL","formatDate","success","Swal","text","icon","showConfirmButton","confirmButtonText","post","handleCloseDialog","response","_x","apply","arguments","handleView","handleStatusChange","_ref3","_callee3","newStatus","actionText","a","_context3","showCancelButton","cancelButtonText","isConfirmed","abrupt","_objectSpread","log","_x2","_x3","handleEdit","setValues","handleDelete","_ref4","_callee4","_context4","_x4","resetForm","_jsx","Container","sx","display","justifyContent","alignItems","height","children","CircularProgress","_jsxs","py","Typography","color","Button","onClick","window","location","reload","MainCard","Stack","mb","xs","sm","spacing","direction","IconButton","variant","size","width","gap","backgroundColor","ml","ArrowBack","Grid","container","my","item","Box","flexDirection","flexWrap","minWidth","flexGrow","TextField","placeholder","onChange","e","target","InputProps","startAdornment","InputAdornment","position","SearchNormal1","endAdornment","edge","CloseSquare","_Fragment","Autocomplete","options","getOptionLabel","option","event","newValue","md","flex","className","renderInput","params","filterOptions","undefined","_option$full_name","inputValue","isOptionEqualToValue","renderOption","props","_createElement","key","_option$full_name2","category_name","handleCategorySelect","_option$category_name","_option$course_name","_option$title","FormControl","maxWidth","Select","mr","MenuItem","startIcon","Add","textAlign","_batch$students8","_batch$schedules","Card","cursor","borderLeft","borderLeftColor","borderRadius","boxShadow","transition","transform","CardContent","pb","Tooltip","stopPropagation","Switch","checked","Edit","Trash","Divider","Calendar","fontWeight","formatDateTime","includeTime","User","People","available_slots","Building","schedules","CardActions","pt","px","border","borderColor","Eye","handleViewSchedules","Dialog","open","onClose","fullWidth","DialogTitle","p","DialogContent","dividers","gutterBottom","timeOnly","borderTop","created_at","weekly_schedule","schedule","idx","day","split","timePart","slice","join","fontSize","style","Paper","maxHeight","overflow","Capitalise","registration_id","DialogActions","component","right","top","Chip","label","is_archived","course_trainer_assignments","employee_id","index","lg","scheduled_date","room_number","topic","theme","palette","grey","handleSubmit","mt","FormLabel","name","handleChange","touched","Boolean","errors","helperText","onBlur","handleBlur","type","inputProps","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","format","useDate","dateFormat","minDate","setFieldValue","slotProps","textField","InputLabelProps","shrink","step","setFieldTouched","multiple","_formik$values$studen","studentIds","_formik$values$studen2","renderTags","getTagProps","FormHelperText","submitForm","disabled","isSubmitting","date","dateObj","_ref$includeTime","_ref$includeSeconds","includeSeconds","_ref$timeOnly","_ref$useCurrentIfEmpt","useCurrentIfEmpty","_ref$fallback","fallback","_date$split$map","Number","_date$split$map2","hours","minutes","seconds","setHours","isNaN","getTime","formatPattern","pattern","getHours","isPM","replacements","yyyy","getFullYear","yy","String","MM","getMonth","padStart","M","dd","getDate","d","HH","H","hh","h","mm","getMinutes","m","ss","getSeconds","s","replace","match","timePattern","timeFormat","dateStr","timeStr","month","year"],"sourceRoot":""}