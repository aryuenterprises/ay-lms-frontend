"use strict";(self.webpackChunkable_pro_material_react=self.webpackChunkable_pro_material_react||[]).push([[7417],{87417:function(s,e,r){r.r(e),r.d(e,{default:function(){return W}});var n=r(61889),i=r(36314),t=r(697),o=r(20890),a=r(4242),c=r(61819),d=r(15861),l=r(29439),u=r(72791),h=r(57689),x=r(30829),p=r(77196),m=r(63466),w=r(47071),f=r(68096),Z=r(94294),j=r(8007),P=r(36277),b=r(35878),g=r(35391),v=r(11800),y=r(29951),C=r(49769),S=r(35640),k=r(89731),B=r(21830),_=r.n(B),E=r(23197),q=r(80184),R=function(){var s=(0,b.Z)(),e=(0,h.s0)(),r=((0,h.TH)().state||{}).email,a=(0,u.useState)(),B=(0,l.Z)(a,2),R=B[0],W=B[1],F=(0,u.useState)(!1),V=(0,l.Z)(F,2),z=V[0],D=V[1],T=function(){D(!z)},A=function(s){s.preventDefault()},H=function(s){var e=(0,y.X)(s);W((0,y.V)(e))};return(0,u.useEffect)((function(){H("")}),[]),(0,q.jsx)(q.Fragment,{children:(0,q.jsx)(P.J9,{initialValues:{password:"",confirmPassword:"",submit:null},validationSchema:j.Ry().shape({password:j.Z_().max(255).required("Password is required"),confirmPassword:j.Z_().required("Confirm Password is required").test("confirmPassword","Both Password must be match!",(function(s,e){return e.parent.password===s}))}),onSubmit:function(){var n=(0,d.Z)((0,c.Z)().mark((function n(i,t){var o,a,d;return(0,c.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return o=t.setErrors,a=t.setStatus,d=t.setSubmitting,n.prev=1,n.next=4,k.Z.post("".concat(E.t6,"api/reset-password/"),{email:r,new_password:i.password});case 4:if(!0!==n.sent.data.success){n.next=11;break}return n.next=8,_().fire({title:"Success!",text:"Password reset successfully",icon:"success",showConfirmButton:!0,confirmButtonText:"OK"});case 8:a({success:!0}),d(!1),e("/login",{replace:!0});case 11:n.next=17;break;case 13:n.prev=13,n.t0=n.catch(1),console.error(n.t0),s.current&&(a({success:!1}),o({submit:n.t0.message}),d(!1));case 17:case"end":return n.stop()}}),n,null,[[1,13]])})));return function(s,e){return n.apply(this,arguments)}}(),children:function(s){var e=s.errors,r=s.handleBlur,a=s.handleChange,c=s.handleSubmit,d=s.isSubmitting,l=s.touched,u=s.values;return(0,q.jsx)("form",{noValidate:!0,onSubmit:c,children:(0,q.jsxs)(n.ZP,{container:!0,spacing:3,children:[(0,q.jsxs)(n.ZP,{item:!0,xs:12,children:[(0,q.jsxs)(i.Z,{spacing:1,children:[(0,q.jsx)(x.Z,{htmlFor:"password-reset",children:"Password"}),(0,q.jsx)(p.Z,{fullWidth:!0,error:Boolean(l.password&&e.password),id:"password-reset",type:z?"text":"password",value:u.password,name:"password",onBlur:r,onChange:function(s){a(s),H(s.target.value)},endAdornment:(0,q.jsx)(m.Z,{position:"end",children:(0,q.jsx)(g.Z,{"aria-label":"toggle password visibility",onClick:T,onMouseDown:A,edge:"end",color:"secondary",children:z?(0,q.jsx)(C.Z,{}):(0,q.jsx)(S.Z,{})})}),placeholder:"Enter password"}),l.password&&e.password&&(0,q.jsx)(w.Z,{error:!0,id:"helper-text-password-reset",children:e.password})]}),(0,q.jsx)(f.Z,{fullWidth:!0,sx:{mt:2},children:(0,q.jsxs)(n.ZP,{container:!0,spacing:2,alignItems:"center",children:[(0,q.jsx)(n.ZP,{item:!0,children:(0,q.jsx)(t.Z,{sx:{bgcolor:null===R||void 0===R?void 0:R.color,width:85,height:8,borderRadius:"7px"}})}),(0,q.jsx)(n.ZP,{item:!0,children:(0,q.jsx)(o.Z,{variant:"subtitle1",fontSize:"0.75rem",children:null===R||void 0===R?void 0:R.label})})]})})]}),(0,q.jsx)(n.ZP,{item:!0,xs:12,children:(0,q.jsxs)(i.Z,{spacing:1,children:[(0,q.jsx)(x.Z,{htmlFor:"confirm-password-reset",children:"Confirm Password"}),(0,q.jsx)(p.Z,{fullWidth:!0,error:Boolean(l.confirmPassword&&e.confirmPassword),id:"confirm-password-reset",type:"password",value:u.confirmPassword,name:"confirmPassword",onBlur:r,onChange:a,placeholder:"Enter confirm password"}),l.confirmPassword&&e.confirmPassword&&(0,q.jsx)(w.Z,{error:!0,id:"helper-text-confirm-password-reset",children:e.confirmPassword})]})}),e.submit&&(0,q.jsx)(n.ZP,{item:!0,xs:12,children:(0,q.jsx)(w.Z,{error:!0,children:e.submit})}),(0,q.jsx)(n.ZP,{item:!0,xs:12,children:(0,q.jsx)(v.Z,{children:(0,q.jsx)(Z.Z,{disableElevation:!0,disabled:d,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Reset Password"})})})]})})}})})},W=function(){return(0,q.jsx)(a.Z,{children:(0,q.jsxs)(n.ZP,{container:!0,spacing:3,children:[(0,q.jsx)(n.ZP,{item:!0,xs:12,children:(0,q.jsxs)(i.Z,{sx:{mb:{xs:-.5,sm:.5}},spacing:1,children:[(0,q.jsxs)(t.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,q.jsx)(o.Z,{variant:"h3",children:"Reset Password"}),(0,q.jsx)(o.Z,{color:"primary",sx:{cursor:"pointer",mt:1},onClick:function(){window.history.go(-2)},children:"Back to Login"})]}),(0,q.jsx)(o.Z,{color:"secondary",children:"Please choose your new password"})]})}),(0,q.jsx)(n.ZP,{item:!0,xs:12,children:(0,q.jsx)(R,{})})]})})}}}]);
//# sourceMappingURL=7417.e7492b0f.chunk.js.map