"use strict";(self.webpackChunkable_pro_material_react=self.webpackChunkable_pro_material_react||[]).push([[9710],{49710:function(e,t,n){n.r(t),n.d(t,{default:function(){return ut}});var r=n(61819),i=n(15861),s=n(29439),o=n(1413),a=n(45987),l=n(72791),c=n(24034),d=n(697),u=n(20890),x=n(61889),h=n(36314),m=n(13400),p=n(62114),Z=n(43896),v=n(57689),j=n(21878),f=n(79971),g=n(88433),b=n(63108),y=n(16274),_=n(42161),w=n(71652),k=n(12649),C=n(85680),P=n(78045),S=n(80184),W=function(e){var t,n,r,i,s,o,a,l,c,d,h,m,p,Z,v=null===e||void 0===e?void 0:e.data;return(0,S.jsxs)(S.Fragment,{children:[("tutor"===(null===v||void 0===v?void 0:v.user_type)||"admin"===(null===v||void 0===v?void 0:v.user_type))&&(0,S.jsxs)(x.ZP,{container:!0,spacing:2,sx:{p:3},children:[(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Name"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",(0,C.Z)(null===v||void 0===v?void 0:v.full_name)]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Email"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v?void 0:v.email]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Contact No"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v?void 0:v.contact_no]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Employee ID"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v?void 0:v.employee_id]})})]}),"tutor"!==(null===v||void 0===v?void 0:v.user_type)&&"admin"!==(null===v||void 0===v?void 0:v.user_type)&&(0,S.jsxs)(x.ZP,{container:!0,spacing:2,sx:{p:3},children:[(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"First Name"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",(0,C.Z)(null===v||void 0===v?void 0:v.first_name)]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Last Name"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",(0,C.Z)(null===v||void 0===v?void 0:v.last_name)]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Email"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v?void 0:v.email]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Contact No"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v?void 0:v.contact_no]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Date of Birth"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",(0,P.o)(null===v||void 0===v?void 0:v.dob,{includeTime:!1})]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Registration ID"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v?void 0:v.registration_id]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Joining Date"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",(0,P.o)(null===v||void 0===v?void 0:v.joining_date,{includeTime:!1})]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Student Type"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v?void 0:v.student_type]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Current Address"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",(0,C.Z)(null===v||void 0===v?void 0:v.current_address)]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Permanent Address"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",(0,C.Z)(null===v||void 0===v?void 0:v.permanent_address)]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"City"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",(0,C.Z)(null===v||void 0===v?void 0:v.city)]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"State"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",(0,C.Z)(null===v||void 0===v?void 0:v.state)]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Country"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",(0,C.Z)(null===v||void 0===v?void 0:v.country)]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Parent/Guardian Name"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",(0,C.Z)(null===v||void 0===v?void 0:v.parent_guardian_name)]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Parent/Guardian Phone"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v?void 0:v.parent_guardian_phone]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Parent/Guardian Address"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",(0,C.Z)(null===v||void 0===v?void 0:v.parent_guardian_occupation)]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Internship"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null!==v&&void 0!==v&&v.internship?(null===v||void 0===v?void 0:v.internship)+" months":"-"]})}),"jobseeker"===(null===v||void 0===v?void 0:v.student_type)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Current Qualification"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v||null===(t=v.jobseeker)||void 0===t?void 0:t.current_qualification]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Passed Out Year"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v||null===(n=v.jobseeker)||void 0===n?void 0:n.passed_out_year]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Preferred Job Role"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v||null===(r=v.jobseeker)||void 0===r?void 0:r.preferred_job_role]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Resume"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[":"," ",null!==v&&void 0!==v&&null!==(i=v.jobseeker)&&void 0!==i&&i.resume_url?(0,S.jsx)("a",{href:null===v||void 0===v||null===(s=v.jobseeker)||void 0===s?void 0:s.resume_url,target:"_blank",rel:"noopener noreferrer",children:"View Resume"}):"-"]})})]}),"school_student"===(null===v||void 0===v?void 0:v.student_type)&&(null===v||void 0===v?void 0:v.school_student)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"School Name"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v||null===(o=v.school_student)||void 0===o?void 0:o.school_name]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Class/Grade"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v||null===(a=v.school_student)||void 0===a?void 0:a.school_class]})})]}),"college_student"===(null===v||void 0===v?void 0:v.student_type)&&(null===v||void 0===v?void 0:v.college_student)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"College Name"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v||null===(l=v.college_student)||void 0===l?void 0:l.college_name]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Degree"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v||null===(c=v.college_student)||void 0===c?void 0:c.degree]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Year of Complition"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v||null===(d=v.college_student)||void 0===d?void 0:d.year_of_study]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Resume"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[":"," ",(0,S.jsx)("a",{href:null===v||void 0===v?void 0:v.college_student.resume_url,target:"_blank",rel:"noopener noreferrer",children:"View Resume"})]})})]}),"employee"===(null===v||void 0===v?void 0:v.student_type)&&(null===v||void 0===v?void 0:v.employee)&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Company Name"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v||null===(h=v.employee)||void 0===h?void 0:h.company_name]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Designation"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v||null===(m=v.employee)||void 0===m?void 0:m.designation]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Experience"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v||null===(p=v.employee)||void 0===p?void 0:p.experience]})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsx)(u.Z,{variant:"body1",fontWeight:"bold",children:"Skills"})}),(0,S.jsx)(x.ZP,{item:!0,xs:5,children:(0,S.jsxs)(u.Z,{variant:"body1",children:[": ",null===v||void 0===v||null===(Z=v.employee)||void 0===Z?void 0:Z.skills]})})]})]})]})},I=n(13967),E=n(57621),z=n(39504),L=n(72363),T=n(20068),B=n(71444),A=n(61880),M=n(49769),R=function(e){var t=e.courses,n=(0,I.Z)();return(0,S.jsx)(w._,{dateAdapter:k.H,children:(0,S.jsx)(d.Z,{sx:{p:3},children:(0,S.jsx)(x.ZP,{container:!0,spacing:3,children:(null===t||void 0===t?void 0:t.length)>0?t.map((function(e){var t;return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(x.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,S.jsxs)(d.Z,{sx:{mb:5},children:[(0,S.jsx)(u.Z,{variant:"h5",gutterBottom:!0,sx:{backgroundColor:"background.paper",padding:2,borderRadius:1,borderLeft:"4px solid",borderColor:"primary.main",boxShadow:1,mb:3},children:e.course_name||"Unnamed Course"}),(null===(t=e.syllabus_info)||void 0===t?void 0:t.length)>0?(0,S.jsx)(x.ZP,{container:!0,spacing:3,children:e.syllabus_info.map((function(t,r){var i,s,o;return(0,S.jsx)(x.ZP,{item:!0,xs:12,children:(0,S.jsxs)(E.Z,{sx:{cursor:"pointer",height:"100%",display:"flex",flexDirection:"column",transition:"all 0.3s ease",border:"1px solid",borderColor:"divider",borderRadius:3,"&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 24px rgba(0,0,0,0.15)",borderColor:"secondary.light"}},children:[(0,S.jsxs)(z.Z,{sx:{flexGrow:1,overflow:"hidden",display:"flex",flexDirection:"column"},children:[(0,S.jsx)(d.Z,{sx:{display:"flex",justifyContent:"center",my:2},children:(o=null===(i=t.file)||void 0===i?void 0:i.type,o?o.includes("image")?(0,S.jsx)(B.Z,{size:"48",color:"#666"}):o.includes("pdf")?(0,S.jsx)(A.Z,{size:"48",color:"#ff5252"}):o.includes("word")?(0,S.jsx)(A.Z,{size:"48",color:"#2b579a"}):(0,S.jsx)(g.Z,{size:"48",color:"#666"}):(0,S.jsx)(g.Z,{size:"48",color:"#666"}))}),(0,S.jsx)(u.Z,{variant:"h4",fontWeight:600,gutterBottom:!0,sx:{textAlign:"center"},children:"Course Syllabus"}),(0,S.jsx)(u.Z,{variant:"body2",color:"text.secondary",fontWeight:600,sx:{textAlign:"center"},children:"View the complete syllabus for this course to see all learning objectives, topics covered, and assessment criteria."})]}),(0,S.jsx)(L.Z,{sx:{justifyContent:"center"},children:(0,S.jsx)(T.Z,{title:"View",arrow:!0,placement:"top",color:n.palette.primary.main,children:(0,S.jsx)(m.Z,{onClick:function(){var e;return(null===(e=t.file)||void 0===e?void 0:e.url)&&window.open(t.file.url,"_blank")},color:"secondary",size:"large",disabled:!(null!==(s=t.file)&&void 0!==s&&s.url),children:(0,S.jsx)(M.Z,{})})})})]})},t.id||"".concat(e.course_name,"-").concat(r))}))}):(0,S.jsx)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"center",minHeight:100,backgroundColor:"background.default",borderRadius:1,p:3,mb:2},children:(0,S.jsx)(u.Z,{variant:"body1",color:"text.secondary",children:"No syllabus available for this course"})})]},e.course_name||e.course_id)})})})):(0,S.jsx)(x.ZP,{item:!0,xs:12,children:(0,S.jsx)(E.Z,{sx:{p:3,textAlign:"center"},children:(0,S.jsx)(u.Z,{variant:"h6",color:"text.secondary",children:"No courses available."})})})})})})};R.defaultProps={courses:[]};var q=R,F=n(93433),O=n(48550),N=n(63466),H=n(74982),D=n(30829),Y=n(58406),V=n(23786),Q=n(94294),G=n(43513),$=n(58536),J=n(10163),U=n(41985),K=n(24647),X=n(21830),ee=n.n(X),te=n(89731),ne=n(23197),re=(n(69977),function(e){var t=e.attendance,n=e.course,a=e.batch,c=e.student_id,u=e.user_type,p=(0,l.useState)(""),Z=(0,s.Z)(p,2),v=Z[0],j=Z[1],f=(0,l.useState)(null),g=(0,s.Z)(f,2),b=g[0],y=g[1],_=(0,l.useState)(null),C=(0,s.Z)(_,2),W=C[0],I=C[1],E=(0,l.useState)([]),z=(0,s.Z)(E,2),L=z[0],T=z[1],B=(0,l.useState)(!1),A=(0,s.Z)(B,2),M=A[0],R=A[1],q=(0,l.useState)(new Date),X=(0,s.Z)(q,2),re=X[0],ie=X[1],se=(0,l.useState)(""),oe=(0,s.Z)(se,2),ae=oe[0],le=oe[1],ce=(0,l.useState)([]),de=(0,s.Z)(ce,2),ue=de[0],xe=de[1],he=(0,l.useState)([]),me=(0,s.Z)(he,2),pe=me[0],Ze=me[1],ve=(0,l.useState)(""),je=(0,s.Z)(ve,2),fe=je[0],ge=je[1],be=(0,l.useState)(""),ye=(0,s.Z)(be,2),_e=ye[0],we=ye[1],ke=(0,l.useState)(!1),Ce=(0,s.Z)(ke,2),Pe=Ce[0],Se=Ce[1],We=(0,l.useState)(""),Ie=(0,s.Z)(We,2),Ee=Ie[0],ze=Ie[1],Le=(0,l.useState)(""),Te=(0,s.Z)(Le,2),Be=Te[0],Ae=Te[1],Me=JSON.parse(localStorage.getItem("auth")),Re=null===Me||void 0===Me?void 0:Me.loginType;(0,l.useEffect)((function(){if(t){var e=t.map((function(e,t){return(0,o.Z)((0,o.Z)({},e),{},{sno:t+1})}));T(e)}n&&xe(n),a&&Ze(a)}),[t,n,a]);var qe=function(e){var t=new Date(e);return t.setHours(0,0,0,0),t},Fe=L.filter((function(e){var t=e.date?qe(e.date):null,n=b?qe(b):null,r=W?qe(W):null,i=e.status&&e.status.toLowerCase().includes(v.toLowerCase())||e.course_name&&e.course_name.toLowerCase().includes(v.toLowerCase())||e.batch_name&&e.batch_name.toLowerCase().includes(v.toLowerCase())||e.date&&e.date.toLowerCase().includes(v.toLowerCase());if(Ee&&e.course_id!==Ee.course_id)return!1;if(Be&&e.batch_id!==Be.batch_id)return!1;var s=!0;return t?n&&r?s=t>=n&&t<=r:n?s=t>=n:r&&(s=t<=r):s=!n&&!r,i&&s})),Oe=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){var t,n,i,s,o,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Pe){e.next=2;break}return e.abrupt("return");case 2:if(Se(!0),e.prev=3,"tutor"!==u){e.next=10;break}return e.next=7,te.Z.post("".concat(ne.t6,"api/trainer_attendance/").concat(c,"/adumneoie"),{trainer:c,status:fe,course:ae,batch:_e,date:re});case 7:t=e.sent,e.next=13;break;case 10:return e.next=12,te.Z.post("".concat(ne.t6,"api/attendance/").concat(c,"/adumneoie"),{student:c,status:fe,course:ae,batch:_e,date:re});case 12:t=e.sent;case 13:t.data.success?(n={sno:L.length+1,date:re,batch_name:t.data.data.batch_name,title:t.data.data.title,course_name:t.data.data.course_name,trainer:t.data.data.trainer||"",student:t.data.data.student||"",status:t.data.data.status},T([n].concat((0,F.Z)(L))||[]),ge(""),ee().fire({title:"Success!",text:t.data.message||"Attendance recorded successfully.",icon:"success",confirmButtonText:"OK"})):ee().fire({title:"Error!",text:(null===(i=t)||void 0===i||null===(s=i.data)||void 0===s?void 0:s.message)||"Error submitting Attendance data. Please try again.",icon:"error",confirmButtonText:"OK"}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),ee().fire({title:"Error!",text:(null===(o=e.t0.response)||void 0===o||null===(a=o.data)||void 0===a?void 0:a.message)||"Error submitting Attendance data. Please try again.",icon:"error",confirmButtonText:"OK"});case 19:return e.prev=19,Se(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[3,16,19,22]])})));return function(){return e.apply(this,arguments)}}(),Ne=(0,l.useMemo)((function(){return(0,S.jsxs)(d.Z,{sx:{p:2,display:"flex",flexWrap:"wrap",gap:2,alignItems:"center",flexDirection:{xs:"column",sm:"row"},"& > *":{width:{xs:"100%",sm:"auto"}}},children:[(0,S.jsx)(O.Z,{placeholder:"Search...",variant:"outlined",size:"small",value:v,onChange:function(e){return j(e.target.value)},InputProps:{startAdornment:(0,S.jsx)(N.Z,{position:"start",children:(0,S.jsx)($.Z,{size:20})}),endAdornment:(0,S.jsx)(N.Z,{position:"end",children:v&&(0,S.jsx)(m.Z,{onClick:function(){return j("")},edge:"end",size:"small",children:(0,S.jsx)(J.Z,{size:20})})})},sx:{minWidth:{xs:"100%",sm:200},flex:{xs:"1 1 auto",sm:"0 1 auto"}}}),(0,S.jsx)(H.Z,{id:"course_id",options:n||[],getOptionLabel:function(e){return e.course_name||""},value:Ee,onChange:function(e,t){ze(t)},size:"small",sx:{width:{xs:"100%",sm:180},minWidth:{xs:"100%",sm:180},flex:{xs:"1 1 auto",sm:"0 1 auto"}},renderInput:function(e){return(0,S.jsx)(O.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Filter by course...",InputProps:(0,o.Z)({},e.InputProps)}))},filterOptions:function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(t){var n;return null===(n=t.course_name)||void 0===n?void 0:n.toLowerCase().includes(e.inputValue.toLowerCase())}))},isOptionEqualToValue:function(e,t){return e.course_id===t.course_id},renderOption:function(e,t){return(0,l.createElement)("li",(0,o.Z)((0,o.Z)({},e),{},{key:t.course_id}),t.course_name)}}),(0,S.jsx)(H.Z,{id:"batch_id",options:a||[],getOptionLabel:function(e){return e.title||""},value:Be,onChange:function(e,t){Ae(t)},size:"small",sx:{width:{xs:"100%",sm:180},minWidth:{xs:"100%",sm:180},flex:{xs:"1 1 auto",sm:"0 1 auto"}},renderInput:function(e){return(0,S.jsx)(O.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Filter by batch...",InputProps:(0,o.Z)({},e.InputProps)}))},filterOptions:function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(t){var n;return null===(n=t.title)||void 0===n?void 0:n.toLowerCase().includes(e.inputValue.toLowerCase())}))},isOptionEqualToValue:function(e,t){return e.batch_id===t.batch_id},renderOption:function(e,t){return(0,l.createElement)("li",(0,o.Z)((0,o.Z)({},e),{},{key:t.batch_id}),t.title)}}),(0,S.jsxs)(d.Z,{sx:{display:"flex",gap:2,width:{xs:"100%",sm:"auto"},flexDirection:{xs:"column",sm:"row"}},children:[(0,S.jsx)(w._,{dateAdapter:k.H,children:(0,S.jsx)(U.M,{label:"From Date",value:b,onChange:function(e){return y(e)},renderInput:function(e){return(0,S.jsx)(O.Z,(0,o.Z)((0,o.Z)({},e),{},{size:"small",sx:{width:{xs:"100%",sm:150}}}))}})}),(0,S.jsx)(w._,{dateAdapter:k.H,children:(0,S.jsx)(U.M,{label:"To Date",value:W,onChange:function(e){return I(e)},renderInput:function(e){return(0,S.jsx)(O.Z,(0,o.Z)((0,o.Z)({},e),{},{size:"small",sx:{width:{xs:"100%",sm:150}}}))}})})]}),(b||W||v||Ee||Be)&&(0,S.jsx)(m.Z,{onClick:function(){(v||b||W)&&(R(!M),j(""),y(null),I(null))},edge:"end",size:"small",title:"Clear Filters",sx:{alignSelf:{xs:"flex-start",sm:"center"},mt:{xs:1,sm:0}},children:(0,S.jsx)(J.Z,{size:20})})]})}),[v,b,W,Ee,Be,n,a,M]),He=[{name:"S.No",selector:function(e){return e.sno},sortable:!0},"tutor"===u?{name:"Tutor ID",selector:function(e){return e.trainer},sortable:!0}:{name:"Student ID",selector:function(e){return e.student},sortable:!0},{name:"Batch",selector:function(e){return e.new_batch_title},sortable:!0},{name:"Course",selector:function(e){return e.course_name},sortable:!0},{name:"Date & Time",selector:function(e){return(0,P.o)(e.date)},sortable:!0},{name:"Status",selector:function(e){return e.status},sortable:!0,width:"150px"}];return(0,S.jsxs)(x.ZP,{container:!0,sx:{minHeight:"50vh",pl:3},children:[("admin"===Re||"super_admin"===Re)&&(0,S.jsxs)(x.ZP,{container:!0,sx:{minHeight:{xs:"50vh",md:"50vh",lg:"40vh"}},children:[(0,S.jsxs)(x.ZP,{container:!0,item:!0,xs:12,alignItems:"center",children:[(0,S.jsx)(x.ZP,{item:!0,xs:12,md:4,sx:{pl:{xs:0,md:3}},children:(0,S.jsx)(h.Z,{spacing:2,direction:"row",alignItems:"center",justifyContent:"center",children:(0,S.jsx)(D.Z,{children:"Date & Time *"})})}),(0,S.jsx)(x.ZP,{item:!0,xs:12,md:8,children:(0,S.jsx)(w._,{dateAdapter:k.H,children:(0,S.jsx)(K.x,{label:"Attendance Date & Time",value:re,format:"dd-MM-yyyy hh:mm a",onChange:ie,renderInput:function(e){return(0,S.jsx)(O.Z,(0,o.Z)({fullWidth:!0,size:"small"},e))},sx:{width:{xs:"100%",sm:300,md:400},maxWidth:"100%"}})})})]}),(0,S.jsxs)(x.ZP,{container:!0,item:!0,xs:12,alignItems:"center",children:[(0,S.jsx)(x.ZP,{item:!0,xs:12,md:4,sx:{pl:{xs:0,md:3}},children:(0,S.jsx)(h.Z,{spacing:2,direction:"row",alignItems:"center",justifyContent:"center",children:(0,S.jsx)(D.Z,{children:"Course *"})})}),(0,S.jsx)(x.ZP,{item:!0,xs:12,md:8,children:(0,S.jsxs)(Y.Z,{value:ae,onChange:function(e){var t=e.target.value;if(le(t),a){var n=a.filter((function(e){return e.course_trainer_assignments&&e.course_trainer_assignments&&e.course_trainer_assignments[0].course_id===t}));Ze(n)}},displayEmpty:!0,fullWidth:!0,sx:{width:{xs:"100%",sm:300,md:400},maxWidth:"100%"},children:[(0,S.jsx)(V.Z,{value:"",children:"Select Course"}),null===ue||void 0===ue?void 0:ue.map((function(e){return(0,S.jsx)(V.Z,{value:e.course_id||e.course,children:e.course_name},e.course_id||e.course)}))]})})]}),(0,S.jsxs)(x.ZP,{container:!0,item:!0,xs:12,alignItems:"center",children:[(0,S.jsx)(x.ZP,{item:!0,xs:12,md:4,sx:{pl:{xs:0,md:3}},children:(0,S.jsx)(h.Z,{spacing:2,direction:"row",alignItems:"center",justifyContent:"center",children:(0,S.jsx)(D.Z,{children:"Batch *"})})}),(0,S.jsx)(x.ZP,{item:!0,xs:12,md:8,children:(0,S.jsxs)(Y.Z,{value:_e,onChange:function(e){return we(e.target.value)},displayEmpty:!0,fullWidth:!0,sx:{width:{xs:"100%",sm:300,md:400},maxWidth:"100%"},children:[(0,S.jsx)(V.Z,{value:"",children:"Select Batch"}),null===pe||void 0===pe?void 0:pe.map((function(e){return(0,S.jsx)(V.Z,{value:e.batch_id,children:e.title},e.batch_id)}))]})})]}),(0,S.jsxs)(x.ZP,{container:!0,item:!0,xs:12,alignItems:"center",children:[(0,S.jsx)(x.ZP,{item:!0,xs:12,md:4,sx:{pl:{xs:0,md:3}},children:(0,S.jsx)(h.Z,{spacing:2,direction:"row",alignItems:"center",justifyContent:"center",children:(0,S.jsx)(D.Z,{children:"Status *"})})}),(0,S.jsx)(x.ZP,{item:!0,xs:12,md:8,children:(0,S.jsxs)(Y.Z,{value:fe,onChange:function(e){return ge(e.target.value)},displayEmpty:!0,fullWidth:!0,sx:{width:{xs:"100%",sm:300,md:400},maxWidth:"100%"},children:[(0,S.jsx)(V.Z,{value:"",children:"Select Status"}),["Login","Logout","Break Out","Break In"].map((function(e){return(0,S.jsx)(V.Z,{value:e,children:e},e)}))]})})]}),(0,S.jsx)(x.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"center"},children:(0,S.jsx)(Q.Z,{variant:"contained",onClick:Oe,disabled:!(fe&&ae&&_e&&re),sx:{height:"40px",width:{xs:"60%",sm:120,md:150},mt:1},children:Pe?"Submitting...":"Submit"})})]}),Ne,(0,S.jsx)(x.ZP,{item:!0,xs:12,children:(0,S.jsx)(G.ZP,{columns:He,data:Fe,pagination:!0,paginationPerPage:10,paginationRowsPerPageOptions:[5,10,20,30],highlightOnHover:!0,responsive:!0})})]})}),ie=n(9585),se=n(4729),oe=n(56125),ae=n(5574),le=n(65661),ce=n(39157),de=n(17133),ue=n(97123),xe=(n(3321),n(25646),n(5534)),he=function(e){var t=e.topics,n=e.completedTopics,r=(0,l.useState)(null),i=(0,s.Z)(r,2),o=i[0],a=i[1],c=(0,l.useState)(!1),p=(0,s.Z)(c,2),Z=p[0],v=p[1],j=(0,l.useState)(null),g=(0,s.Z)(j,2),b=g[0],y=g[1],_=t||[],w=function(e,t){var r,i=e.topic_id,s=e.course;if(!i)return null;var l=o===e.topic_id,c=function(e,t){return null===n||void 0===n?void 0:n.some((function(n){return n.course_id===e&&n.topic===t}))}(s,i);return(0,S.jsxs)(E.Z,{sx:{cursor:"pointer",display:"flex",flexDirection:"column",transition:"all 0.3s ease",border:"1px solid",borderColor:"divider",borderRadius:3,"&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 24px rgba(0,0,0,0.15)",borderColor:"secondary.light"},mb:2,ml:4},children:[(0,S.jsx)(ie.Z,{title:(0,S.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:1},children:[(0,S.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",justifyContent:"space-between",gap:1},children:[(0,S.jsx)(u.Z,{variant:"body1",children:"Title ".concat(t+1,": ").concat((0,C.Z)(e.title))}),c&&(0,S.jsx)(xe.Z,{size:30,color:"green"}),(0,S.jsx)(se.Z,{value:c?null===n||void 0===n||null===(r=n.find((function(t){return t.topic===e.topic_id})))||void 0===r?void 0:r.ratings:null,readOnly:!0})]}),(0,S.jsx)(d.Z,{children:c&&(0,S.jsx)(m.Z,{size:"small",onClick:function(e){e.stopPropagation(),function(e,t){var r=null===n||void 0===n?void 0:n.find((function(n){return n.course_id===e&&n.topic===t}));y((null===r||void 0===r?void 0:r.notes)||"No notes available"),v(!0)}(s,i)},children:(0,S.jsx)(f.Z,{size:20,color:"#666"})})})]}),onClick:function(){return function(e){a(o===e?null:e)}(e.topic_id)},sx:{cursor:"pointer"}}),(0,S.jsx)(oe.Z,{in:l,timeout:"auto",unmountOnExit:!0,children:(0,S.jsx)(z.Z,{children:(0,S.jsx)(d.Z,{sx:{"& h1, & h2, & h3":{margin:"1em 0"},"& p":{margin:"0 0 1em 0"},"& ul, & ol":{margin:"0 0 1em 1em",paddingLeft:"2em"}},dangerouslySetInnerHTML:{__html:e.description}})})})]},e.topic_id)};return(0,S.jsxs)(x.ZP,{container:!0,sx:{minHeight:"50vh"},children:[(0,S.jsx)(x.ZP,{item:!0,xs:12,padding:3,children:_.length>0?(0,S.jsx)(x.ZP,{container:!0,spacing:3,children:_.map((function(e){return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(x.ZP,{item:!0,xs:12,children:(0,S.jsx)(u.Z,{variant:"h5",gutterBottom:!0,sx:{backgroundColor:"background.paper",padding:2,borderRadius:1,borderLeft:"4px solid",borderColor:"primary.main",boxShadow:1,mb:3},children:e.course_name||"Unnamed Course"})},e.id),(0,S.jsx)(x.ZP,{item:!0,container:!0,xs:12,children:e.topic&&e.topic.length>0?e.topic.map((function(e,t){return(0,S.jsx)(x.ZP,{item:!0,xs:12,sm:6,children:w(e,t)},e.course)})):(0,S.jsx)(u.Z,{variant:"body2",color:"textSecondary",children:"No topics available for this course"})},e.id)]})}))}):(0,S.jsx)(x.ZP,{item:!0,xs:12,children:(0,S.jsx)(E.Z,{sx:{p:3,textAlign:"center"},children:(0,S.jsx)(u.Z,{variant:"h6",color:"text.secondary",children:"No courses with topics available."})})})}),(0,S.jsxs)(ae.Z,{maxWidth:"xs",keepMounted:!0,fullWidth:!0,open:Z,onClose:function(){return v(!1)},"aria-labelledby":"login-details-dialog",children:[(0,S.jsx)(le.Z,{children:"Student Feedback"}),(0,S.jsx)(ce.Z,{children:(0,S.jsx)(x.ZP,{container:!0,spacing:2,sx:{mt:2},children:(0,S.jsx)(x.ZP,{item:!0,xs:12,children:(0,S.jsxs)(h.Z,{spacing:1,children:[(0,S.jsx)(de.Z,{children:"Note"}),(0,S.jsx)(O.Z,{fullWidth:!0,placeholder:"No note available",name:"notes",value:b,rows:4,multiline:!0,InputProps:{readOnly:!0}})]})})})}),(0,S.jsx)(ue.Z,{sx:{paddingRight:3,paddingBottom:2},children:(0,S.jsx)(Q.Z,{onClick:function(){return v(!1)},variant:"text",children:"close"})})]})]})},me=n(13239),pe=n(35527),Ze=n(90493),ve=n(15021),je=n(49900),fe=n(81918),ge=n(94721),be=n(20653),ye=n(93044),_e=n(23311),we=function(e){var t=e.data,n=(0,l.useState)([]),r=(0,s.Z)(n,2),i=r[0],o=r[1],a=(0,l.useState)(null),c=(0,s.Z)(a,2),h=c[0],m=c[1],p=(0,l.useState)(""),Z=(0,s.Z)(p,2),v=Z[0],j=Z[1],f=(0,l.useState)(!0),g=(0,s.Z)(f,2),b=g[0],y=g[1],_=JSON.parse(localStorage.getItem("auth")),W=null===_||void 0===_?void 0:_.loginType;(0,l.useEffect)((function(){t&&(o(t),y(!1))}),[t]);var I=Array.isArray(i)?i.find((function(e){return e.id===h})):null;return b?(0,S.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",flexDirection:"column",zIndex:1,gap:2},children:[(0,S.jsx)(me.Z,{size:60,thickness:4}),(0,S.jsx)(u.Z,{variant:"h6",children:"Loading exercises..."})]}):(0,S.jsx)(w._,{dateAdapter:k.H,children:(0,S.jsxs)(x.ZP,{container:!0,spacing:3,sx:{p:3},children:[(0,S.jsx)(x.ZP,{item:!0,xs:12,md:4,children:(0,S.jsxs)(pe.Z,{elevation:2,sx:{p:2,minHeight:"100%"},children:[(0,S.jsxs)(x.ZP,{spacing:3,sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:[(0,S.jsx)(d.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:(0,S.jsx)(u.Z,{variant:"h6",children:"Exercises"})}),("admin"===W||"employer"===W||"super_admin"===W)&&(0,S.jsx)(d.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:2},children:(0,S.jsxs)(Y.Z,{labelId:"course-select-label",id:"course-select",size:"small",value:v||"",onChange:function(e){j(e.target.value)},sx:{minWidth:200},displayEmpty:!0,children:[(0,S.jsx)(V.Z,{value:"",children:"Select a course"}),i.filter((function(e,t,n){return t===n.findIndex((function(t){return t.course.course_id===e.course.course_id}))})).map((function(e){return(0,S.jsx)(V.Z,{value:e.course.course_id,children:e.course.course_name},e.course.course_id)}))]})})]}),(0,S.jsx)(Ze.Z,{dense:!0,sx:{maxHeight:"600px",overflowY:"hidden","&:hover":{overflowY:"auto"},"&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&:hover::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"transparent",borderRadius:"4px"},"&:hover::-webkit-scrollbar-thumb":{background:"#888"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"},pr:1,transition:"overflow 0.2s ease"},children:i.filter((function(e){return e.course.course_id===v||""===v})).map((function(e){return(0,S.jsx)(pe.Z,{elevation:e.id===h?3:1,sx:{mb:2,cursor:"pointer",border:"1px solid",borderColor:"divider",backgroundColor:e.id===h?"#e3f2fd":"inherit","&:hover":{backgroundColor:"#f5f5f5",transform:"translateY(-4px)",borderColor:"secondary.light"},borderRadius:2,transition:"all 0.2s ease",position:"relative",minHeight:120},onClick:function(){return m(e.id)},children:(0,S.jsx)(ve.ZP,{sx:{py:1.5,pr:6},children:(0,S.jsx)(je.Z,{primary:(0,S.jsx)(d.Z,{sx:{display:"flex",alignItems:"center",mb:.5},children:(0,S.jsx)(u.Z,{variant:"subtitle1",fontWeight:"medium",children:e.title})}),secondary:(0,S.jsxs)(S.Fragment,{children:[e.description&&(0,S.jsx)(u.Z,{variant:"body2",color:"text.secondary",sx:{mb:1.5,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},children:(0,S.jsx)("div",{dangerouslySetInnerHTML:{__html:e.description}})}),(0,S.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",mt:1.5},children:[(0,S.jsxs)(u.Z,{variant:"caption",color:"text.secondary",sx:{mr:1.5},children:[(0,S.jsx)(d.Z,{component:"span",sx:{fontWeight:500},children:e.submissions.length})," ","submission",1!==e.submissions.length?"s":""]}),e.submissions.some((function(e){return e.replies.length>0}))&&(0,S.jsx)(fe.Z,{label:"Feedback available",size:"small",color:"success",variant:"outlined",sx:{height:20,fontSize:"0.7rem"}})]})]})})})},e.id)}))})]})}),(0,S.jsx)(x.ZP,{item:!0,xs:12,md:8,children:I?(0,S.jsxs)(pe.Z,{elevation:2,sx:{p:3,height:"100%"},children:[(0,S.jsx)(d.Z,{sx:{display:"flex",gap:3,maxWidth:"1200px",margin:"0 auto",alignItems:"flex-start"},children:(0,S.jsxs)(d.Z,{sx:{flex:1,minWidth:0,maxWidth:"100%"},children:[(0,S.jsx)(u.Z,{variant:"h5",gutterBottom:!0,children:I.title}),(0,S.jsx)(d.Z,{dangerouslySetInnerHTML:{__html:I.description},sx:{"& p":{marginBottom:"1em"},"& h1, & h2, & h3":{marginTop:"1em",marginBottom:"0.5em"},maxHeight:"400px",overflowY:"auto",pr:2}})]})}),(0,S.jsx)(ge.Z,{sx:{my:3}}),(0,S.jsx)(u.Z,{variant:"h6",gutterBottom:!0,children:"Submissions"}),I.submissions.length>0?(0,S.jsx)(Ze.Z,{dense:!0,sx:{maxHeight:"600px",overflowY:"hidden","&:hover":{overflowY:"auto"},"&::-webkit-scrollbar":{width:"5px"},"&::-webkit-scrollbar-track":{background:"transparent"},"&:hover::-webkit-scrollbar-track":{background:"#f1f1f1"},"&::-webkit-scrollbar-thumb":{background:"transparent",borderRadius:"4px"},"&:hover::-webkit-scrollbar-thumb":{background:"#888"},"&::-webkit-scrollbar-thumb:hover":{background:"#555"},pr:1,transition:"overflow 0.2s ease"},children:I.submissions.map((function(e){var t,n;return(0,S.jsxs)(d.Z,{sx:{mb:3},children:[(0,S.jsxs)(ve.ZP,{alignItems:"flex-start",children:[(0,S.jsx)(be.Z,{children:(0,S.jsx)(ye.Z,{children:e.student?e.student.profile_pic?(0,S.jsx)("img",{src:"".concat(e.student.profile_pic),alt:"Profile",className:"profile-pic"}):(0,S.jsx)("span",{style:{fontSize:"1rem"},children:(null===(t=e.student.first_name)||void 0===t?void 0:t.charAt(0))||"?"}):(0,S.jsx)("span",{children:"?"})})}),(0,S.jsx)(je.Z,{primary:(0,C.Z)(e.student.first_name),secondary:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.Z,{variant:"body2",color:"text.primary",children:e.text}),e.file_url&&(0,S.jsx)(d.Z,{sx:{mt:1},children:(0,S.jsx)(fe.Z,{icon:(0,S.jsx)(_e.Z,{fontSize:"small"}),label:e.file_url.split("/").pop(),variant:"outlined",sx:{mr:1,cursor:"pointer"},onClick:function(){window.open(e.file_url,"_blank");var t=e.file_url.split("/").pop(),n=document.createElement("a");n.href=e.file_url,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}})}),(0,S.jsx)(u.Z,{variant:"caption",display:"block",sx:{mt:1},children:(0,P.o)(e.date)})]})})]}),e.replies.length>0&&(0,S.jsx)(Ze.Z,{sx:{pl:6},children:null===(n=e.replies)||void 0===n?void 0:n.map((function(e){var t,n,r;return(0,S.jsxs)(ve.ZP,{alignItems:"flex-start",children:[(0,S.jsx)(be.Z,{children:(0,S.jsx)(ye.Z,{children:e.trainer?e.trainer.profile_pic?(0,S.jsx)("img",{src:"".concat(e.trainer.profile_pic),alt:"Profile",className:"profile-pic"}):(0,S.jsx)("span",{style:{fontSize:"1rem"},children:(null===(t=e.trainer)||void 0===t||null===(n=t.full_name)||void 0===n?void 0:n.charAt(0))||"?"}):(0,S.jsx)("span",{children:"?"})})}),(0,S.jsx)(je.Z,{primary:(0,C.Z)(null===(r=e.trainer)||void 0===r?void 0:r.full_name),secondary:(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.Z,{variant:"body2",color:"text.primary",children:e.text}),(0,S.jsx)(u.Z,{variant:"caption",display:"block",sx:{mt:1},children:(0,P.o)(e.date)})]})})]},e.id)}))})]},e.id)}))}):(0,S.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:"No submissions yet."})]}):(0,S.jsx)(pe.Z,{elevation:2,sx:{p:3,height:"100%",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,S.jsx)(u.Z,{variant:"body1",color:"text.secondary",children:0===i.length?"No exercises available":"Select an exercise to view details"})})})]})})},ke=n(64370),Ce=n(62634),Pe=n(17139),Se=n(2314),We=n(36277),Ie=n(8007),Ee=function(e){var t=e.StuId,n=(0,l.useState)([]),o=(0,s.Z)(n,2),a=o[0],c=o[1],d=(0,l.useState)(!1),p=(0,s.Z)(d,2),Z=p[0],v=p[1],j=(0,l.useState)(null),f=(0,s.Z)(j,2),g=f[0],b=f[1],y=(0,l.useState)(!1),_=(0,s.Z)(y,2),w=_[0],k=_[1],C=JSON.parse(localStorage.getItem("auth")),W=null===C||void 0===C?void 0:C.loginType,I=Ie.Ry({topic:Ie.Z_().required("Topic is required"),recording:Ie.Z_().required("Recording URL is required")}),T=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,i){var s,o,l,c,d,u,x,h;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i.resetForm,!w){e.next=3;break}return e.abrupt("return");case 3:return k(!0),e.prev=4,o=null!==g?"".concat(ne.t6,"api/recordings/").concat(t,"/").concat(a[g].id):"".concat(ne.t6,"api/recordings/").concat(t),l=null!==g?"patch":"post",c={topic:n.topic,recording:n.recording,student:t},e.next=10,te.Z[l](o,c);case 10:d=e.sent,u=d.data,x=u.success,h=u.message,x?(ee().fire({title:"Success!",text:h,icon:"success"}),A(),R(),s()):ee().fire({title:"Error!",text:h,icon:"error"}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(4),ee().fire({title:"Error!",text:e.t0.message,icon:"error"}),console.error("Error submitting data:",e.t0);case 19:return e.prev=19,k(!1),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[4,15,19,22]])})));return function(t,n){return e.apply(this,arguments)}}(),B=(0,We.TA)({initialValues:{topic:"",recording:""},validationSchema:I,enableReinitialize:!0,onSubmit:T}),A=(0,l.useCallback)((0,i.Z)((0,r.Z)().mark((function e(){var n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,te.Z.get("".concat(ne.t6,"api/recordings/").concat(t));case 3:n=e.sent,i=n.data,c((null===i||void 0===i?void 0:i.data)||[]),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.error("Error fetching data:",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),[t]);(0,l.useEffect)((function(){A()}),[A]);var M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;b(e),null!==e?B.setValues({topic:a[e].topic,recording:a[e].recording}):B.resetForm(),v(!0)},R=function(){v(!1),b(null),k(!1),B.resetForm()},q=(0,l.useCallback)(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n){var i,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ee().fire({title:"Are you sure?",text:"Delete this recording?",icon:"warning",showCancelButton:!0,confirmButtonText:"Yes, delete it!"});case 2:if(!e.sent.isConfirmed){e.next=15;break}return e.prev=4,e.next=7,te.Z.patch("".concat(ne.t6,"api/recordings/").concat(t,"/").concat(n,"/archive"),{method:"PATCH"});case 7:i=e.sent,!0===(s=i.data).success?(A(),ee().fire("Deleted!",s.message,"success")):ee().fire("Error!",s.message,"error"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),ee().fire("Error!","Failed to delete.","error");case 15:case"end":return e.stop()}}),e,null,[[4,12]])})));return function(t){return e.apply(this,arguments)}}(),[t,A]);return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(x.ZP,{container:!0,spacing:2,pl:3,alignItems:"flex-start",children:[(0,S.jsxs)(x.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"space-between"},children:[(0,S.jsx)(u.Z,{variant:"h5",children:"Recordings"}),("admin"===W||"super_admin"===W)&&(0,S.jsx)(Q.Z,{variant:"contained",startIcon:(0,S.jsx)(ke.Z,{}),onClick:function(){return M()},children:"Add"})]}),a&&a.length>0?a.map((function(e,t){return(0,S.jsx)(x.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,S.jsxs)(E.Z,{sx:{cursor:"pointer",height:"100%",display:"flex",flexDirection:"column",transition:"all 0.3s ease",border:"1px solid",borderColor:"divider",borderRadius:3,"&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 24px rgba(0,0,0,0.15)",borderColor:"secondary.light"}},children:[(0,S.jsxs)(z.Z,{children:[(0,S.jsxs)(u.Z,{variant:"h6",fontWeight:500,children:["Title : ",e.topic]}),(0,S.jsx)(u.Z,{variant:"body2",color:"text.secondary",fontWeight:400,children:(0,P.o)(e.created_date)}),(0,S.jsx)(u.Z,{variant:"body2",component:"a",href:e.recording,target:"_blank",rel:"noopener noreferrer",sx:{display:"block",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",color:"primary.main",my:1,fontSize:14,fontWeight:400},children:e.recording})]}),("admin"===W||"super_admin"===W)&&(0,S.jsxs)(L.Z,{sx:{justifyContent:"space-between"},children:[(0,S.jsx)(m.Z,{onClick:function(){return M(t)},children:(0,S.jsx)(Ce.Z,{})}),(0,S.jsx)(m.Z,{onClick:function(){return q(e.id)},children:(0,S.jsx)(Pe.Z,{color:"red"})})]})]})},e._id||t)})):(0,S.jsx)(x.ZP,{item:!0,xs:12,children:(0,S.jsx)(E.Z,{sx:{p:3,textAlign:"center"},children:(0,S.jsx)(u.Z,{variant:"h6",color:"text.secondary",children:"No recordings there to show"})})})]}),(0,S.jsxs)(ae.Z,{maxWidth:"sm",TransitionComponent:Se.S,keepMounted:!0,fullWidth:!0,open:Z,onClose:R,sx:{"& .MuiDialog-paper":{p:0},transition:"transform 225ms"},children:[(0,S.jsxs)(le.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[null!==g?"Edit Recording":"Add New Recording",(0,S.jsx)(m.Z,{onClick:R,edge:"end",children:(0,S.jsx)(J.Z,{height:30})})]}),(0,S.jsx)(ce.Z,{children:(0,S.jsx)("form",{onSubmit:B.handleSubmit,style:{padding:"20px"},children:(0,S.jsxs)(x.ZP,{container:!0,spacing:3,children:[(0,S.jsx)(x.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsxs)(h.Z,{spacing:1,children:[(0,S.jsx)(de.Z,{children:"Topic"}),(0,S.jsx)(O.Z,{fullWidth:!0,id:"topic",name:"topic",placeholder:"Topic",value:B.values.topic,onChange:B.handleChange,onBlur:B.handleBlur,error:B.touched.topic&&Boolean(B.errors.topic),helperText:B.touched.topic&&B.errors.topic})]})}),(0,S.jsx)(x.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsxs)(h.Z,{spacing:1,children:[(0,S.jsx)(de.Z,{children:"Recording URL"}),(0,S.jsx)(O.Z,{fullWidth:!0,id:"recording",name:"recording",placeholder:"Recording URL",value:B.values.recording,onChange:B.handleChange,onBlur:B.handleBlur,error:B.touched.recording&&Boolean(B.errors.recording),helperText:B.touched.recording&&B.errors.recording})]})}),(0,S.jsxs)(x.ZP,{item:!0,xs:12,sx:{display:"flex",justifyContent:"flex-end"},children:[(0,S.jsx)(Q.Z,{color:"error",onClick:R,sx:{mr:2},disabled:w,children:"Cancel"}),(0,S.jsx)(Q.Z,{type:"submit",variant:"contained",disabled:w,children:w?"Submitting...":null!==g?"Update":"Submit"})]})]})})})]})]})},ze=n(4942),Le=n(94070),Te=n(70242),Be=n(74512),Ae=n(55261),Me=n(13461),Re=n(68096),qe=n(88970),Fe=n(85523),Oe=n(61419),Ne=n(82167),He=n(96739),De=n(41946),Ye=n(74223),Ve=(0,Ye.Z)((0,S.jsx)("path",{d:"M16.59 7.58 10 14.17l-3.59-3.58L5 12l5 5 8-8zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"CheckCircleOutline"),Qe=n(40318),Ge=(0,Ye.Z)((0,S.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),$e=n(95683),Je=function(e){var t,n,a=e.course,c=e.student_id,p=(0,l.useState)([]),Z=(0,s.Z)(p,2),v=Z[0],j=Z[1],f=(0,l.useState)(null),g=(0,s.Z)(f,2),b=g[0],y=g[1],w=(0,l.useState)(null),k=(0,s.Z)(w,2),C=k[0],P=k[1],W=(0,l.useState)(0),I=(0,s.Z)(W,2),T=I[0],B=I[1],A=(0,l.useState)({}),M=(0,s.Z)(A,2),R=M[0],q=M[1],F=(0,l.useState)(null),D=(0,s.Z)(F,2),Y=D[0],V=D[1],G=(0,l.useState)(!1),$=(0,s.Z)(G,2),J=$[0],U=$[1],K=(0,l.useState)(!1),X=(0,s.Z)(K,2),ee=X[0],re=X[1],ie=(0,l.useState)(!1),se=(0,s.Z)(ie,2),oe=se[0],ae=se[1],le=(0,l.useState)(!1),ce=(0,s.Z)(le,2),ue=ce[0],xe=ce[1],he=(0,l.useState)(""),Ze=(0,s.Z)(he,2),ve=Ze[0],je=Ze[1],be=(0,l.useState)(null),ye=(0,s.Z)(be,2),_e=ye[0],we=ye[1],ke=l.useMemo((function(){return null===a||void 0===a?void 0:a.map((function(e){return e.course_id}))}),[a]),Ce=(0,l.useCallback)((0,i.Z)((0,r.Z)().mark((function e(){var t,n,i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,U(!0),V(null),t=ke.map((function(e){return te.Z.get("".concat(ne.t6,"api/test/course/").concat(e))})),e.next=6,Promise.all(t);case 6:n=e.sent,i=n.flatMap((function(e){return e.data.tests||[]})),j(i),ae(!0),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),console.error("Error fetching assessment data:",e.t0),V("Failed to load tests. Please try again later.");case 16:return e.prev=16,U(!1),e.finish(16);case 19:case"end":return e.stop()}}),e,null,[[0,12,16,19]])}))),[ke]),Pe=(0,l.useMemo)((function(){return v.filter((function(e){var t,n,r;if(!e)return!1;var i=!ve||(null===(t=e.course_name)||void 0===t?void 0:t.toLowerCase().includes(ve.toLowerCase()))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(ve.toLowerCase()))||(null===(r=e.test_name)||void 0===r?void 0:r.toLowerCase().includes(ve.toLowerCase())),s=!_e||e.course_id===_e.course_id;return i&&s}))}),[v,_e,ve]),Se=(0,l.useCallback)(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var n,i,s,o,a;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,U(!0),V(null),e.next=5,te.Z.get("".concat(ne.t6,"api/test/").concat(t.test_id,"/student/").concat(c,"/answers"));case 5:if(n=e.sent,(i=n.data.data)&&i.length){e.next=11;break}return V("No assessment data found for this student."),P(null),e.abrupt("return");case 11:s={},o=i.map((function(e){var t=e.question,n=e.submitted_answer;return{question_id:null===t||void 0===t?void 0:t.question_id,question:(null===t||void 0===t?void 0:t.question)||"",type:(null===t||void 0===t?void 0:t.type)||"written",options:(null===t||void 0===t?void 0:t.options)||[],marks:(null===t||void 0===t?void 0:t.marks)||1,mcq_correct_answer:(null===t||void 0===t?void 0:t.mcq_correct_answer)||"",submitted_answer:{answer_id:(null===n||void 0===n?void 0:n.answer_id)||null,selected_option:(null===n||void 0===n?void 0:n.selected_option)||"",written_answer:(null===n||void 0===n?void 0:n.written_answer)||"",is_correct:(null===n||void 0===n?void 0:n.is_correct)||null}}})),q(s),a={id:t.test_id,title:t.test_name,questions:o},P(a),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),console.error("Error fetching test details:",e.t0),V("Failed to load test details. Please try again.");case 22:return e.prev=22,U(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[0,18,22,25]])})));return function(t){return e.apply(this,arguments)}}(),[c]);(0,l.useEffect)((function(){(null===ke||void 0===ke?void 0:ke.length)>0&&!oe&&Ce()}),[ke,oe,Ce]);var We=function(){var e=(0,i.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(C){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,re(!0),V(null),e.next=7,te.Z.post("".concat(ne.t6,"api/results/finalize/").concat(b.test_id,"/mark_and_finalize"),{student_id:c,test_id:b.test_id,score:Ee().score,answers:C.questions.map((function(e){return{answer_id:e.submitted_answer.answer_id,is_correct:R[e.question_id]}}))});case 7:e.sent.data.success?xe(!0):V("Failed to save evaluations. Please try again."),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(2),console.error("Error saving evaluations:",e.t0),V("An error occurred while saving. Please try again.");case 15:return e.prev=15,re(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,11,15,18]])})));return function(){return e.apply(this,arguments)}}(),Ie=function(){y(null),P(null),B(0),q({}),V(null),Ce(),xe(!1)},Ee=function(){if(!C)return{score:0,total:0};var e=0,t=0;return C.questions.forEach((function(n){!0===R[n.question_id]&&(e+=n.marks||1),t+=n.marks||1})),{score:e,total:t}};if(!b)return(0,S.jsxs)(d.Z,{sx:{p:3},children:[!Y&&(0,S.jsx)(u.Z,{variant:"h3",gutterBottom:!0,sx:{fontWeight:700,mb:2,textAlign:"center"},children:"Student Tests for Evaluation"}),!Y&&(0,S.jsx)(x.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",mb:2,spacing:2,children:(0,S.jsx)(x.ZP,{item:!0,xs:12,children:(0,S.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,S.jsx)(O.Z,{fullWidth:!0,size:"small",variant:"outlined",placeholder:"Search...",value:ve,onChange:function(e){return je(e.target.value)},InputProps:{startAdornment:(0,S.jsx)(N.Z,{position:"start",children:(0,S.jsx)(Ne.Z,{size:20})}),endAdornment:(0,S.jsx)(N.Z,{position:"end",children:ve&&(0,S.jsx)(m.Z,{onClick:function(){je("")},edge:"end",size:"small",children:(0,S.jsx)(He.Z,{size:20})})})},sx:{width:220}}),(0,S.jsx)(H.Z,{id:"course_id",options:a||[],getOptionLabel:function(e){return e.course_name||""},value:_e,onChange:function(e,t){we(t)},size:"small",sx:{maxWidth:250,flexGrow:1},renderInput:function(e){return(0,S.jsx)(O.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Filter by course...",InputProps:(0,o.Z)({},e.InputProps)}))},filterOptions:function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(t){var n;return null===(n=t.course_name)||void 0===n?void 0:n.toLowerCase().includes(e.inputValue.toLowerCase())}))},isOptionEqualToValue:function(e,t){return e.course_id===t.course_id},renderOption:function(e,t){return(0,l.createElement)("li",(0,o.Z)((0,o.Z)({},e),{},{key:t.course_id}),t.course_name)}})]})})}),Y?(0,S.jsxs)(pe.Z,{elevation:0,sx:{textAlign:"center",my:8,p:6,backgroundColor:"grey.50",borderRadius:3,border:"1px dashed",borderColor:"divider"},children:[(0,S.jsx)(De.Z,{sx:{fontSize:80,color:"error.main",mb:3,opacity:.7}}),(0,S.jsx)(u.Z,{variant:"h5",gutterBottom:!0,color:"text.secondary",children:"Error Loading Tests"}),(0,S.jsx)(u.Z,{variant:"body2",children:Y}),(0,S.jsx)(Q.Z,{variant:"outlined",onClick:Ce,sx:{mt:1},size:"small",children:"Try Again"})]}):J?(0,S.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",my:8,py:4},children:[(0,S.jsx)(me.Z,{size:60,thickness:4,sx:{mb:3}}),(0,S.jsx)(u.Z,{variant:"h6",color:"text.secondary",children:"Loading Assessment Tests..."})]}):0===Pe.length?(0,S.jsxs)(pe.Z,{elevation:0,sx:{textAlign:"center",my:8,p:6,backgroundColor:"grey.50",borderRadius:3,border:"1px dashed",borderColor:"divider"},children:[(0,S.jsx)(De.Z,{sx:{fontSize:80,color:"text.secondary",mb:3,opacity:.7}}),(0,S.jsx)(u.Z,{variant:"h5",gutterBottom:!0,color:"text.secondary",children:"No Tests Available for Evaluation"}),(0,S.jsx)(u.Z,{variant:"body1",color:"text.secondary",sx:{mb:4,maxWidth:500,mx:"auto"},children:"There are currently no tests requiring evaluation. Please check back later or contact the administrator."})]}):(0,S.jsx)(d.Z,{children:(0,S.jsx)(x.ZP,{container:!0,spacing:4,children:Pe.map((function(e){return(0,S.jsx)(x.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,S.jsxs)(E.Z,{sx:{cursor:"pointer",height:"100%",display:"flex",flexDirection:"column",borderRadius:3,border:"1px solid",borderColor:"divider",transition:"all 0.3s ease","&:hover":{boxShadow:"0 12px 24px rgba(0,0,0,0.15)",transform:"translateY(-6px)",borderColor:"secondary.light"}},children:[(0,S.jsxs)(z.Z,{sx:{p:3,flexGrow:1},children:[(0,S.jsxs)(d.Z,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexWrap:"wrap",mb:1},children:[(0,S.jsx)(u.Z,{variant:"h6",sx:{flex:1,fontWeight:600,lineHeight:1.3,wordBreak:"break-word",whiteSpace:"pre-line"},children:e.test_name}),(0,S.jsx)(fe.Z,{label:e.course_name,color:"secondary",size:"small",sx:{ml:2,backgroundColor:"secondary.light",color:"secondary.dark",fontWeight:600,alignSelf:"flex-end",flexShrink:0,whiteSpace:"nowrap"}})]}),(0,S.jsx)(u.Z,{variant:"body2",color:"text.secondary",gutterBottom:!0,sx:{display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden",minHeight:40},children:e.description||"Attend all the questions."}),(0,S.jsxs)(d.Z,{sx:{backgroundColor:"grey.50",p:2,borderRadius:2,border:"1px solid",borderColor:"divider"},children:[(0,S.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"space-between",mb:1.5},children:[(0,S.jsx)(d.Z,{sx:{display:"flex",alignItems:"center"},children:(0,S.jsx)(u.Z,{variant:"body2",sx:{ml:1,fontWeight:500},children:"Questions:"})}),(0,S.jsx)(u.Z,{variant:"body2",sx:{fontWeight:600},children:e.question_count})]}),(0,S.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,S.jsx)(d.Z,{sx:{display:"flex",alignItems:"center"},children:(0,S.jsx)(u.Z,{variant:"body2",sx:{ml:1,fontWeight:500},children:"Total Marks:"})}),(0,S.jsx)(u.Z,{variant:"body2",sx:{fontWeight:600},children:e.total_marks})]})]})]}),(0,S.jsx)(L.Z,{sx:{p:2,pt:0},children:e.students.map((function(t){return t.student_id===c?t.correction_done?(0,S.jsx)(l.Fragment,{children:(0,S.jsx)(fe.Z,{label:"Evaluated",size:"small",color:"success",variant:"outlined",sx:{fontWeight:600}})},t.student_id):(0,S.jsx)(Q.Z,{size:"small",onClick:function(){return function(e){y(e),V(null),Se(e)}(e)},sx:{fontWeight:600,color:"primary.main"},children:"Evaluate Tests"},t.student_id):null}))})]})},e.test_id)}))})})]});if(Y&&!C)return(0,S.jsxs)(d.Z,{sx:{p:3,maxWidth:800,margin:"0 auto",textAlign:"center"},children:[(0,S.jsx)(De.Z,{sx:{fontSize:60,color:"error.main",mb:2}}),(0,S.jsx)(u.Z,{variant:"h5",gutterBottom:!0,children:Y}),(0,S.jsx)(Q.Z,{variant:"contained",onClick:Ie,sx:{mt:2},children:"Return to Tests"})]});if(J||!C)return(0,S.jsxs)(d.Z,{sx:{p:3,textAlign:"center"},children:[(0,S.jsx)(me.Z,{sx:{mb:2}}),(0,S.jsx)(u.Z,{variant:"h6",children:"Loading assessment..."})]});var Ye=C.questions[T],Je=Ye.marks||1,Ue=Ee(),Ke=Ue.score,Xe=Ue.total;return(0,S.jsxs)(d.Z,{sx:{p:3,maxWidth:1e3,margin:"0 auto"},children:[Y&&(0,S.jsx)(Le.Z,{severity:"error",sx:{mb:2},children:Y}),ue&&(0,S.jsxs)(d.Z,{sx:{p:4,maxWidth:600,margin:"0 auto",textAlign:"center",borderRadius:3,display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#e6f4ea",boxShadow:"0 4px 12px rgba(0, 128, 0, 0.15)"},children:[(0,S.jsx)(Ve,{color:"success",sx:{fontSize:80,mb:2}}),(0,S.jsx)(u.Z,{variant:"h6",sx:{mb:3,fontWeight:"600",color:"#2e7d32"},children:"Evaluation saved successfully!"}),(0,S.jsx)(Q.Z,{variant:"contained",color:"success",onClick:Ie,startIcon:(0,S.jsx)(_.Z,{}),sx:{fontWeight:600,px:4,py:1.5,fontSize:"1rem",textTransform:"none",borderRadius:2,boxShadow:"0 3px 8px rgba(39, 99, 42, 0.5)","&:hover":{backgroundColor:"#27632a",boxShadow:"0 6px 20px rgba(39, 99, 42, 0.6)"}},children:"Return to Tests"})]}),!ue&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(Q.Z,{startIcon:(0,S.jsx)(_.Z,{}),onClick:Ie,sx:{mb:2,color:"secondary.main"},children:"Back to Tests"}),(0,S.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center",mb:3},children:[(0,S.jsxs)(d.Z,{children:[(0,S.jsxs)(u.Z,{variant:"h4",gutterBottom:!0,children:[C.title," - Student Evaluation"]}),(0,S.jsxs)(u.Z,{variant:"body1",color:"text.secondary",children:["Evaluating answers for student ID: ",c]})]}),(0,S.jsx)(fe.Z,{label:"Score: ".concat(Ke,"/").concat(Xe),color:"success",variant:"outlined",sx:{fontSize:"1rem",padding:"12px"}})]}),(0,S.jsx)(pe.Z,{variant:"outlined",sx:{p:2,mb:2,borderRadius:3},children:(0,S.jsx)(Te.Z,{activeStep:T,alternativeLabel:!0,children:C.questions.map((function(e,t){return(0,S.jsx)(Be.Z,{children:(0,S.jsx)(Ae.Z,{error:!1===R[e.question_id],completed:!0===R[e.question_id],StepIconComponent:function(e){return(0,S.jsx)(Me.Z,(0,o.Z)((0,o.Z)({},e),{},{sx:{"&.Mui-completed":{color:"success.main"},"&.Mui-active":{color:"primary.main"}}}))},children:"Q".concat(t+1)})},e.question_id)}))})}),(0,S.jsxs)(pe.Z,{elevation:2,sx:{p:3,mb:3,borderRadius:2},children:[(0,S.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start",mb:2},children:[(0,S.jsxs)(u.Z,{variant:"h6",sx:{color:"primary.main"},children:["Question ",T+1," of ",C.questions.length,Je&&(0,S.jsxs)("span",{style:{fontSize:"0.8rem",marginLeft:"10px",color:"text.secondary"},children:["(",Je," marks)"]})]}),void 0!==R[Ye.question_id]&&null!==R[Ye.question_id]&&(0,S.jsx)(fe.Z,{icon:R[Ye.question_id]?(0,S.jsx)(Qe.Z,{}):(0,S.jsx)(Ge,{}),label:R[Ye.question_id]?"Correct":"Incorrect",color:R[Ye.question_id]?"success":"error",variant:"outlined"})]}),(0,S.jsx)(u.Z,{variant:"body1",sx:{mb:3,fontSize:"1.1rem"},children:Ye.question}),(0,S.jsx)(ge.Z,{sx:{my:2}}),(0,S.jsx)(u.Z,{variant:"h6",gutterBottom:!0,sx:{mt:2},children:"Students Answer:"}),"mcq"===Ye.type?(0,S.jsxs)(Re.Z,{component:"fieldset",sx:{mt:1},children:[(0,S.jsx)(de.Z,{component:"legend",children:"Selected Option"}),(0,S.jsx)(qe.Z,{value:(null===Ye||void 0===Ye||null===(t=Ye.submitted_answer)||void 0===t?void 0:t.selected_option)||"",children:null===(n=Ye.options)||void 0===n?void 0:n.map((function(e,t){var n;return(0,S.jsx)(Fe.Z,{value:e,control:(0,S.jsx)(Oe.Z,{checked:(null===Ye||void 0===Ye||null===(n=Ye.submitted_answer)||void 0===n?void 0:n.selected_option)===e}),label:e,sx:{padding:"8px",borderRadius:"4px"}},t)}))}),Ye.mcq_correct_answer&&(0,S.jsxs)(u.Z,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Correct answer: ",Ye.mcq_correct_answer]})]}):(0,S.jsxs)(d.Z,{children:[(0,S.jsx)(pe.Z,{variant:"outlined",sx:{p:2,mb:2,backgroundColor:"grey.50",minHeight:"100px"},children:(0,S.jsx)(u.Z,{variant:"body1",children:Ye.submitted_answer.written_answer||"No answer provided"})}),Ye.submitted_answer.written_answer&&(0,S.jsxs)(u.Z,{variant:"body2",color:"text.secondary",sx:{mt:1},children:["Correct answer: ",Ye.submitted_answer.written_answer]})]}),(0,S.jsx)(ge.Z,{sx:{my:3}}),(0,S.jsx)(u.Z,{variant:"h6",gutterBottom:!0,children:"Evaluation:"}),(0,S.jsxs)(qe.Z,{row:!0,value:R[Ye.question_id],onChange:function(e){return t=Ye.question_id,n=e.target.value,void q((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,ze.Z)({},t,"true"===n))}));var t,n},sx:{gap:2},children:[(0,S.jsx)(Fe.Z,{value:!0,control:(0,S.jsx)(Oe.Z,{}),label:(0,S.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,S.jsx)(Qe.Z,{sx:{color:"success.main",mr:1}}),(0,S.jsx)(u.Z,{children:"Correct"})]})}),(0,S.jsx)(Fe.Z,{value:!1,control:(0,S.jsx)(Oe.Z,{}),label:(0,S.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center"},children:[(0,S.jsx)(Ge,{sx:{color:"error.main",mr:1}}),(0,S.jsx)(u.Z,{children:"Incorrect"})]})})]})]}),(0,S.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[(0,S.jsx)(Q.Z,{variant:"outlined",onClick:function(){T>0&&B(T-1)},disabled:0===T,children:"Previous"}),(0,S.jsx)(d.Z,{sx:{display:"flex",gap:1},children:T<C.questions.length-1?(0,S.jsx)(Q.Z,{variant:"contained",onClick:function(){T<C.questions.length-1&&B(T+1)},children:"Next Question"}):(0,S.jsx)(Q.Z,{variant:"contained",color:"success",onClick:We,disabled:ee,startIcon:ee?(0,S.jsx)(me.Z,{size:20}):(0,S.jsx)($e.Z,{}),children:"Save All Evaluations"})})]})]})]})},Ue=n(57482),Ke=n(89673),Xe=n(55818),et=n(3721),tt=n(57064),nt=n(62075),rt=n(54371),it=n(85667),st=n(3265),ot=n(37355),at=n(16908),lt=(n(91587),function(e){var t=e.course,n=e.student_id,a=(0,l.useState)([]),c=(0,s.Z)(a,2),v=c[0],j=c[1],f=(0,l.useState)([]),g=(0,s.Z)(f,2),b=g[0],y=g[1],w=(0,l.useState)(null),k=(0,s.Z)(w,2),C=k[0],P=k[1],W=(0,l.useState)(null),I=(0,s.Z)(W,2),L=I[0],T=I[1],B=(0,l.useState)(!1),A=(0,s.Z)(B,2),M=A[0],R=A[1],q=(0,l.useState)("testList"),F=(0,s.Z)(q,2),D=F[0],Y=F[1],V=(0,l.useState)(0),G=(0,s.Z)(V,2),U=G[0],K=G[1],X=(0,l.useState)(""),ee=(0,s.Z)(X,2),re=ee[0],ie=ee[1],se=(0,l.useState)(null),oe=(0,s.Z)(se,2),ae=oe[0],le=oe[1],ce=l.useMemo((function(){return null===t||void 0===t?void 0:t.map((function(e){return e.course_id}))}),[t]),de=(0,l.useCallback)((0,i.Z)((0,r.Z)().mark((function e(){var t,i,s;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(!0),t=null===ce||void 0===ce?void 0:ce.map((function(e){return te.Z.get("".concat(ne.t6,"api/test/course/").concat(e,"/").concat(n))})),e.next=5,Promise.all(t);case 5:i=e.sent,s=i.flatMap((function(e){return e.data.tests||[]})),j(s),T(null),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("Error fetching tests:",e.t0),T("Failed to load tests. Please try again later.");case 15:return e.prev=15,R(!1),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,11,15,18]])}))),[ce,n]),ue=(0,l.useCallback)(function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t){var i;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,R(!0),e.next=4,te.Z.get("".concat(ne.t6,"api/test/").concat(t,"/student/").concat(n,"/result"));case 4:i=e.sent,y(i.data.questions||[]),T(null),Y("results"),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching results:",e.t0),T("Failed to load results. Please try again later.");case 14:return e.prev=14,R(!1),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[0,10,14,17]])})));return function(t){return e.apply(this,arguments)}}(),[n]),xe=(0,l.useMemo)((function(){return v.filter((function(e){var t,n,r;if(!e)return!1;var i=!re||(null===(t=e.course_name)||void 0===t?void 0:t.toLowerCase().includes(re.toLowerCase()))||(null===(n=e.description)||void 0===n?void 0:n.toLowerCase().includes(re.toLowerCase()))||(null===(r=e.test_name)||void 0===r?void 0:r.toLowerCase().includes(re.toLowerCase())),s=!ae||e.course_id===ae.course_id;return i&&s}))}),[v,ae,re]);(0,l.useEffect)((function(){de()}),[de]);var he=function(){if(!b||0===b.length)return null;var e=b.length,t=b.filter((function(e){return e.is_correct})).length,n=b.reduce((function(e,t){return e+(t.marks||0)}),0),r=b.reduce((function(e,t){return e+(t.is_correct&&t.marks||0)}),0);return{totalQuestions:e,correctAnswers:t,totalMarks:n,earnedMarks:r,percentage:(r/n*100).toFixed(1)}}();return M?(0,S.jsx)(d.Z,{sx:{p:3,textAlign:"center"},children:(0,S.jsx)(u.Z,{variant:"h6",children:"Loading..."})}):L?(0,S.jsx)(d.Z,{sx:{p:3},children:(0,S.jsx)(Le.Z,{severity:"error",sx:{mb:2},children:L})}):"results"===D&&b.length>0&&C?(0,S.jsxs)(d.Z,{sx:{p:3},children:[(0,S.jsx)(Q.Z,{startIcon:(0,S.jsx)(_.Z,{}),onClick:function(){P(null),y([]),Y("testList"),K(0),T(null)},sx:{mb:3},children:"Back to Tests"}),(0,S.jsxs)(d.Z,{sx:{textAlign:"center",mb:4},children:[(0,S.jsxs)(u.Z,{variant:"h3",gutterBottom:!0,children:[C.test_name," - Results"]}),(0,S.jsx)(u.Z,{variant:"subtitle1",color:"text.secondary",children:"Your performance summary"})]}),(0,S.jsxs)(x.ZP,{container:!0,spacing:3,sx:{mb:4},children:[(0,S.jsx)(x.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,S.jsxs)(pe.Z,{sx:{p:3,textAlign:"center"},children:[(0,S.jsx)(nt.Z,{color:"primary",sx:{fontSize:40,mb:1}}),(0,S.jsxs)(u.Z,{variant:"h4",gutterBottom:!0,children:[he.earnedMarks,"/",he.totalMarks]}),(0,S.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:"Total Score"})]})}),(0,S.jsx)(x.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,S.jsxs)(pe.Z,{sx:{p:3,textAlign:"center"},children:[(0,S.jsx)(rt.Z,{color:"primary",sx:{fontSize:40,mb:1}}),(0,S.jsxs)(u.Z,{variant:"h4",gutterBottom:!0,children:[he.percentage,"%"]}),(0,S.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:"Percentage"})]})}),(0,S.jsx)(x.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,S.jsxs)(pe.Z,{sx:{p:3,textAlign:"center"},children:[(0,S.jsx)(it.Z,{color:"primary",sx:{fontSize:40,mb:1}}),(0,S.jsxs)(u.Z,{variant:"h4",gutterBottom:!0,children:[he.correctAnswers,"/",he.totalQuestions]}),(0,S.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:"Correct Answers"})]})}),(0,S.jsx)(x.ZP,{item:!0,xs:12,sm:6,md:3,children:(0,S.jsxs)(pe.Z,{sx:{p:3,textAlign:"center"},children:[(0,S.jsx)(st.Z,{color:"primary",sx:{fontSize:40,mb:1}}),(0,S.jsx)(u.Z,{variant:"h4",gutterBottom:!0,children:he.totalQuestions}),(0,S.jsx)(u.Z,{variant:"body2",color:"text.secondary",children:"Total Questions"})]})})]}),(0,S.jsxs)(pe.Z,{sx:{p:3,mb:4},children:[(0,S.jsx)(u.Z,{variant:"h6",gutterBottom:!0,children:"Performance Breakdown"}),(0,S.jsxs)(d.Z,{sx:{mb:2},children:[(0,S.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,S.jsx)(u.Z,{variant:"body2",children:"Overall Score"}),(0,S.jsxs)(u.Z,{variant:"body2",children:[he.percentage,"%"]})]}),(0,S.jsx)(Ue.Z,{variant:"determinate",value:Number(he.percentage),sx:{height:10,borderRadius:5},color:he.percentage>=80?"success":he.percentage>=60?"primary":"error"})]})]}),(0,S.jsx)(pe.Z,{sx:{width:"100%",mb:2},children:(0,S.jsx)(p.Z,{value:U,onChange:function(e,t){K(t)},centered:!0,children:(0,S.jsx)(Z.Z,{label:"Question Review"})})}),0===U&&(0,S.jsxs)(d.Z,{children:[(0,S.jsx)(u.Z,{variant:"h5",gutterBottom:!0,sx:{mb:3},children:"Question-by-Question Review"}),(0,S.jsx)(x.ZP,{container:!0,spacing:2,children:b.map((function(e,t){return(0,S.jsx)(x.ZP,{item:!0,xs:12,sm:6,md:4,children:(0,S.jsxs)(Ke.Z,{sx:{mb:2},children:[(0,S.jsx)(Xe.Z,{expandIcon:(0,S.jsx)(ot.Z,{}),children:(0,S.jsxs)(d.Z,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[(0,S.jsxs)(u.Z,{sx:{width:"33%",flexShrink:0},children:["Question ",t+1]}),(0,S.jsx)(fe.Z,{icon:e.is_correct?(0,S.jsx)(Qe.Z,{}):(0,S.jsx)(He.Z,{}),label:e.is_correct?"Correct":"Incorrect",color:e.is_correct?"success":"error",size:"small",sx:{mr:2}}),(0,S.jsxs)(u.Z,{sx:{color:"text.secondary"},children:[e.marks," mark",e.marks>1?"s":""]})]})}),(0,S.jsxs)(et.Z,{children:[(0,S.jsx)(u.Z,{variant:"h6",gutterBottom:!0,children:e.question}),"mcq"===e.type?(0,S.jsxs)(d.Z,{children:[(0,S.jsx)(u.Z,{variant:"body2",gutterBottom:!0,sx:{mt:2,fontWeight:"bold"},children:"Options:"}),(0,S.jsx)(Ze.Z,{children:e.options.map((function(t,n){return(0,S.jsxs)(ve.ZP,{children:[(0,S.jsx)(tt.Z,{children:t===e.student_answer?e.is_correct?(0,S.jsx)(Qe.Z,{color:"success"}):(0,S.jsx)(He.Z,{color:"error"}):t===e.correct_answer?(0,S.jsx)(Qe.Z,{color:"success"}):null}),(0,S.jsx)(je.Z,{primary:t,sx:{backgroundColor:t===e.correct_answer?"success.light":t!==e.student_answer||e.is_correct?"transparent":"error.light",p:1,borderRadius:1}})]},n)}))}),(0,S.jsxs)(u.Z,{variant:"body2",sx:{mt:2},children:[(0,S.jsx)("strong",{children:"Your answer:"})," ",e.student_answer||"Not answered"]}),!e.is_correct&&e.correct_answer&&(0,S.jsxs)(u.Z,{variant:"body2",children:[(0,S.jsx)("strong",{children:"Correct answer:"})," ",e.correct_answer]})]}):(0,S.jsxs)(d.Z,{children:[(0,S.jsx)(u.Z,{variant:"body2",gutterBottom:!0,sx:{mt:2,fontWeight:"bold"},children:"Your answer:"}),(0,S.jsx)(pe.Z,{variant:"outlined",sx:{p:2,backgroundColor:"grey.50"},children:(0,S.jsx)(u.Z,{children:e.student_answer||"No answer provided"})}),e.correct_answer&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(u.Z,{variant:"body2",gutterBottom:!0,sx:{mt:2,fontWeight:"bold"},children:"Model answer:"}),(0,S.jsx)(pe.Z,{variant:"outlined",sx:{p:2,backgroundColor:"success.light"},children:(0,S.jsx)(u.Z,{children:e.correct_answer})})]})]}),(0,S.jsx)(d.Z,{sx:{mt:2,display:"flex",justifyContent:"flex-end"},children:(0,S.jsx)(fe.Z,{label:"Score: ".concat(e.is_correct?e.marks:0,"/").concat(e.marks),color:e.is_correct?"success":"error",variant:"outlined"})})]})]})},e.question_id)}))})]})]}):(0,S.jsxs)(d.Z,{sx:{p:3},children:[(0,S.jsx)(x.ZP,{container:!0,justifyContent:"space-between",alignItems:"center",mb:2,spacing:2,children:(0,S.jsx)(x.ZP,{item:!0,xs:12,children:(0,S.jsxs)(h.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,S.jsx)(O.Z,{fullWidth:!0,size:"small",variant:"outlined",placeholder:"Search...",value:re,onChange:function(e){return ie(e.target.value)},InputProps:{startAdornment:(0,S.jsx)(N.Z,{position:"start",children:(0,S.jsx)($.Z,{size:20})}),endAdornment:(0,S.jsx)(N.Z,{position:"end",children:re&&(0,S.jsx)(m.Z,{onClick:function(){ie("")},edge:"end",size:"small",children:(0,S.jsx)(J.Z,{size:20})})})},sx:{width:220}}),(0,S.jsx)(H.Z,{id:"course_id",options:t||[],getOptionLabel:function(e){return e.course_name||""},value:ae,onChange:function(e,t){le(t)},size:"medium",sx:{maxWidth:250,flexGrow:1},renderInput:function(e){return(0,S.jsx)(O.Z,(0,o.Z)((0,o.Z)({},e),{},{placeholder:"Filter by course...",InputProps:(0,o.Z)({},e.InputProps)}))},filterOptions:function(){var e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).filter((function(t){var n;return null===(n=t.course_name)||void 0===n?void 0:n.toLowerCase().includes(e.inputValue.toLowerCase())}))},isOptionEqualToValue:function(e,t){return e.course_id===t.course_id},renderOption:function(e,t){return(0,l.createElement)("li",(0,o.Z)((0,o.Z)({},e),{},{key:t.course_id}),t.course_name)}})]})})}),xe&&xe.length>0?(0,S.jsx)(x.ZP,{container:!0,spacing:2,children:xe.map((function(e){return(0,S.jsx)(x.ZP,{item:!0,xs:12,md:6,lg:4,children:(0,S.jsx)(E.Z,{sx:{cursor:"pointer",height:"100%",display:"flex",flexDirection:"column",transition:"all 0.3s ease",border:"1px solid",borderColor:"divider",borderRadius:3,"&:hover":{transform:"translateY(-4px)",boxShadow:"0 12px 24px rgba(0,0,0,0.15)",borderColor:"secondary.light"}},children:(0,S.jsxs)(z.Z,{sx:{p:3,flexGrow:1},children:[(0,S.jsxs)(d.Z,{sx:{display:"flex",alignItems:"flex-start",justifyContent:"space-between",flexWrap:"wrap",mb:1},children:[(0,S.jsx)(u.Z,{variant:"h6",sx:{flex:1,fontWeight:600,lineHeight:1.3,wordBreak:"break-word",whiteSpace:"pre-line"},children:e.test_name}),(0,S.jsx)(fe.Z,{label:e.course_name,color:"secondary",variant:"outlined",size:"small",sx:{ml:2,backgroundColor:"secondary.light",color:"secondary.dark",fontWeight:600,alignSelf:"flex-end",flexShrink:0,whiteSpace:"nowrap"}})]}),(0,S.jsx)(u.Z,{variant:"body2",color:"text.secondary",sx:{mb:3,lineHeight:1.6,display:"-webkit-box",WebkitLineClamp:3,WebkitBoxOrient:"vertical",overflow:"hidden"},children:e.description||"Attend all the questions."}),(0,S.jsxs)(d.Z,{sx:{backgroundColor:"grey.50",p:2,borderRadius:2,border:"1px solid",borderColor:"divider"},children:[(0,S.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"space-between",mb:1},children:[(0,S.jsx)(u.Z,{variant:"body2",sx:{fontWeight:500},children:"Questions:"}),(0,S.jsx)(u.Z,{variant:"body2",sx:{fontWeight:600},children:e.question_count})]}),(0,S.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"space-between"},children:[(0,S.jsx)(u.Z,{variant:"body2",sx:{fontWeight:500},children:"Total Marks:"}),(0,S.jsx)(u.Z,{variant:"body2",sx:{fontWeight:600},children:e.total_marks})]})]}),(0,S.jsx)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"stretch",gap:1,mt:3},children:e.correction_done?(0,S.jsxs)(d.Z,{sx:{width:"100%",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap"},children:[(0,S.jsx)(Q.Z,{size:"small",color:"primary",endIcon:(0,S.jsx)(at.Z,{}),onClick:function(){return function(e){P(e),T(null),ue(e.test_id)}(e)},children:"View Results"}),(0,S.jsxs)(d.Z,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-end",textAlign:"right"},children:[(0,S.jsx)(u.Z,{variant:"caption",color:"text.secondary",children:"Corrected by"}),(0,S.jsxs)(u.Z,{variant:"subtitle2",sx:{fontWeight:600},children:[e.evaluated_by.full_name," (",e.evaluated_by.employee_id,")"]})]})]}):e.test_completion?(0,S.jsx)(fe.Z,{label:"Submitted",color:"success",size:"small",sx:{fontWeight:600,alignSelf:"flex-start",px:1}}):(0,S.jsx)(fe.Z,{className:"warning-chip",label:"Pending",color:"warning",size:"small",sx:{fontWeight:600,alignSelf:"flex-start",px:1}})})]})})},e.test_id)}))}):(0,S.jsx)(x.ZP,{item:!0,xs:12,children:(0,S.jsx)(E.Z,{sx:{p:3,textAlign:"center"},children:(0,S.jsx)(u.Z,{variant:"h6",color:"text.secondary",children:"No tests available for this course."})})})]})}),ct=["children","value","index"];function dt(e){var t=e.children,n=e.value,r=e.index,i=(0,a.Z)(e,ct);return(0,S.jsx)("div",(0,o.Z)((0,o.Z)({role:"tabpanel",hidden:n!==r,id:"simple-tabpanel-".concat(r),"aria-labelledby":"simple-tab-".concat(r)},i),{},{children:n===r&&(0,S.jsx)(d.Z,{sx:{pt:2},children:t})}))}var ut=function(){var e,t,n=(0,v.s0)(),a=(0,v.TH)().state||{},P=a.name,I=a.student_id,E=a.notification,z=a.user_type,L=JSON.parse(localStorage.getItem("auth")),T=null===L||void 0===L?void 0:L.loginType,B=(null===L||void 0===L||null===(e=L.user)||void 0===e?void 0:e.employee_id)||(null===L||void 0===L||null===(t=L.user)||void 0===t?void 0:t.user_id),A="tutor"!==T,M="tutor"===z,R="admin"===z,F=[{id:"profile",label:"Profile",icon:(0,S.jsx)(j.Z,{})},{id:"attendance",label:"Attendance",icon:(0,S.jsx)(f.Z,{})},{id:"syllabus",label:"Syllabus",icon:(0,S.jsx)(f.Z,{})},{id:"topics",label:"Topics",icon:(0,S.jsx)(j.Z,{})},{id:"exercise",label:"Exercise",icon:(0,S.jsx)(g.Z,{})},{id:"recording",label:"Recording",icon:(0,S.jsx)(b.Z,{})},{id:"assessments",label:"Assessments",icon:(0,S.jsx)(y.Z,{})}].filter((function(e){if(M){if(["attendance"].includes(e.id))return!0;if(["syllabus","recording","topics","exercise","assessments"].includes(e.id))return!1;if("profile"===e.id)return A}else{if(!R)return!["profile","recording"].includes(e.id)||A;if(["syllabus","recording","topics","exercise","assessments","attendance"].includes(e.id))return!1;if("profile"===e.id)return A}return!0})),O={};F.forEach((function(e,t){O[e.id]=t}));var N=(0,l.useState)(function(e){if(!e)return 0;var t={profile:"profile",attendance:"attendance",syllabus:"syllabus",topic:"topics",topics:"topics",exercise:"exercise",recording:"recording",assessments:"assessments",assessment:A?"recording":"assessments"}[e.toLowerCase()];return O[t]||0}(E)),H=(0,s.Z)(N,2),D=H[0],Y=H[1],V=(0,l.useState)(null),Q=(0,s.Z)(V,2),G=Q[0],$=Q[1],J=(0,l.useState)(null),U=(0,s.Z)(J,2),K=U[0],X=U[1],ee=(0,l.useState)(!0),ie=(0,s.Z)(ee,2),se=ie[0],oe=ie[1],ae=(0,l.useState)(null),le=(0,s.Z)(ae,2),ce=le[0],de=le[1],ue=(0,l.useCallback)((0,i.Z)((0,r.Z)().mark((function e(){var t,n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!M){e.next=9;break}return e.next=4,te.Z.get("".concat(ne.t6,"api/trainers/").concat(I));case 4:t=e.sent,$(t.data.data),X(t.data.course),e.next=27;break;case 9:if(!R){e.next=16;break}return e.next=12,te.Z.get("".concat(ne.t6,"api/ad_employee/").concat(I));case 12:t=e.sent,$(t.data.data),e.next=27;break;case 16:if("tutor"!==T){e.next=22;break}return e.next=19,te.Z.get("".concat(ne.t6,"api/trainer/").concat(B,"/student_list/").concat(I));case 19:t=e.sent,e.next=25;break;case 22:return e.next=24,te.Z.get("".concat(ne.t6,"api/student_profile/").concat(I));case 24:t=e.sent;case 25:n=t.data,$(n.data);case 27:e.next=32;break;case 29:e.prev=29,e.t0=e.catch(0),de(e.t0.message);case 32:return e.prev=32,oe(!1),e.finish(32);case 35:case"end":return e.stop()}}),e,null,[[0,29,32,35]])}))),[I,B,T,M,R]);(0,l.useEffect)((function(){ue()}),[ue]);return se?(0,S.jsx)(d.Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:(0,S.jsxs)(u.Z,{variant:"h6",children:["Loading data for ",P,"..."]})}):ce?(0,S.jsx)(d.Z,{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"200px",children:(0,S.jsxs)(u.Z,{color:"error",children:["Error: ",ce]})}):(0,S.jsxs)(w._,{dateAdapter:k.H,children:[(0,S.jsx)(x.ZP,{container:!0,spacing:3,sx:{position:"absolute",top:18,left:"50%",zIndex:1,width:"50%"},children:(0,S.jsx)(x.ZP,{item:!0,xs:12,sx:{justifyItems:"flex-end"},children:(0,S.jsx)(h.Z,{sx:{mb:{xs:-.5,sm:.5}},spacing:1,children:(0,S.jsxs)(m.Z,{variant:"contained",color:"secondary",size:"medium",onClick:function(){return n(-1)},sx:{width:100,gap:1},children:[(0,S.jsx)(_.Z,{}),"Back"]})})})}),(0,S.jsx)(c.Z,{children:(0,S.jsxs)(x.ZP,{container:!0,spacing:4,children:[(0,S.jsx)(x.ZP,{item:!0,xs:12,children:(0,S.jsx)(h.Z,{spacing:1,mb:2,children:(0,S.jsxs)(u.Z,{variant:"h4",children:[M?"Tutor":"Student"," Name: ",(0,C.Z)(P)]})})}),(0,S.jsx)(x.ZP,{item:!0,xs:12,children:(0,S.jsxs)(d.Z,{sx:{width:"100%"},children:[(0,S.jsx)(d.Z,{sx:{borderBottom:1,borderColor:"divider",py:2,px:4,bgcolor:"background.paper"},children:(0,S.jsx)(p.Z,{value:D,onChange:function(e,t){Y(t)},variant:"scrollable",scrollButtons:"auto","aria-label":"student tabs",children:F.map((function(e,t){return(0,S.jsx)(Z.Z,(0,o.Z)({className:"tabs",label:e.label,icon:e.icon,iconPosition:"start"},function(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}(t)),e.id)}))})}),F.map((function(e,t){return(0,S.jsxs)(dt,{value:D,index:t,children:["profile"===e.id&&(0,S.jsx)(W,{data:G||[]}),"attendance"===e.id&&(0,S.jsx)(re,{attendance:(null===G||void 0===G?void 0:G.attendance)||[],course:K||(null===G||void 0===G?void 0:G.course)||(null===G||void 0===G?void 0:G.courses_assigned)||[],student_id:I,batch:(null===G||void 0===G?void 0:G.batch)||[],user_type:z}),"syllabus"===e.id&&(0,S.jsx)(q,{courses:null===G||void 0===G?void 0:G.course_detail}),"topics"===e.id&&(0,S.jsx)(he,{topics:null===G||void 0===G?void 0:G.course_detail,completedTopics:null===G||void 0===G?void 0:G.studenttopicstatus}),"exercise"===e.id&&(0,S.jsx)(we,{data:(null===G||void 0===G?void 0:G.assignment)||[]}),"recording"===e.id&&(0,S.jsx)(Ee,{StuId:null===G||void 0===G?void 0:G.student_id}),"assessments"===e.id&&("tutor"===T||"admin"===T?(0,S.jsx)(Je,{course:null===G||void 0===G?void 0:G.course_detail,student_id:I}):(0,S.jsx)(lt,{course:null===G||void 0===G?void 0:G.course_detail,student_id:I}))]},e.id)}))]})})]})})]})}},78045:function(e,t,n){n.d(t,{o:function(){return s}});var r=n(29439),i=n(23197),s=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=n.includeTime,o=void 0===s||s,a=n.includeSeconds,l=void 0!==a&&a,c=n.timeOnly,d=void 0!==c&&c,u=n.useCurrentIfEmpty,x=void 0!==u&&u,h=n.fallback,m=void 0===h?"":h;if(e)if("string"===typeof e&&/^\d{1,2}:\d{2}(:\d{2})?$/.test(e)){var p=e.split(":").map(Number),Z=(0,r.Z)(p,3),v=Z[0],j=Z[1],f=Z[2];(t=new Date).setHours(v,j,f||0,0)}else t=e instanceof Date?e:new Date(e);else{if(!x)return m;t=new Date}if(isNaN(t.getTime()))return m;var g=function(e,t){var n=t.getHours(),r=n>=12,i={yyyy:t.getFullYear(),yy:String(t.getFullYear()).slice(-2),MM:String(t.getMonth()+1).padStart(2,"0"),M:t.getMonth()+1,dd:String(t.getDate()).padStart(2,"0"),d:t.getDate(),HH:String(n).padStart(2,"0"),H:n,hh:String(n%12||12).padStart(2,"0"),h:n%12||12,mm:String(t.getMinutes()).padStart(2,"0"),m:t.getMinutes(),ss:String(t.getSeconds()).padStart(2,"0"),s:t.getSeconds(),a:r?"PM":"AM"};return e.replace(/(yyyy|yy|MM|M|dd|d|HH|H|hh|h|mm|m|ss|s|a)/g,(function(e){return i[e]||e}))};if(d){var b=i.ZP.timeFormat;return l||(b=(b=(b=b.replace(/:ss?/g,"")).replace(/(^|\s)ss?(\s|$)/g,"$1$2")).replace(/::/g,":").replace(/(\s|^):|:(\s|$)/g,"$1$2")),g(b,t)}if(o){var y=g(i.ZP.dateFormat,t),_=i.ZP.timeFormat;l||(_=(_=_.replace(/[:\\/]?ss?/g,"")).replace(/::/g,":").replace(/:$/,""));var w=g(_,t);return"".concat(y," ").concat(w)}return g(i.ZP.dateFormat,t)}},95683:function(e,t,n){var r=n(74223),i=n(80184);t.Z=(0,r.Z)((0,i.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save")},63108:function(e,t,n){n.d(t,{Z:function(){return m}});var r=n(97573),i=n(72791),s=n(52007),o=n.n(s),a=["variant","color","size"],l=function(e){var t=e.color;return i.createElement(i.Fragment,null,i.createElement("path",{d:"M11.969 2c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.47-10-10-10Zm.03 14.23c-2.34 0-4.23-1.89-4.23-4.23 0-2.34 1.89-4.23 4.23-4.23 2.34 0 4.23 1.89 4.23 4.23 0 2.34-1.89 4.23-4.23 4.23Z",fill:t}))},c=function(e){var t=e.color;return i.createElement(i.Fragment,null,i.createElement("path",{d:"M16.23 12c0-2.34-1.89-4.23-4.23-4.23-2.34 0-4.23 1.89-4.23 4.23 0 2.34 1.89 4.23 4.23 4.23.57 0 1.11-.11 1.6-.31",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M4 6c-1.25 1.67-2 3.75-2 6 0 5.52 4.48 10 10 10s10-4.48 10-10S17.52 2 12 2c-1.43 0-2.8.3-4.03.85",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))},d=function(e){var t=e.color;return i.createElement(i.Fragment,null,i.createElement("path",{opacity:".4",d:"M11.969 22c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10Z",fill:t}),i.createElement("path",{d:"M12 16.23a4.23 4.23 0 1 0 0-8.46 4.23 4.23 0 0 0 0 8.46Z",fill:t}))},u=function(e){var t=e.color;return i.createElement(i.Fragment,null,i.createElement("path",{d:"M11.97 22c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M12 16.23a4.23 4.23 0 1 0 0-8.46 4.23 4.23 0 0 0 0 8.46Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))},x=function(e){var t=e.color;return i.createElement(i.Fragment,null,i.createElement("path",{d:"M11.969 22.75c-5.92 0-10.75-4.82-10.75-10.75s4.83-10.75 10.75-10.75S22.719 6.07 22.719 12s-4.82 10.75-10.75 10.75Zm0-20c-5.1 0-9.25 4.15-9.25 9.25s4.15 9.25 9.25 9.25 9.25-4.15 9.25-9.25-4.15-9.25-9.25-9.25Z",fill:t}),i.createElement("path",{d:"M12 16.98a4.98 4.98 0 1 1 0-9.961 4.98 4.98 0 0 1 0 9.96Zm0-8.46c-1.92 0-3.48 1.56-3.48 3.48s1.56 3.48 3.48 3.48 3.48-1.56 3.48-3.48S13.92 8.52 12 8.52Z",fill:t}))},h=function(e){var t=e.color;return i.createElement(i.Fragment,null,i.createElement("path",{d:"M11.969 22c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10Z",stroke:t,strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{opacity:".4",d:"M12 16.23a4.23 4.23 0 1 0 0-8.46 4.23 4.23 0 0 0 0 8.46Z",stroke:t,strokeWidth:"1.5",strokeMiterlimit:"10",strokeLinecap:"round",strokeLinejoin:"round"}))},m=(0,i.forwardRef)((function(e,t){var n=e.variant,s=e.color,o=e.size,m=(0,r._)(e,a);return i.createElement("svg",(0,r.a)({},m,{xmlns:"http://www.w3.org/2000/svg",ref:t,width:o,height:o,viewBox:"0 0 24 24",fill:"none"}),function(e,t){switch(e){case"Bold":return i.createElement(l,{color:t});case"Broken":return i.createElement(c,{color:t});case"Bulk":return i.createElement(d,{color:t});case"Linear":default:return i.createElement(u,{color:t});case"Outline":return i.createElement(x,{color:t});case"TwoTone":return i.createElement(h,{color:t})}}(n,s))}));m.propTypes={variant:o().oneOf(["Linear","Bold","Broken","Bulk","Outline","TwoTone"]),color:o().string,size:o().oneOfType([o().string,o().number])},m.defaultProps={variant:"Linear",color:"currentColor",size:"24"},m.displayName="RecordCircle"},69977:function(){}}]);
//# sourceMappingURL=9710.ae8c6e24.chunk.js.map